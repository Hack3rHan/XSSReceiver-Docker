var jqxBaseFramework=window.minQuery||window.jQuery;(function(e){e.jqx=e.jqx||{};e.jqx.define=function(a,b,c){a[b]=function(){this.baseType&&(this.base=new a[this.baseType],this.base.defineInstance());this.defineInstance()};a[b].prototype.defineInstance=function(){};a[b].prototype.base=null;a[b].prototype.baseType=void 0;c&&a[c]&&(a[b].prototype.baseType=c)};e.jqx.invoke=function(a,b){if(0!=b.length){for(var c=typeof b==Array||0<b.length?b[0]:b,f=typeof b==Array||1<b.length?Array.prototype.slice.call(b,1):e({}).toArray();void 0==a[c]&&null!=a.base;){if(void 0!=a[c]&&e.isFunction(a[c]))return a[c].apply(a,f);if("string"==typeof c){var d=c.toLowerCase();if(void 0!=a[d]&&e.isFunction(a[d]))return a[d].apply(a,f)}a=a.base}if(void 0!=a[c]&&e.isFunction(a[c]))return a[c].apply(a,f);if("string"==typeof c&&(d=c.toLowerCase(),void 0!=a[d]&&e.isFunction(a[d])))return a[d].apply(a,f)}};e.jqx.hasProperty=function(a,b){if("object"==typeof b)for(var c in b){for(var f=a;f;){if(f.hasOwnProperty(c)||f.hasOwnProperty(c.toLowerCase()))return!0;f=f.base}break}else for(;a;){if(a.hasOwnProperty(b)||a.hasOwnProperty(b.toLowerCase()))return!0;a=a.base}return!1};e.jqx.hasFunction=function(a,b){if(0==b.length||void 0==a)return!1;var c=typeof b==Array||0<b.length?b[0]:b;for((typeof b==Array||1<b.length)&&Array.prototype.slice.call(b,1);void 0==a[c]&&null!=a.base;){if(a[c]&&e.isFunction(a[c]))return!0;if("string"==typeof c){var f=c.toLowerCase();if(a[f]&&e.isFunction(a[f]))return!0}a=a.base}return a[c]&&e.isFunction(a[c])||"string"==typeof c&&(f=c.toLowerCase(),a[f]&&e.isFunction(a[f]))?!0:!1};e.jqx.isPropertySetter=function(a,b){return 1==b.length&&"object"==typeof b[0]||2==b.length&&"string"==typeof b[0]&&!e.jqx.hasFunction(a,b)?!0:!1};e.jqx.validatePropertySetter=function(a,b,c){if(!e.jqx.propertySetterValidation)return!0;if(1==b.length&&"object"==typeof b[0]){for(var f in b[0]){for(b=a;!b.hasOwnProperty(f)&&b.base;)b=b.base;if(!b||!b.hasOwnProperty(f)){if(!c)if(b.hasOwnProperty(f.toString().toLowerCase()))break;else throw"Invalid property: "+f;return!1}}return!0}if(2!=b.length){if(!c)throw 0<="Invalid property: "+b.length?b[0]:"";return!1}for(;!a.hasOwnProperty(b[0])&&a.base;)a=a.base;if(!a||!a.hasOwnProperty(b[0])){if(!c)throw"Invalid property: "+b[0];return!1}return!0};e.jqx.set=function(a,b){var c=0;if(1==b.length&&"object"==typeof b[0]){if(a.isInitialized&&Object.keys&&1<Object.keys(b[0]).length){var f=e.data(a.base?a.base.element:a.element,a.widgetName).initArgs;if(JSON&&JSON.stringify&&b[0]&&f[0])try{if(JSON.stringify(b[0])==JSON.stringify(f[0]))return}catch(h){}a.batchUpdate=b[0];var d={},g={};e.each(b[0],function(b,f){for(var e=a;!e.hasOwnProperty(b)&&null!=e.base;)e=e.base;e.hasOwnProperty(b)?a[b]!=f&&(d[b]=a[b],g[b]=f,c++):e.hasOwnProperty(b.toLowerCase())&&a[b.toLowerCase()]!=f&&(d[b.toLowerCase()]=a[b.toLowerCase()],g[b.toLowerCase()]=f,c++)});2>c&&(a.batchUpdate=null)}e.each(b[0],function(c,b){for(var f=a;!f.hasOwnProperty(c)&&null!=f.base;)f=f.base;if(f.hasOwnProperty(c))e.jqx.setvalueraiseevent(f,c,b);else if(f.hasOwnProperty(c.toLowerCase()))e.jqx.setvalueraiseevent(f,c.toLowerCase(),b);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+c+"'";});null!=a.batchUpdate&&(a.batchUpdate=null,a.propertiesChangedHandler&&1<c&&a.propertiesChangedHandler(a,d,g))}else if(2==b.length){for(;!a.hasOwnProperty(b[0])&&a.base;)a=a.base;if(a.hasOwnProperty(b[0]))e.jqx.setvalueraiseevent(a,b[0],b[1]);else if(a.hasOwnProperty(b[0].toLowerCase()))e.jqx.setvalueraiseevent(a,b[0].toLowerCase(),b[1]);else if(e.jqx.propertySetterValidation)throw"jqxCore: invalid property '"+b[0]+"'";}};e.jqx.setvalueraiseevent=function(a,b,c){var f=a[b];a[b]=c;if(a.isInitialized&&(void 0!=a.propertyChangedHandler&&a.propertyChangedHandler(a,b,f,c),void 0!=a.propertyChangeMap&&void 0!=a.propertyChangeMap[b]))a.propertyChangeMap[b](a,b,f,c)};e.jqx.get=function(a,b){if(void 0!=b&&null!=b){if(a.propertyMap){var c=a.propertyMap(b);if(null!=c)return c}if(a.hasOwnProperty(b))return a[b];if(a.hasOwnProperty(b.toLowerCase()))return a[b.toLowerCase()];c=void 0;if(typeof b==Array){if(1!=b.length)return;c=b[0]}else"string"==typeof b&&(c=b);for(;!a.hasOwnProperty(c)&&a.base;)a=a.base;if(a)return a[c]}};e.jqx.serialize=function(a){var b="";if(e.isArray(a)){for(var b="[",c=0;c<a.length;c++)0<c&&(b+=", "),b+=e.jqx.serialize(a[c]);b+="]"}else if("object"==typeof a){var b="{",f=0;for(c in a)0<f++&&(b+=", "),b+=c+": "+e.jqx.serialize(a[c]);b+="}"}else b=a.toString();return b};e.jqx.propertySetterValidation=!0;e.jqx.jqxWidgetProxy=function(a,b,c){e(b);a=e.data(b,a);if(void 0!=a){a=a.instance;if(e.jqx.hasFunction(a,c))return e.jqx.invoke(a,c);if(e.jqx.isPropertySetter(a,c)){if(e.jqx.validatePropertySetter(a,c)){e.jqx.set(a,c);return}}else{if("object"==typeof c&&0==c.length)return;if("object"==typeof c&&1==c.length&&e.jqx.hasProperty(a,c[0]))return e.jqx.get(a,c[0]);if("string"==typeof c&&e.jqx.hasProperty(a,c[0]))return e.jqx.get(a,c)}throw"jqxCore: Invalid parameter '"+e.jqx.serialize(c)+"' does not exist.";}};e.jqx.applyWidget=function(a,b,c,f){var d=!1;try{d=void 0!=window.MSApp}catch(m){}var g=e(a);f?(f.host=g,f.element=a):f=new e.jqx["_"+b];""==a.id&&(a.id=e.jqx.utilities.createId());var h={host:g,element:a,instance:f,initArgs:c};f.widgetName=b;e.data(a,b,h);e.data(a,"jqxWidget",h.instance);var l=[];for(f=h.instance;f;)f.isInitialized=!1,l.push(f),f=f.base;l.reverse();l[0].theme=e.jqx.theme||"";e.jqx.jqxWidgetProxy(b,a,c);for(var k in l)f=l[k],0==k&&(f.host=g,f.element=a,f.WinJS=d),void 0!=f&&(f.definedInstance&&f.definedInstance(),null!=f.createInstance&&(d?MSApp.execUnsafeLocalFunction(function(){f.createInstance(c)}):f.createInstance(c)));for(k in l)void 0!=l[k]&&(l[k].isInitialized=!0);d?MSApp.execUnsafeLocalFunction(function(){h.instance.refresh(!0)}):h.instance.refresh(!0)};e.jqx.jqxWidget=function(a,b,c){try{jqxArgs=Array.prototype.slice.call(c,0)}catch(h){jqxArgs=""}var f="";b&&(f="_"+b);e.jqx.define(e.jqx,"_"+a,f);var d=[];if(!window[a]){var g=function(a){if(null==a)return"";switch(e.type(a)){case "string":case "number":case "date":case "boolean":case "bool":return null===a?"":a.toString()}var c="";e.each(a,function(a){0<a&&(c+=", ");c+="[";var b=0;if("object"==e.type(this))for(var f in this)0<b&&(c+=", "),c+="{"+f+":"+this[f]+"}",b++;else 0<b&&(c+=", "),c+="{"+a+":"+this+"}";c+="]"});return c};window[a]=function(c,b){var f=[];b||(b={});f.push(b);var m=c;"object"===e.type(m)&&c[0]&&(m=c[0].id,""===m&&(m=c[0].id=e.jqx.utilities.createId()));if(window.jqxWidgets&&window.jqxWidgets[m]){b&&e.each(window.jqxWidgets[m],function(c){if((c=e(this.element).data())&&c.jqxWidget)e(this.element)[a](b)});if(1==window.jqxWidgets[m].length){var n=e(window.jqxWidgets[m][0].widgetInstance.element).data();if(n&&n.jqxWidget)return window.jqxWidgets[m][0]}if((n=e(window.jqxWidgets[m][0].widgetInstance.element).data())&&n.jqxWidget)return window.jqxWidgets[m]}var p=e(c);if(0===p.length)throw Error("Invalid Selector - "+c+"! Please, check whether the used ID or CSS Class name is correct.");var q=[];e.each(p,function(c){c=p[c];var b=null;if(!d[a]){var h=c.id;c.id="";b=e(c).clone();c.id=h}e.jqx.applyWidget(c,a,f,void 0);if(!d[a]){var h=e.data(c,"jqxWidget"),b=b[a]().data().jqxWidget.defineInstance(),l=function(a){this.widgetInstance=a=e.data(a,"jqxWidget");var c=e.extend(this,a);c.on=function(a,b){c.addHandler(c.host,a,b)};c.off=function(a){c.removeHandler(c.host,a)};return c};d[a]=l;e.each(b,function(c,b){Object.defineProperty(l.prototype,c,{get:function(){return this.widgetInstance?this.widgetInstance[c]:b},set:function(b){if(this.widgetInstance&&this.widgetInstance[c]!=b&&this.widgetInstance[c]!=b&&g(this.widgetInstance[c])!=g(b)){var f={};f[c]=b;this.widgetInstance.host[a](f);this.widgetInstance[c]=b}}})})}h=new d[a](c);q.push(h);window.jqxWidgets||(window.jqxWidgets=[]);window.jqxWidgets[m]||(window.jqxWidgets[m]=[]);window.jqxWidgets[m].push(h)});return 1===q.length?q[0]:q}}e.fn[a]=function(){var c=Array.prototype.slice.call(arguments,0);if(0==c.length||1==c.length&&"object"==typeof c[0]){if(0==this.length){if(this.selector)throw Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.");throw Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");}return this.each(function(){e(this);null==e.data(this,a)?e.jqx.applyWidget(this,a,c,void 0):e.jqx.jqxWidgetProxy(a,this,c)})}if(0==this.length){if(this.selector)throw Error("Invalid Selector - "+this.selector+"! Please, check whether the used ID or CSS Class name is correct.");throw Error("Invalid Selector! Please, check whether the used ID or CSS Class name is correct.");}var b=null,f=0;this.each(function(){var d=e.jqx.jqxWidgetProxy(a,this,c);if(0==f)b=d,f++;else{if(1==f){var g=[];g.push(b);b=g}b.push(d)}});return b};try{e.extend(e.jqx["_"+a].prototype,Array.prototype.slice.call(c,0)[0])}catch(h){}e.extend(e.jqx["_"+a].prototype,{toThemeProperty:function(a,c){return e.jqx.toThemeProperty(this,a,c)}});e.jqx["_"+a].prototype.refresh=function(){this.base&&this.base.refresh(!0)};e.jqx["_"+a].prototype.createInstance=function(){};e.jqx["_"+a].prototype.applyTo=function(c,b){if(!(b instanceof Array)){var f=[];f.push(b);b=f}e.jqx.applyWidget(c,a,b,this)};e.jqx["_"+a].prototype.getInstance=function(){return this};e.jqx["_"+a].prototype.propertyChangeMap={};e.jqx["_"+a].prototype.addHandler=function(a,c,b,f){e.jqx.addHandler(a,c,b,f)};e.jqx["_"+a].prototype.removeHandler=function(a,c,b){e.jqx.removeHandler(a,c,b)}};e.jqx.toThemeProperty=function(a,b,c){if(""==a.theme)return b;b=b.split(" ");for(var f="",d=0;d<b.length;d++){0<d&&(f+=" ");var e=b[d],f=null!=c&&c?f+(e+"-"+a.theme):f+(e+" "+e+"-"+a.theme)}return f};e.jqx.addHandler=function(a,b,c,f){b=b.split(" ");for(var d=0;d<b.length;d++){var g=b[d];if(window.addEventListener)switch(g){case "mousewheel":e.jqx.browser.mozilla?a[0].addEventListener("DOMMouseScroll",c,!1):a[0].addEventListener("mousewheel",c,!1);continue;case "mousemove":if(!f){a[0].addEventListener("mousemove",c,!1);continue}}if(void 0==f||null==f)if(a.on)a.on(g,c);else a.bind(g,c);else if(a.on)a.on(g,f,c);else a.bind(g,f,c)}};e.jqx.removeHandler=function(a,b,c){if(b){b=b.split(" ");for(var f=0;f<b.length;f++){var d=b[f];if(window.removeEventListener)switch(d){case "mousewheel":e.jqx.browser.mozilla?a[0].removeEventListener("DOMMouseScroll",c,!1):a[0].removeEventListener("mousewheel",c,!1);continue;case "mousemove":if(c){a[0].removeEventListener("mousemove",c,!1);continue}}void 0==d?a.off?a.off():a.unbind():void 0==c?a.off?a.off(d):a.unbind(d):a.off?a.off(d,c):a.unbind(d,c)}}else a.off?a.off():a.unbind()};e.jqx.theme=e.jqx.theme||"";e.jqx.resizeDelay=e.jqx.resizeDelay||10;e.jqx.ready=function(){e(window).trigger("jqxReady")};e.jqx.init=function(a){e.each(a,function(a,c){"theme"==a&&(e.jqx.theme=c);"scrollBarSize"==a&&(e.jqx.utilities.scrollBarSize=c);"touchScrollBarSize"==a&&(e.jqx.utilities.touchScrollBarSize=c);"scrollBarButtonsVisibility"==a&&(e.jqx.utilities.scrollBarButtonsVisibility=c)})};e.jqx.utilities=e.jqx.utilities||{};e.extend(e.jqx.utilities,{scrollBarSize:15,touchScrollBarSize:10,scrollBarButtonsVisibility:"visible",createId:function(){return"jqxWidget"+(65536*(1+Math.random())|0).toString(16).substring(1)+(65536*(1+Math.random())|0).toString(16).substring(1)},setTheme:function(a,b,c){if("undefined"!==typeof c){for(var f=c[0].className.split(" "),d=[],g=[],h=c.children(),l=0;l<f.length;l+=1)0<=f[l].indexOf(a)&&(0<a.length?(d.push(f[l]),g.push(f[l].replace(a,b))):g.push(f[l].replace("-"+b,"")+"-"+b));this._removeOldClasses(d,c);this._addNewClasses(g,c);for(l=0;l<h.length;l+=1)this.setTheme(a,b,e(h[l]))}},_removeOldClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.removeClass(a[c])},_addNewClasses:function(a,b){for(var c=0;c<a.length;c+=1)b.addClass(a[c])},getOffset:function(a){var b=e.jqx.mobile.getLeftPos(a[0]);return{top:e.jqx.mobile.getTopPos(a[0]),left:b}},resize:function(a,b,c,f){void 0===f&&(f=!0);var d=-1,g=this,h=function(a){if(!g.hiddenWidgets)return-1;for(var c=-1,b=0;b<g.hiddenWidgets.length;b++)if(a.id){if(g.hiddenWidgets[b].id==a.id){c=b;break}}else if(g.hiddenWidgets[b].id==a[0].id){c=b;break}return c};if(this.resizeHandlers){for(var l=0;l<this.resizeHandlers.length;l++)if(a.id){if(this.resizeHandlers[l].id==a.id){d=l;break}}else if(this.resizeHandlers[l].id==a[0].id){d=l;break}if(!0===c){-1!=d&&this.resizeHandlers.splice(d,1);0==this.resizeHandlers.length&&(c=e(window),c.off?(c.off("resize.jqx"),c.off("orientationchange.jqx"),c.off("orientationchanged.jqx")):(c.unbind("resize.jqx"),c.unbind("orientationchange.jqx"),c.unbind("orientationchanged.jqx")),this.resizeHandlers=null);a=h(a);-1!=a&&this.hiddenWidgets&&this.hiddenWidgets.splice(a,1);return}}else if(!0===c){a=h(a);-1!=a&&this.hiddenWidgets&&this.hiddenWidgets.splice(a,1);return}var g=this,k=function(a,c){if(g.resizeHandlers){var b=function(a){var c=-1;for(a=a.parentNode;a;)c++,a=a.parentNode;return c},f=function(a,c){if(!a.widget||!c.widget)return 0;var f=b(a.widget[0]),d=b(c.widget[0]);return f<d?-1:f>d?1:0},d=function(a){if(0<g.hiddenWidgets.length){g.hiddenWidgets.sort(f);var b=function(){for(var a=!1,b=[],f=0;f<g.hiddenWidgets.length;f++){var d=g.hiddenWidgets[f];e.jqx.isHidden(d.widget)?(a=!0,b.push(d)):d.callback&&d.callback(c)}g.hiddenWidgets=b;a||clearInterval(g.__resizeInterval)};0==a?(b(),g.__resizeInterval&&clearInterval(g.__resizeInterval)):(g.__resizeInterval&&clearInterval(g.__resizeInterval),g.__resizeInterval=setInterval(function(){b()},100))}};g.hiddenWidgets&&0<g.hiddenWidgets.length&&d(!1);g.hiddenWidgets=[];g.resizeHandlers.sort(f);for(var l=0;l<g.resizeHandlers.length;l++){var k=g.resizeHandlers[l],u=k.widget,w=k.data;if(w&&w.jqxWidget){var x=w.jqxWidget.width,z=w.jqxWidget.height;w.jqxWidget.base&&(void 0==x&&(x=w.jqxWidget.base.width),void 0==z&&(z=w.jqxWidget.base.height));void 0===x&&void 0===z&&(x=w.jqxWidget.element.style.width,z=w.jqxWidget.element.style.height);var D=!1;null!=x&&-1!=x.toString().indexOf("%")&&(D=!0);null!=z&&-1!=z.toString().indexOf("%")&&(D=!0);if(e.jqx.isHidden(u))-1===h(u)&&(D||!0===a)&&!0!==k.data.nestedWidget&&g.hiddenWidgets.push(k);else if(void 0===a||!0!==a)D&&(k.callback(c),0<=g.hiddenWidgets.indexOf(k)&&g.hiddenWidgets.splice(g.hiddenWidgets.indexOf(k),1)),w.jqxWidget.element&&(k=w.jqxWidget.element.className,(0<=k.indexOf("dropdownlist")||0<=k.indexOf("datetimeinput")||0<=k.indexOf("combobox")||0<=k.indexOf("menu"))&&w.jqxWidget.isOpened&&w.jqxWidget.isOpened()&&w.jqxWidget.close())}}d()}};this.resizeHandlers||(this.resizeHandlers=[],c=e(window),c.on?(this._initResize=this._resizeTimer=null,c.on("resize.jqx",function(a){void 0!=g._resizeTimer&&clearTimeout(g._resizeTimer);g._initResize?g._resizeTimer=setTimeout(function(){k(null,"resize")},e.jqx.resizeDelay):(g._initResize=!0,k(null,"resize"))}),c.on("orientationchange.jqx",function(a){k(null,"orientationchange")}),c.on("orientationchanged.jqx",function(a){k(null,"orientationchange")})):(c.bind("resize.jqx",function(a){k(null,"orientationchange")}),c.bind("orientationchange.jqx",function(a){k(null,"orientationchange")}),c.bind("orientationchanged.jqx",function(a){k(null,"orientationchange")})));f&&-1===d&&this.resizeHandlers.push({id:a[0].id,widget:a,callback:b,data:a.data()});e.jqx.isHidden(a)&&!0===f&&k(!0);e.jqx.resize=function(){k(null,"resize")}},html:function(a,b){if(!e(a).on)return e(a).html(b);try{return e.access(a,function(c){var b=a[0]||{},d=0,g=a.length;if(void 0===c)return 1===b.nodeType?b.innerHTML.replace(rinlinejQuery,""):void 0;var h=/<(?:script|style|link)/i,l=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,k=/<([\w:]+)/,m=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video)[\s/>]/i,n=/^\s+/,p={option:[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"],legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],_default:[0,"",""]};if(!("string"!==typeof c||h.test(c)||!e.support.htmlSerialize&&m.test(c)||!e.support.leadingWhitespace&&n.test(c)||p[(k.exec(c)||["",""])[1].toLowerCase()])){c=c.replace(l,"\x3c$1\x3e\x3c/$2\x3e");try{for(;d<g;d++)b=this[d]||{},1===b.nodeType&&(e.cleanData(b.getElementsByTagName("*")),b.innerHTML=c);b=0}catch(q){}}b&&a.empty().append(c)},null,b,arguments.length)}catch(c){return e(a).html(b)}},hasTransform:function(a){var b="",b=a.css("transform");if(""==b||"none"==b)if(b=a.parents().css("transform"),""==b||"none"==b){var c=e.jqx.utilities.getBrowser();if("msie"==c.browser){if(b=a.css("-ms-transform"),""==b||"none"==b)b=a.parents().css("-ms-transform")}else if("chrome"==c.browser){if(b=a.css("-webkit-transform"),""==b||"none"==b)b=a.parents().css("-webkit-transform")}else if("opera"==c.browser){if(b=a.css("-o-transform"),""==b||"none"==b)b=a.parents().css("-o-transform")}else"mozilla"==c.browser&&(b=a.css("-moz-transform"),""==b||"none"==b)&&(b=a.parents().css("-moz-transform"))}else return""!=b&&"none"!=b;if(""==b||"none"==b)b=e(document.body).css("transform");return""!=b&&"none"!=b&&null!=b},getBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[],c={browser:b[1]||"",version:b[2]||"0"};0<=a.indexOf("rv:11.0")&&0<=a.indexOf(".net4.0c")&&(c.browser="msie",c.version="11",b[1]="msie");0<=a.indexOf("edge")&&(c.browser="msie",c.version="12",b[1]="msie");c[b[1]]=b[1];return c}});e.jqx.browser=e.jqx.utilities.getBrowser();e.jqx.isHidden=function(a){if(!a||!a[0])return!1;var b=a[0].offsetHeight;return 0===a[0].offsetWidth||0===b?!0:!1};e.jqx.ariaEnabled=!0;e.jqx.aria=function(a,b,c){if(e.jqx.ariaEnabled)if(void 0==b)e.each(a.aria,function(c,b){var g=a.base?a.base.host.attr(c):a.host.attr(c);if(void 0==g||e.isFunction(g)){g=a[b.name];e.isFunction(g)&&(g=a[b.name]());void 0==g&&(g="");try{a.base?a.base.host.attr(c,g.toString()):a.host.attr(c,g.toString())}catch(l){}}else{var h=g;switch(b.type){case "number":h=new Number(g);isNaN(h)&&(h=g);break;case "boolean":h="true"==g?!0:!1;break;case "date":if(h=new Date(g),"Invalid Date"==h||isNaN(h))h=g}a[b.name]=h}});else try{a.host?a.base?a.base.host?a.base.host.attr(b,c.toString()):a.attr(b,c.toString()):a.host?a.element.setAttribute?a.element.setAttribute(b,c.toString()):a.host.attr(b,c.toString()):a.attr(b,c.toString()):a.setAttribute&&a.setAttribute(b,c.toString())}catch(f){}};Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this.length,f=Number(b)||0,f=0>f?Math.ceil(f):Math.floor(f);for(0>f&&(f+=c);f<c;f++)if(f in this&&this[f]===a)return f;return-1});e.jqx.mobile=e.jqx.mobile||{};e.jqx.position=function(a){var b=parseInt(a.pageX),c=parseInt(a.pageY);e.jqx.mobile.isTouchDevice()&&(a=e.jqx.mobile.getTouches(a)[0],b=parseInt(a.pageX),c=parseInt(a.pageY));return{left:b,top:c}};e.extend(e.jqx.mobile,{_touchListener:function(a,b){var c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"},f=c[a.type],d=document.createEvent("MouseEvents");d.initMouseEvent(f,a.bubbles,a.cancelable,a.view,a.detail,a.screenX,a.screenY,a.clientX,a.clientY,a.ctrlKey,a.altKey,a.shiftKey,a.metaKey,a.button,a.relatedTarget);d._pageX=a.pageX;d._pageY=a.pageY;a.target.dispatchEvent(d);c=a.target["on"+c[a.type]];"function"===typeof c&&c(a)},setMobileSimulator:function(a,b){if(!this.isTouchDevice()){this.simulatetouches=!0;0==b&&(this.simulatetouches=!1);var c={mousedown:"touchstart",mouseup:"touchend",mousemove:"touchmove"};if(window.addEventListener)for(var f in c)a.addEventListener&&(a.removeEventListener(f,this._touchListener),a.addEventListener(f,this._touchListener,!1))}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a="Browser CodeName: "+navigator.appCodeName+"",a=a+("Browser Name: "+navigator.appName+""),a=a+("Browser Version: "+navigator.appVersion+""),a=a+("Platform: "+navigator.platform+""),a=a+("User-agent header: "+navigator.userAgent+"");if(-1!=a.indexOf("Android")||-1!=a.indexOf("IEMobile")||-1!=a.indexOf("Windows Phone")||-1!=a.indexOf("WPDesktop")||-1!=a.indexOf("ZuneWP7")||-1!=a.indexOf("BlackBerry")&&-1!=a.indexOf("Mobile Safari")||-1!=a.indexOf("ipod")||-1!=a.indexOf("nokia")||-1!=a.indexOf("Nokia"))return!0;if(-1!=a.indexOf("Chrome/17")||-1!=a.indexOf("CrOS")||-1!=a.indexOf("Opera")&&-1==a.indexOf("Mobi")&&-1==a.indexOf("Mini")&&-1!=a.indexOf("Platform: Win"))return!1;if(-1!=a.indexOf("Opera")&&-1!=a.indexOf("Mobi")&&-1!=a.indexOf("Opera Mobi"))return!0;var b={ios:"i(?:Pad|Phone|Pod)(?:.*)CPU(?: iPhone)? OS ",android:"(Android |HTC_|Silk/)",blackberry:"BlackBerry(?:.*)Version/",rimTablet:"RIM Tablet OS ",webos:"(?:webOS|hpwOS)/",bada:"Bada/"};try{if(void 0!=this.touchDevice)return this.touchDevice;this.touchDevice=!1;for(i in b)if(b.hasOwnProperty(i)&&(prefix=b[i],match=a.match(new RegExp("(?:"+prefix+")([^\\s;]+)"))))return"blackberry"==i.toString()?this.touchDevice=!1:this.touchDevice=!0;var c=navigator.userAgent;if(-1!=navigator.platform.toLowerCase().indexOf("win")){if(0<=c.indexOf("Windows Phone")||0<=c.indexOf("WPDesktop")||0<=c.indexOf("IEMobile")||0<=c.indexOf("ZuneWP7"))return this.touchDevice=!0;if(0<=c.indexOf("Touch"))return"MSPointerDown"in window||"pointerdown"in window||0<=c.indexOf("ARM")?this.touchDevice=!0:this.touchDevice=!1}if(-1!=navigator.platform.toLowerCase().indexOf("win"))return this.touchDevice=!1;if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)this.touchDevice=!0;return this.touchDevice}catch(f){return this.touchDevice=!1}},getLeftPos:function(a){for(var b=a.offsetLeft;null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetLeft,document.all&&(b+=a.clientLeft));return b},getTopPos:function(a){for(var b=a.offsetTop,c=e(a).coord();null!=(a=a.offsetParent);)"HTML"!=a.tagName&&(b+=a.offsetTop-a.scrollTop,document.all&&(b+=a.clientTop));a=navigator.userAgent.toLowerCase();if((-1!=a.indexOf("windows phone")||-1!=a.indexOf("WPDesktop")||-1!=a.indexOf("ZuneWP7")||-1!=a.indexOf("msie 9")||-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10"))&&-1!=a.indexOf("touch"))return c.top;if(this.isSafariMobileBrowser()){if(this.isSafari4MobileBrowser()&&this.isIPadSafariMobileBrowser())return b;if(-1!=a.indexOf("version/7"))return c.top;-1==a.indexOf("version/6")&&-1==a.indexOf("version/5")||e(window).scrollTop();return c.top}return b},isChromeMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("android")},isOperaMiniMobileBrowser:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("opera mini")||-1!=a.indexOf("opera mobi")},isOperaMiniBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("opera mini")},isNewSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/5")},isSafari4MobileBrowser:function(){var a=navigator.userAgent.toLowerCase(),b=-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod");return b=b&&-1!=a.indexOf("version/4")},isWindowsPhone:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("windows phone")||-1!=a.indexOf("WPDesktop")||-1!=a.indexOf("ZuneWP7")||-1!=a.indexOf("msie 9")||-1!=a.indexOf("msie 11")||-1!=a.indexOf("msie 10")&&-1!=a.indexOf("touch")},isSafariMobileBrowser:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("ipod")},isIPadSafariMobileBrowser:function(){return-1!=navigator.userAgent.toLowerCase().indexOf("ipad")},isMobileBrowser:function(){var a=navigator.userAgent.toLowerCase();return-1!=a.indexOf("ipad")||-1!=a.indexOf("iphone")||-1!=a.indexOf("android")},getTouches:function(a){if(a.originalEvent){if(a.originalEvent.touches&&a.originalEvent.touches.length)return a.originalEvent.touches;if(a.originalEvent.changedTouches&&a.originalEvent.changedTouches.length)return a.originalEvent.changedTouches}a.touches||(a.touches=[],a.touches[0]=void 0!=a.originalEvent?a.originalEvent:a,void 0!=a.originalEvent&&a.pageX&&(a.touches[0]=a),"mousemove"==a.type&&(a.touches[0]=a));return a.touches},getTouchEventName:function(a){if(this.isWindowsPhone()){if(-1!=navigator.userAgent.toLowerCase().indexOf("windows phone 8.1")){if(-1!=a.toLowerCase().indexOf("start"))return"pointerdown";if(-1!=a.toLowerCase().indexOf("move"))return"pointermove";if(-1!=a.toLowerCase().indexOf("end"))return"pointerup"}if(-1!=a.toLowerCase().indexOf("start"))return"MSPointerDown";if(-1!=a.toLowerCase().indexOf("move"))return"MSPointerMove";if(-1!=a.toLowerCase().indexOf("end"))return"MSPointerUp"}else return a},dispatchMouseEvent:function(a,b,c){if(!this.simulatetouches){var f=document.createEvent("MouseEvent");f.initMouseEvent(a,!0,!0,b.view,1,b.screenX,b.screenY,b.clientX,b.clientY,!1,!1,!1,!1,0,null);null!=c&&c.dispatchEvent(f)}},getRootNode:function(a){for(;1!==a.nodeType;)a=a.parentNode;return a},setTouchScroll:function(a,b){this.enableScrolling||(this.enableScrolling=[]);this.enableScrolling[b]=a},touchScroll:function(a,b,c,f,d,g){if(null!=a){var h=this,l=0,k=0,m=0,n=0,p=0,q=0;this.scrolling||(this.scrolling=[]);var r=this.scrolling[f]=!1;a=e(a);var t=["select","input","textarea"],v=0;this.enableScrolling||(this.enableScrolling=[]);this.enableScrolling[f]=!0;var u=this.getTouchEventName("touchstart")+".touchScroll";b=this.getTouchEventName("touchend")+".touchScroll";var w=this.getTouchEventName("touchmove")+".touchScroll",v=function(a){if(!h.enableScrolling[f])return!0;if(-1===e.inArray(a.target.tagName.toLowerCase(),t)){a=h.getTouches(a);var c=a[0];1==a.length&&h.dispatchMouseEvent("mousedown",c,h.getRootNode(c.target));r=!1;k=c.pageY;p=c.pageX;h.simulatetouches&&void 0!=c._pageY&&(k=c._pageY,p=c._pageX);h.scrolling[f]=!0;n=l=0;return!0}};if(a.on)a.on(u,v);else a.bind(u,v);v=function(a){if(!h.enableScrolling[f]||!h.scrolling[f])return!0;var b=h.getTouches(a);if(1<b.length)return!0;var e=b[0].pageY,t=b[0].pageX;h.simulatetouches&&void 0!=b[0]._pageY&&(e=b[0]._pageY,t=b[0]._pageX);b=e-k;e=t-p;touchHorizontalEnd=t;m=b-l;q=e-n;r=!0;l=b;n=e;var t=null!=d?"hidden"!=d[0].style.visibility:!0,v=null!=g?"hidden"!=g[0].style.visibility:!0;if(t||v)if(0!==q&&t||0!==m&&v)return c(1*-q,1*-m,e,b,a),a.preventDefault(),a.stopPropagation(),a.preventManipulation&&a.preventManipulation(),!1};if(a.on)a.on(w,v);else a.bind(w,v);this.simulatetouches&&(void 0!=e(window).on||e(window),w=function(a){h.scrolling[f]=!1},void 0!=e(window).on?e(document).on("mouseup.touchScroll",w):e(document).bind("mouseup.touchScroll",w),window.frameElement&&null!=window.top&&(w=function(a){h.scrolling[f]=!1},window.top.document&&(e(window.top.document).on?e(window.top.document).on("mouseup",w):e(window.top.document).bind("mouseup",w))),void 0!=e(document).on||e(document),w=function(a){if(!h.scrolling[f])return!0;h.scrolling[f]=!1;a=h.getTouches(a)[0];var c=h.getRootNode(a.target);h.dispatchMouseEvent("mouseup",a,c);h.dispatchMouseEvent("click",a,c)},void 0!=e(document).on?e(document).on("touchend",w):e(document).bind("touchend",w));w=function(a){if(!h.enableScrolling[f])return!0;var c=h.getTouches(a)[0];if(!h.scrolling[f])return!0;h.scrolling[f]=!1;if(r)h.dispatchMouseEvent("mouseup",c,b);else{var c=h.getTouches(a)[0],b=h.getRootNode(c.target);h.dispatchMouseEvent("mouseup",c,b);h.dispatchMouseEvent("click",c,b);return!0}};a.on&&(a.on("dragstart",function(a){a.preventDefault()}),a.on("selectstart",function(a){a.preventDefault()}));a.on?a.on(b+" touchcancel.touchScroll",w):a.bind(b+" touchcancel.touchScroll",w)}}});e.jqx.cookie=e.jqx.cookie||{};e.extend(e.jqx.cookie,{cookie:function(a,b,c){if(1<arguments.length&&"[object Object]"!==String(b)){c=e.extend({},c);if(null===b||void 0===b)c.expires=-1;if("number"===typeof c.expires){var f=c.expires,d=c.expires=new Date;d.setDate(d.getDate()+f)}b=String(b);return document.cookie=[encodeURIComponent(a),"\x3d",c.raw?b:encodeURIComponent(b),c.expires?"; expires\x3d"+c.expires.toUTCString():"",c.path?"; path\x3d"+c.path:"",c.domain?"; domain\x3d"+c.domain:"",c.secure?"; secure":""].join("")}c=b||{};d=c.raw?function(a){return a}:decodeURIComponent;return(f=(new RegExp("(?:^|; )"+encodeURIComponent(a)+"\x3d([^;]*)")).exec(document.cookie))?d(f[1]):null}});e.jqx.string=e.jqx.string||{};e.extend(e.jqx.string,{replace:function(a,b,c){if(b===c)return this;for(var f=a.indexOf(b);-1!=f;)a=a.replace(b,c),f=a.indexOf(b);return a},contains:function(a,b){return null==a||null==b?!1:-1!=a.indexOf(b)},containsIgnoreCase:function(a,b){return null==a||null==b?!1:-1!=a.toString().toUpperCase().indexOf(b.toString().toUpperCase())},equals:function(a,b){if(null==a||null==b)return!1;a=this.normalize(a);return b.length==a.length?a.slice(0,b.length)==b:!1},equalsIgnoreCase:function(a,b){if(null==a||null==b)return!1;a=this.normalize(a);return b.length==a.length?a.toUpperCase().slice(0,b.length)==b.toUpperCase():!1},startsWith:function(a,b){return null==a||null==b?!1:a.slice(0,b.length)==b},startsWithIgnoreCase:function(a,b){return null==a||null==b?!1:a.toUpperCase().slice(0,b.length)==b.toUpperCase()},normalize:function(a){65279==a.charCodeAt(a.length-1)&&(a=a.substring(0,a.length-1));return a},endsWith:function(a,b){if(null==a||null==b)return!1;a=this.normalize(a);return a.slice(-b.length)==b},endsWithIgnoreCase:function(a,b){if(null==a||null==b)return!1;a=this.normalize(a);return a.toUpperCase().slice(-b.length)==b.toUpperCase()}});e.extend(e.easing,{easeOutBack:function(a,b,c,f,d,e){void 0==e&&(e=1.70158);return f*((b=b/d-1)*b*((e+1)*b+e)+1)+c},easeInQuad:function(a,b,c,f,d){return f*(b/=d)*b+c},easeInOutCirc:function(a,b,c,f,d){return 1>(b/=d/2)?-f/2*(Math.sqrt(1-b*b)-1)+c:f/2*(Math.sqrt(1-(b-=2)*b)+1)+c},easeInOutSine:function(a,b,c,f,d){return-f/2*(Math.cos(Math.PI*b/d)-1)+c},easeInCubic:function(a,b,c,f,d){return f*(b/=d)*b*b+c},easeOutCubic:function(a,b,c,f,d){return f*((b=b/d-1)*b*b+1)+c},easeInOutCubic:function(a,b,c,f,d){return 1>(b/=d/2)?f/2*b*b*b+c:f/2*((b-=2)*b*b+2)+c},easeInSine:function(a,b,c,f,d){return-f*Math.cos(b/d*(Math.PI/2))+f+c},easeOutSine:function(a,b,c,f,d){return f*Math.sin(b/d*(Math.PI/2))+c},easeInOutSine:function(a,b,c,f,d){return-f/2*(Math.cos(Math.PI*b/d)-1)+c}})})(jqxBaseFramework);(function(e){e.extend(e.event.special,{close:{noBubble:!0},open:{noBubble:!0},cellclick:{noBubble:!0},rowclick:{noBubble:!0},tabclick:{noBubble:!0},selected:{noBubble:!0},expanded:{noBubble:!0},collapsed:{noBubble:!0},valuechanged:{noBubble:!0},expandedItem:{noBubble:!0},collapsedItem:{noBubble:!0},expandingItem:{noBubble:!0},collapsingItem:{noBubble:!0}});e.fn.extend({ischildof:function(a){for(var c=e(this).parents().get(),f=0;f<c.length;f++)if("string"!=typeof a){var d=c[f];if(void 0!==a&&d==a[0])return!0}else if(void 0!==a&&e(c[f]).is(a))return!0;return!1}});e.fn.jqxProxy=function(){var a=e(this).data().jqxWidget,c=Array.prototype.slice.call(arguments,0),f=a.element;f||(f=a.base.element);return e.jqx.jqxWidgetProxy(a.widgetName,f,c)};var a=this.originalVal=e.fn.val;e.fn.val=function(b){if("undefined"==typeof b){if(e(this).hasClass("jqx-widget")){var c=e(this).data().jqxWidget;if(c&&c.val)return c.val()}return a.call(this)}return e(this).hasClass("jqx-widget")&&(c=e(this).data().jqxWidget)&&c.val?2!=arguments.length?c.val(b):c.val(b,arguments[1]):a.call(this,b)};e.fn.modal&&e.fn.modal.Constructor&&(e.fn.modal.Constructor.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(a){if(this.$element[0]!==a.target&&!this.$element.has(a.target).length){if(e(a.target).parents().hasClass("jqx-popup"))return!0;this.$element.trigger("focus")}},this))});e.fn.coord=function(a){var c,f,d={top:0,left:0},g=(f=this[0])&&f.ownerDocument;if(g){c=g.documentElement;if(!e.contains(c,f))return d;void 0!==typeof f.getBoundingClientRect&&(d=f.getBoundingClientRect());f=e.isWindow(g)?g:9===g.nodeType?g.defaultView||g.parentWindow:!1;var h=g=0,l=navigator.userAgent.toLowerCase();if(-1!=l.indexOf("ipad")||-1!=l.indexOf("iphone"))g=2;1==a&&"static"!=e(document.body).css("position")&&(a=e(document.body).coord(),g=-a.left,h=-a.top);return{top:h+d.top+(f.pageYOffset||c.scrollTop)-(c.clientTop||0),left:g+d.left+(f.pageXOffset||c.scrollLeft)-(c.clientLeft||0)}}}})(jqxBaseFramework);(function(e){function a(a){return function(c,b){"string"!==typeof c&&(b=c,c="*");var f,d,g=c.toLowerCase().split(r),h=0,l=g.length;if(e.isFunction(b))for(;h<l;h++)f=g[h],(d=/^\+/.test(f))&&(f=f.substr(1)||"*"),f=a[f]=a[f]||[],f[d?"unshift":"push"](b)}}function b(a,c,f,d,e,g){e=e||c.dataTypes[0];g=g||{};g[e]=!0;var h;e=a[e];for(var l=0,k=e?e.length:0,m=a===t;l<k&&(m||!h);l++)h=e[l](c,f,d),"string"===typeof h&&(!m||g[h]?h=void 0:(c.dataTypes.unshift(h),h=b(a,c,f,d,h,g)));!m&&h||g["*"]||(h=b(a,c,f,d,"*",g));return h}function c(a,c){var b,f,d=e.jqx.data.ajaxSettings.flatOptions||{};for(b in c)void 0!==c[b]&&((d[b]?a:f||(f={}))[b]=c[b]);f&&e.extend(!0,a,f)}function f(){try{return new window.XMLHttpRequest}catch(a){}}e.jqx.observableArray=function(a,c){"string"==typeof a&&(a=e.parseJSON(a));var b;if(!(b=!Object.defineProperty)){var f;try{Object.defineProperty({},"x",{}),f=!0}catch(d){f=!1}b=!f}if(b){var g=Object.defineProperty;Object.defineProperty=function(a,c,b){if(g)try{return g(a,c,b)}catch(f){}if(a!==Object(a))throw TypeError("Object.defineProperty called on non-object");Object.prototype.__defineGetter__&&"get"in b&&Object.prototype.__defineGetter__.call(a,c,b.get);Object.prototype.__defineSetter__&&"set"in b&&Object.prototype.__defineSetter__.call(a,c,b.set);"value"in b?a[c]=b.value:a[c]||(a[c]=b);return a}}Array.prototype.forEach||(Array.prototype.forEach=function(a,c){if(void 0===this||null===this)throw TypeError();var b=Object(this),f=b.length>>>0;if("function"!==typeof a)throw TypeError();var d;for(d=0;d<f;d++)d in b&&a.call(c,b[d],d,b)});"function"!==typeof Object.getOwnPropertyNames&&(Object.getOwnPropertyNames=function(a){if(a!==Object(a))throw TypeError("Object.getOwnPropertyNames called on non-object");var c=[],b;for(b in a)Object.prototype.hasOwnProperty.call(a,b)&&c.push(b);return c});var h=this,l,k=[];h.notifier=null;h.name="observableArray";h.observing=!0;h.changes=[];h.observe=function(){h.observing=!0;1==arguments.length&&(c=arguments[0])};h.unobserve=function(){h.observing=!1};h.toArray=function(){return k.slice(0)};h.toJSON=function(a,c){function b(a){return'"'+a.replace(h,function(a){var c=l[a];return"string"===typeof c?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"'}function f(a){return 10>a?"0"+a:a}function d(a,c){switch(c){case "string":return b(a);case "number":case "float":case "integer":case "int":return isFinite(a)?a:"null";case "boolean":return a}return"null"}function e(c,g){var h=g[c],k=typeof h;h&&"object"===typeof h&&"function"===typeof h.toJSON&&(h=h.toJSON(c),k=typeof h);if(/(number|float|int|integer|string|boolean)/.test(k)||!h&&"object"===k)return d(h,k);a:{switch(Object.prototype.toString.call(h)){case "[object Date]":h=isFinite(h.valueOf())?h.getUTCFullYear()+"-"+f(h.getUTCMonth()+1)+"-"+f(h.getUTCDate())+"T"+f(h.getUTCHours())+":"+f(h.getUTCMinutes())+":"+f(h.getUTCSeconds())+'Z"':"null";break a;case "[object Array]":var l=h.length,k=[],m;for(m=0;m<l;m++)k.push(e(m,h)||"null");h="["+k.join(",")+"]";break a}k=[];for(l in h)!Object.prototype.hasOwnProperty.call(h,l)||""!=l&&a&&-1===a.indexOf(l)||(m=e(l,h))&&k.push(b(l)+":"+m);h="{"+k.join(",")+"}"}return h}var g=k;c&&(g=c);var h=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return!a&&window.JSON&&"function"===typeof window.JSON.stringify?window.JSON.stringify(g):e("",{"":g})};h.defineIndexProperty=function(a){if(!(a in h)){var c=function(a,c,b,f){var d=a[c],g=d;b=function(){return g};var m=function(a){d=a;if(g!==d&&(a=g,g=d,"function"===typeof l)){var b=k.indexOf(f),m="",n=function(a,b){Object.getOwnPropertyNames(a).forEach(function(f){var d=e.type(a[f]);"array"==d||"object"==d?n(a[f],b+"."+f):c===f&&(m=b+"."+f)})};n(f,b);l({object:h,type:"update",path:m,index:b,name:c,newValue:d,oldValue:a})}return g=d};a[c]&&"length"!=c&&(Object.defineProperty?Object.defineProperty(a,c,{get:b,set:m}):Object.prototype.__defineGetter__&&Object.prototype.__defineSetter__&&(Object.prototype.__defineGetter__.call(a,c,b),Object.prototype.__defineSetter__.call(a,c,m)))},b=function(a,f,d){var g=e.type(a);/(number|float|int|integer|string|boolean)/.test(g)||void 0!==a&&Object.getOwnPropertyNames(a).forEach(function(g){var h=e.type(a[g]);"array"==h||"object"==h?(c(a,g,f+"."+g,d),b(a[g],f+"."+g,d)):c(a,g,f+"."+g,d)})};Object.defineProperty(h,a,{configurable:!0,enumerable:!0,get:function(){return k[a]},set:function(c){var f=k[a];h.toJSON(null,f)!=h.toJSON(null,c)&&(k[a]=c,"function"===typeof l&&l({object:h,type:"update",path:a.toString(),index:a,name:"index",newValue:c,oldValue:f}),b(c,a,c))}});b(h[a],a,h[a])}};h.push=function(){for(var a,c=0,b=arguments.length;c<b;c++)a=k.length,k.push(arguments[c]),h.defineIndexProperty(a),"function"===typeof l&&l({object:h,type:"add",name:"length",index:a,newValue:k.length,oldValue:a});return k.length};h.pop=function(){if(~k.length){var a=k.length-1,c=k.pop();delete h[a];"function"===typeof l&&l({object:h,type:"delete",name:"length",index:a,newValue:k.length,oldValue:a});return c}};h.unshift=function(){for(var a=k.length,c=0,b=arguments.length;c<b;c++)k.splice(c,0,arguments[c]),h.defineIndexProperty(k.length-1);"function"===typeof l&&l({object:h,type:"add",index:0,name:"length",newValue:k.length,oldValue:a});return k.length};h.shift=function(){var a=k.length;if(~k.length){var c=k.shift();0===k.length&&delete h[a];"function"===typeof l&&l({object:h,type:"delete",index:a,name:"length",newValue:k.length,oldValue:a});return c}};h.slice=function(a,c,b){a=k.slice(a,c);return new e.jqx.observableArray(a,b)};h.splice=function(a,c,b){var f=[],d;a=~a?a:k.length-a;for(c=(null==c?k.length-a:c)||0;c--;)d=k.splice(a,1)[0],f.push(d),delete h[k.length],"function"===typeof l&&l({object:h,type:"delete",index:a,name:"length",newValue:-1,oldValue:a});d=2;for(var g=arguments.length;d<g;d++)k.splice(a,0,arguments[d]),defineIndexProperty(k.length-1),"function"===typeof l&&l({object:h,type:"add",index:a,name:"length",newValue:k.length-1,oldValue:a}),a++;return new e.jqx.observableArray(f,b)};Object.defineProperty(h,"length",{configurable:!1,enumerable:!0,get:function(){return k.length},set:function(a){var c=Number(a);if(0===c%1&&0<=c)c<k.length?h.splice(c):c>k.length&&h.push.apply(h,Array(c-k.length));else throw new RangeError("Invalid array length");return a}});e.jqx.observableArray.prototype.fromArray=function(a,c){return new e.jqx.observableArray(a,c)};e.jqx.observableArray.prototype.clone=function(){var a=new e.jqx.observableArray(k,c);a.observing=h.observing;a.changes=h.changes;a.notifier=h.notifier;return a};h.remove=function(a){if(0>a||a>=h.length)throw Error("Invalid index : "+a);if(h.hasOwnProperty(a)){var c=h[a];h[a]=void 0;k[a]=void 0;"function"===typeof l&&l({object:h,type:"delete",index:a,name:"index",newValue:void 0,oldValue:c});return!0}return!1};h.concat=function(a,c){var b=k.concat(a);return new e.jqx.observableArray(b,c)};Object.getOwnPropertyNames(Array.prototype).forEach(function(a){a in h||Object.defineProperty(h,a,{configurable:!1,enumerable:!0,writeable:!1,value:function(){var c=h.observing;h.observing=!1;var b=k[a].apply(k,arguments);h.observing=c;return b}})});h.set=function(a,c){if("string"==e.type(a)&&1<a.split(".").length){for(var b=a.split("."),f=h,d=0;d<b.length;d++){if(0===d&&b[d]>=h.length)throw Error("Invalid Index: "+a);d<b.length-1?f=f[b[d]]:f[b[d]]=c}return!0}a>=h.length?h.push(c):h[a]=c;return!0};h.get=function(a){return h[a]};a instanceof Array&&h.push.apply(h,a);l=function(){h.observing&&(arguments&&arguments[0]&&h.changes.push(arguments[0]),c&&c.apply(h,arguments),h.notifier&&h.notifier.apply(h,arguments))};return h};e.jqx.formatDate=function(a,c,b){return e.jqx.dataFormat.formatdate(a,c,b)};e.jqx.formatNumber=function(a,c,b){return e.jqx.dataFormat.formatnumber(a,c,b)};e.jqx.dataAdapter=function(a,c){void 0!=a&&(void 0!==a.dataFields&&(a.datafields=a.dataFields),void 0!==a.dataType&&(a.datatype=a.dataType),void 0!==a.localData&&(a.localdata=a.localData),void 0!==a.sortColumn&&(a.sortcolumn=a.sortColumn),void 0!==a.sortDirection&&(a.sortdirection=a.sortDirection),void 0!==a.sortOrder&&(a.sortdirection=a.sortOrder),void 0!==a.formatData&&(a.formatdata=a.formatData),void 0!==a.processData&&(a.processdata=a.processData),void 0!==a.pageSize&&(a.pagesize=a.pageSize),void 0!==a.pageNum&&(a.pagenum=a.pageNum),void 0!==a.updateRow&&(a.updaterow=a.updateRow),void 0!==a.addRow&&(a.addrow=a.addRow),void 0!==a.deleteRow&&(a.deleterow=a.deleteRow),void 0!==a.contentType&&(a.contenttype=a.contentType),void 0!=a.totalRecords&&(a.totalrecords=a.totalRecords),void 0!=a.loadError&&(a.loadError=a.loadError),void 0!=a.sortComparer&&(a.sortcomparer=a.sortComparer));this._source=a;this._options=c||{};void 0!=a.beforeLoadComplete&&(this._options.beforeLoadComplete=this._source.beforeLoadComplete);void 0!=a.downloadComplete&&(this._options.downloadComplete=this._source.downloadComplete);void 0!=a.loadComplete&&(this._options.loadComplete=this._source.loadComplete);void 0!=a.autoBind&&(this._options.downloadComplete=this._source.autoBind);void 0!=a.formatData&&(this._options.formatData=this._source.formatData);void 0!=a.loadError&&(this._options.loadError=this._source.loadError);void 0!=a.beforeSend&&(this._options.beforeSend=this._source.beforeSend);void 0!=a.contentType&&(this._options.contentType=this._source.contentType);void 0!=a.async&&(this._options.async=this._source.async);void 0!=a.loadServerData&&(this._options.loadServerData=this._source.loadServerData);void 0!=a.uniqueDataFields&&(this._options.uniqueDataFields=this._source.uniqueDataFields);this.records=[];this._downloadComplete=[];this._bindingUpdate=[];if(void 0!=a&&null!=a.localdata&&"function"==typeof a.localdata){var b=a.localdata();if(null!=b){a._localdata=a.localdata;var f=this;a._localdata.subscribe&&(f._oldlocaldata=[],a._localdata.subscribe(function(a){var c=function(a){return e.isArray(a)?e.makeArray(c(e(a))):e.extend(!0,{},a)};if(0==f.suspendKO||void 0==f.suspendKO||0==f._oldlocaldata.length)f._oldlocaldata=c(a)},a._localdata,"beforeChange"),a._localdata.subscribe(function(c){if(0==f.suspendKO||void 0==f.suspendKO){var b="";f._oldrecords=f.records;0==f._oldlocaldata.length&&(a.localdata=a._localdata());0==f._oldlocaldata.length?b="change":c&&(f._oldlocaldata.length==c.length&&(b="update"),f._oldlocaldata.length>c.length&&(b="remove"),f._oldlocaldata.length<c.length&&(b="add"));f.dataBind(null,b)}},a._localdata,"change"),f._knockoutdatasource=!0);a.localdata=b}}1==this._options.autoBind&&this.dataBind()};e.jqx.dataAdapter.prototype={getrecords:function(){return this.records},beginUpdate:function(){this.isUpdating=!0},endUpdate:function(a){this.isUpdating=!1;0!=a&&(this._changedrecords&&0<this._changedrecords.length?(this.callBindingUpdate("update"),this._changedrecords=[]):this.dataBind(null,""))},formatDate:function(a,c,b){return e.jqx.dataFormat.formatdate(a,c,b)},formatNumber:function(a,c,b){return e.jqx.dataFormat.formatnumber(a,c,b)},dataBind:function(a,c){if(1!=this.isUpdating){var b=this._source;if(b){b.generatedfields&&(b.datafields=null,b.generatedfields=null);e.jqx.dataFormat.datescache=[];null!=b.dataFields&&(b.datafields=b.dataFields);void 0==b.recordstartindex&&(b.recordstartindex=0);void 0==b.recordendindex&&(b.recordendindex=0);void 0==b.loadallrecords&&(b.loadallrecords=!0);void 0==b.root&&(b.root="");void 0==b.record&&(b.record="");void 0!=b.sort&&(this.sort=b.sort);this.filter=void 0!=b.filter?b.filter:null;void 0!=b.sortcolumn&&(this.sortcolumn=b.sortcolumn);void 0!=b.sortdirection&&(this.sortdirection=b.sortdirection);void 0!=b.sortcomparer&&(this.sortcomparer=b.sortcomparer);this.records=[];var f=this._options||{};this.virtualmode=void 0!=f.virtualmode?f.virtualmode:!1;this.totalrecords=void 0!=f.totalrecords?f.totalrecords:0;this.pageable=void 0!=f.pageable?f.pageable:!1;this.pagesize=void 0!=f.pagesize?f.pagesize:0;this.pagenum=void 0!=f.pagenum?f.pagenum:0;this.cachedrecords=void 0!=f.cachedrecords?f.cachedrecords:[];this.originaldata=[];this.recordids=[];this.updaterow=void 0!=f.updaterow?f.updaterow:null;this.addrow=void 0!=f.addrow?f.addrow:null;this.deleterow=void 0!=f.deleterow?f.deleterow:null;this.cache=void 0!=f.cache?f.cache:!1;this.unboundmode=!1;void 0!=b.formatdata&&(f.formatData=b.formatdata);void 0!=b.data&&(void 0==f.data&&(f.data={}),e.extend(f.data,b.data));this.mapChar=void 0!=b.mapchar?b.mapchar?b.mapchar:"\x3e":f.mapChar?f.mapChar:"\x3e";if(f.unboundmode||b.unboundmode)this.unboundmode=f.unboundmode||b.unboundmode;void 0!=b.cache&&(this.cache=b.cache);if(this.koSubscriptions)for(var d=0;d<this.koSubscriptions.length;d++)this.koSubscriptions[d].dispose();this.koSubscriptions=[];0>this.pagenum&&(this.pagenum=0);var g=this,h=b.datatype;if("csv"===b.datatype||"tab"===b.datatype||"tsv"===b.datatype||"text"==b.datatype)h="text";d=void 0!=f.async?f.async:!0;void 0!=b.async&&(d=b.async);switch(h){default:if(void 0==b.localdata&&b.length){b.localdata=[];for(var k=0;k<b.length;k++)b.localdata[b.localdata.length]=b[k],b[k].uid=k}b.beforeprocessing&&e.isFunction(b.beforeprocessing)&&b.beforeprocessing(b.localdata);d=b.localdata.length;this.totalrecords=this.virtualmode?b.totalrecords||d:d;if(this.unboundmode){this.totalrecords=this.unboundmode?b.totalrecords||d:d;var l=b.datafields?b.datafields.length:0;if(0<l)for(k=0;k<this.totalrecords;k++){for(var m={},d=0;d<l;d++)m[b.datafields[d].name]="";m.uid=k;b.localdata[b.localdata.length]=m}}void 0==this.totalrecords&&(this.totalrecords=0);var l=b.datafields?b.datafields.length:0,n=function(a,c){for(var f={},d=0;d<c;d++){var h=b.datafields?b.datafields[d]:{},k="";if(void 0!=h&&null!=h){if(h.map){if(e.isFunction(h.map))k=h.map(a);else if(k=h.map.split(g.mapChar),0<k.length){for(var l=a,m=0;m<k.length;m++)l&&(l=l[k[m]]);k=l}else k=a[h.map];void 0!=k&&null!=k?k=k.toString():void 0==k&&null!=k&&(k="")}l=!1;""==k&&(l=!0,k=a[h.name],void 0!=k&&null!=k&&(b._localdata&&k.subscribe?k=k():"array"!=h.type&&(k=k.toString())));"[object Object]"==k&&h.map&&l&&(k="");k=g.getvaluebytype(k,h);void 0!=h.displayname?f[h.displayname]=k:f[h.name]=k}}return f};if(b._localdata)if(this._changedrecords=[],this.records=[],k=b._localdata(),e.each(k,function(a,f){if("string"===typeof f)g.records.push(f);else{var d={},h=0,k=this;e.each(this,function(c,f){var m=null,n="string",q=c;if(0<l){for(var p=!1,B=!1,r=0;r<l;r++){var A=b.datafields[r];if(void 0!=A&&A.name==c){p=!0;m=A.map;n=A.type;q=A.name;break}else if(void 0!=A&&A.map&&0<=A.map.indexOf(c)){p=!0;m=A.map;n=A.type;q=A.name;B=!0;A=k[c];if(null!=m)if(A=m.split(g.mapChar),0<A.length){for(var t=k,v=0;v<A.length;v++)t=t[A[v]];A=t}else A=k[m];"string"!=n&&(A=g.getvaluebytype(A,{type:n}));d[q]=A;void 0!=d[q]&&(h+=d[q].toString().length+d[q].toString().substr(0,1))}}if(!p||B)return!0}if(e.isFunction(k[c]))A=k[c](),"string"!=n&&(A=g.getvaluebytype(A,{type:n})),d[c]=A,k[c].subscribe&&(g.koSubscriptions[g.koSubscriptions.length]=k[c].subscribe(function(b){d[c]=b;g._changedrecords.push({index:a,oldrecord:d,record:d});if(!g.isUpdating)return g.callBindingUpdate("update"),g._changedrecords=[],!1}));else{A=k[c];if(null!=m)if(A=m.split(g.mapChar),0<A.length){t=k;for(v=0;v<A.length;v++)t=t[A[v]];A=t}else A=k[m];"string"!=n&&(A=g.getvaluebytype(A,{type:n}));d[q]=A;void 0!=d[q]&&(h+=d[q].toString().length+d[q].toString().substr(0,1))}});var m=g.getid(b.id,k,a);d.uid=m;g.records.push(d);d._koindex=h;g._oldrecords&&(m=g.records.length-1,"update"==c&&g._oldrecords[m]._koindex!=h&&g._changedrecords.push({index:m,oldrecord:g._oldrecords[m],record:d}))}}),"add"==c)for(d=g.records.length,k=0;k<d;k++){for(var m=g.records[k],q=!1,p=0;p<g._oldrecords.length;p++)if(g._oldrecords[p]._koindex===m._koindex){q=!0;break}q||g._changedrecords.push({index:k,oldrecord:null,record:m,position:0!=k?"last":"first"})}else{if("remove"==c)for(d=g._oldrecords.length,k=0;k<d;k++)m=g._oldrecords[k],g.records[k]?g.records[k]._koindex!=m._koindex&&g._changedrecords.push({index:k,oldrecord:m,record:null}):g._changedrecords.push({index:k,oldrecord:m,record:null})}else if(e.isArray(b.localdata))0==l?(r=0,t=[],e.each(b.localdata,function(a,c){var f=e.extend({},this);if("string"===typeof c)return g.records=b.localdata,!1;var d=g.getid(b.id,f,a);"object"===typeof d&&(d=a);f.uid=d;if(0==a){for(var h in this){r++;var k=e.type(this[h]);t.push({name:h,type:k})}l=r;b.datafields=t;b.generatedfields=t}0<l&&(f=n(f,l),f.uid=d);g.records[g.records.length]=f})):e.each(b.localdata,function(a){var c=n(this,l),f=g.getid(b.id,c,a);"object"===typeof f&&(f=a);a=e.extend({},c);a.uid=f;g.records[g.records.length]=a});else{this.records=[];var r=0,t=[];e.each(b.localdata,function(a){a=g.getid(b.id,this,a);if(0==l&&!("string"===typeof this||this instanceof String)){for(var c in this){r++;var f=e.type(this[c]);t.push({name:c,type:f})}l=r;b.datafields=t;b.generatedfields=t}0<l?(c=n(this,l),c.uid=a,g.records[g.records.length]=c):(this.uid=a,g.records[g.records.length]=this)})}this.originaldata=b.localdata;this.cachedrecords=this.records;this.addForeignValues(b);f.uniqueDataFields&&(this.cachedrecords=this.records=k=this.getUniqueRecords(this.records,f.uniqueDataFields));f.beforeLoadComplete&&(k=f.beforeLoadComplete(g.records,this.originaldata),void 0!=k&&(g.records=k,g.cachedrecords=k));f.autoSort&&f.autoSortField&&(k=Object.prototype.toString,Object.prototype.toString="function"==typeof field?field:function(){return this[f.autoSortField]},g.records.sort(function(a,c){void 0===a&&(a=null);void 0===c&&(c=null);if(null===a&&null===c)return 0;if(null===a&&null!==c)return 1;if(null!==a&&null===c)return-1;a=a.toString();c=c.toString();if(null===a&&null===c)return 0;if(null===a&&null!==c)return 1;if(null!==a&&null===c)return-1;if(e.jqx.dataFormat.isNumber(a)&&e.jqx.dataFormat.isNumber(c)||e.jqx.dataFormat.isDate(a)&&e.jqx.dataFormat.isDate(c))return a<c?-1:a>c?1:0;e.jqx.dataFormat.isNumber(a)||e.jqx.dataFormat.isNumber(c)||(a=String(a).toLowerCase(),c=String(c).toLowerCase());return a<c?-1:a>c?1:0}),Object.prototype.toString=k);g.loadedData=b.localdata;g.buildHierarchy();e.isFunction(f.loadComplete)&&f.loadComplete(b.localdata,g.records);break;case "json":case "jsonp":case "xml":case "xhtml":case "script":case "text":if(null!=b.localdata){e.isFunction(b.beforeprocessing)&&b.beforeprocessing(b.localdata);"xml"===b.datatype?g.loadxml(b.localdata,b.localdata,b):"text"===h?g.loadtext(b.localdata,b):g.loadjson(b.localdata,b.localdata,b);g.addForeignValues(b);f.uniqueDataFields&&(k=g.getUniqueRecords(g.records,f.uniqueDataFields),g.records=k,g.cachedrecords=k);f.beforeLoadComplete&&(k=f.beforeLoadComplete(g.records,this.originaldata),void 0!=k&&(g.records=k,g.cachedrecords=k));g.loadedData=b.localdata;g.buildHierarchy.call(g);e.isFunction(f.loadComplete)&&f.loadComplete(b.localdata,g.records);g.callBindingUpdate(c);return}m=void 0!=f.data?f.data:{};b.processdata&&b.processdata(m);e.isFunction(f.processData)&&f.processData(m);e.isFunction(f.formatData)&&(q=f.formatData(m),void 0!=q&&(m=q));q="application/x-www-form-urlencoded";f.contentType&&(q=f.contentType);p="GET";b.type&&(p=b.type);f.type&&(p=f.type);b.url&&0<b.url.length?e.isFunction(f.loadServerData)?g._requestData(m,b,f):this.xhr=e.jqx.data.ajax({dataType:h,cache:this.cache,type:p,url:b.url,async:d,timeout:b.timeout,contentType:q,data:m,success:function(a,c,d){if(e.isFunction(b.beforeprocessing)){var k=b.beforeprocessing(a,c,d);void 0!=k&&(a=k)}e.isFunction(f.downloadComplete)&&(k=f.downloadComplete(a,c,d),void 0!=k&&(a=k));null==a?(g.records=[],g.cachedrecords=[],g.originaldata=[],g.callDownloadComplete(),e.isFunction(f.loadComplete)&&f.loadComplete([])):(k=a,a.records&&(k=a.records),void 0!=a.totalrecords?b.totalrecords=a.totalrecords:void 0!=a.totalRecords&&(b.totalrecords=a.totalRecords),"xml"===b.datatype?g.loadxml(null,k,b):"text"===h?g.loadtext(k,b):g.loadjson(null,k,b),g.addForeignValues(b),f.uniqueDataFields&&(k=g.getUniqueRecords(g.records,f.uniqueDataFields),g.records=k,g.cachedrecords=k),f.beforeLoadComplete&&(k=f.beforeLoadComplete(g.records,a),void 0!=k&&(g.records=k,g.cachedrecords=k)),g.loadedData=a,g.buildHierarchy.call(g),g.callDownloadComplete(),e.isFunction(f.loadComplete)&&f.loadComplete(a,c,d,g.records))},error:function(a,c,d){e.isFunction(b.loaderror)&&b.loaderror(a,c,d);e.isFunction(f.loadError)&&f.loadError(a,c,d);g.callDownloadComplete()},beforeSend:function(a,c){e.isFunction(f.beforeSend)&&f.beforeSend(a,c);e.isFunction(b.beforesend)&&b.beforesend(a,c)}}):(g.buildHierarchy([]),g.callDownloadComplete(),e.isFunction(f.loadComplete)&&(k||(k={}),f.loadComplete(k)))}this.callBindingUpdate(c)}}},buildHierarchy:function(a){var c=this._source,b=[];if(c.datafields){if(c.hierarchy&&!c.hierarchy.reservedNames)c.hierarchy.reservedNames={leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"};else if(c.hierarchy){var f=c.hierarchy.reservedNames;f.leaf||(f.leaf="leaf");f.parent||(f.parent="parent");f.expanded||(f.expanded="expanded");f.checked||(f.checked="checked");f.selected||(f.selected="selected");f.level||(f.level="level");f.data||(f.data="data")}if(c.hierarchy){var d=this,f=c.hierarchy.reservedNames;if(c.hierarchy.root){if("xml"==c.dataType)return this.hierarchy=b=this.getRecordsHierarchy("uid","parentuid","records",null,a);this.hierarchy=this.records;for(var e=c.hierarchy.root,b=0;b<this.records.length;b++)if(a=this.records[b]){var g=function(a){if(c.hierarchy.record)a.records=a[e][c.hierarchy.record];else{var b=e.split(d.mapChar),g=null;if(1<b.length)for(var g=a,h=0;h<b.length;h++)void 0!=g&&(g=g[b[h]]);else g=a[e];a.records=g}if(null==a.records||a.records&&0==a.records.length)a[f.leaf]=!0};g(a);a[f.level]=0;var h=this.getid(c.id,a,b);a.uid=h;a[f.parent]=null;a[f.data]=a;void 0===a[f.expanded]&&(a[f.expanded]=!1);var k=function(a,b){if(b)for(var e=0;e<b.length;e++){var h=b[e];if(h){g(h);h[f.level]=a[f.level]+1;h[f.parent]=a;h[f.data]=h;var l=d.getid(c.id,h,e);h.uid=l==e&&null==c.id?a.uid+"_"+l:l;void 0===h[f.expanded]&&(h[f.expanded]=!1);k(h,h.records)}}else a.records=[]};k(a,a.records)}return this.hierarchy}if(c.hierarchy.keyDataField&&c.hierarchy.parentDataField)return this.hierarchy=b=this.getRecordsHierarchy(c.hierarchy.keyDataField.name,c.hierarchy.parentDataField.name,"records",null,a);if(c.hierarchy.groupingDataFields){h=[];for(b=0;b<c.hierarchy.groupingDataFields.length;b++)h.push(c.hierarchy.groupingDataFields[b].name);return this.hierarchy=b=this.getGroupedRecords(h,"records","label",null,"data",null,"parent",a)}}}},addRecord:function(a,c,b,f){var d=this,e=function(){return{leaf:"leaf",parent:"parent",expanded:"expanded",checked:"checked",selected:"selected",level:"level",icon:"icon",data:"data"}};if(void 0!=a)if(void 0!=b){if(0<this.hierarchy.length){var g=function(f){if(f)for(var h=0;h<f.length;h++){var k=f[h];if(k.uid==b)return f=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null,null==f&&(f=e()),a[f.parent]=k,a[f.level]=k[f.level]+1,k.records||(k.records=[]),k[f.leaf]=!1,"last"==c?k.records.push(a):"number"===typeof c&&isFinite(c)?k.records.splice(c,0,a):k.records.splice(0,0,a),!0;k.records&&g(k.records)}};g(this.hierarchy)}}else return this.hierarchy&&0<=this.hierarchy.length&&(this._source.hierarchy||f)?(f=d._source&&d._source.hierarchy?d._source.hierarchy.reservedNames:null,null==f&&(f=e()),a[f.level]=0,"last"==c?this.hierarchy.push(a):"number"===typeof c&&isFinite(c)?this.hierarchy.splice(c,0,a):this.hierarchy.splice(0,0,a)):"last"==c?this.records.push(a):"number"===typeof c&&isFinite(c)?this.records.splice(c,0,a):this.records.splice(0,0,a),!0;return!1},deleteRecord:function(a){var c=this;if(0<this.hierarchy.length){var b=function(f){if(f)for(var d=0;d<f.length;d++){var e=f[d];if(e.uid==a){f.splice(d,1);c.recordids[a]&&delete c.recordids[a];var g=function(a){for(var b=0;b<a.length;b++){for(var f=a[b].uid,d=0;d<c.records.length;d++)if(c.records[d].uid==f){c.records.splice(d,1);break}a[b].records&&g(a[b].records)}};e.records&&g(e.records);for(f=0;f<c.records.length;f++)if(e=c.records[f],e.uid==a){c.records.splice(f,1);break}return!0}e.records&&b(e.records)}};b(this.hierarchy)}else for(var f=0;f<this.records.length;f++)if(this.records[f].uid==a)return this.records.splice(f,1),!0;return!1},addForeignValues:function(a){for(var c=a.datafields?a.datafields.length:0,b=0;b<c;b++){var f=a.datafields[b];if(void 0!=f)if(void 0!=f.values){void 0==f.value&&(f.value=f.name);void 0==f.values.value&&(f.values.value=f.value);var d=[],e,g;this.pageable&&this.virtualmode?(e=this.pagenum*this.pagesize,g=e+this.pagesize,g>this.totalrecords&&(g=this.totalrecords)):this.virtualmode?(e=a.recordstartindex,g=a.recordendindex,g>this.totalrecords&&(g=this.totalrecords)):(e=0,g=this.records.length);for(;e<g;e++){var h=this.records[e],k=f.name,l=h[f.value];if(void 0!=d[l])h[k]=d[l];else for(var m=0;m<f.values.source.length;m++){var n=f.values.source[m],q=n[f.values.value];void 0==q&&(q=n.uid);if(q==l){m=n[f.values.name];h[k]=m;d[l]=m;break}}}}else if(void 0!=f.value)for(e=0;e<this.records.length;e++)h=this.records[e],h[f.name]=h[f.value]}},abort:function(){this.xhr&&4!=this.xhr.readyState&&(this.xhr.abort(),me.callDownloadComplete())},_requestData:function(a,c,b){var f=this;b.loadServerData(a,c,function(a){a.totalrecords&&(c.totalrecords=a.totalrecords,f.totalrecords=a.totalrecords);a.records&&(f.records=a.records,f.cachedrecords=a.records);f.addForeignValues(c);if(b.uniqueDataFields){var d=f.getUniqueRecords(f.records,b.uniqueDataFields);f.records=d;f.cachedrecords=d}b.beforeLoadComplete&&(d=b.beforeLoadComplete(f.records,data),void 0!=d&&(f.records=d,f.cachedrecords=d));for(d=0;d<f.records.length;d++){var g=f.records[d];void 0!=g&&void 0==g.uid&&(g.uid=f.getid(c.id,g,d))}f.buildHierarchy.call(f);e.isFunction(b.loadComplete)&&b.loadComplete(a);f.callDownloadComplete()})},getUniqueRecords:function(a,c){if(a&&c)for(var b=a.length,f=c.length,d=[],e=[],g=0;g<b;g++){var h=a[g],k="";if(void 0!=h){for(var l=0;l<f;l++)k+=h[c[l]]+"_";e[k]||(d[d.length]=h);e[k]=!0}}return d},getAggregatedData:function(a,c,b,f){var d=b;d||(d=this.records);var g={};b=[];var h=d.length;if(0!=h&&void 0!=h){for(var k=0;k<h;k++)for(var l=d[k],m=0;m<a.length;m++){var n=a[m],q=l[n.name];if(n.aggregates){g[n.name]=g[n.name]||{};b[n.name]=b[n.name]||0;b[n.name]++;var p=function(a){for(obj in a){var c=g[n.name][obj];null==c&&(c=g[n.name][obj]=0);e.isFunction(a[obj])&&(c=a[obj](c,q,n.name,l,f));g[n.name][obj]=c}},r=parseFloat(q);(r=isNaN(r)?!1:!0)&&(q=parseFloat(q));"number"===typeof q&&isFinite(q)?e.each(n.aggregates,function(){var a=g[n.name][this];null==a&&(a=0,"min"==this&&(a=9999999999999),"max"==this&&(a=-9999999999999));if("sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this)a+=parseFloat(q);else if("product"==this)a=0==k?parseFloat(q):a*parseFloat(q);else if("min"==this)a=Math.min(a,parseFloat(q));else if("max"==this)a=Math.max(a,parseFloat(q));else if("count"==this)a++;else if("object"==typeof this){p(this);return}g[n.name][this]=a}):e.each(n.aggregates,function(){if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){if(null===q)return!0;var a=g[n.name][this];null==a&&(a=0);g[n.name][this]=a;return!0}"object"==typeof this&&p(this)})}}for(m=0;m<a.length;m++)n=a[m],g[n.name]||(g[n.name]={},e.each(n.aggregates,function(a){g[n.name][this]=0})),void 0!=g[n.name].avg?(q=g[n.name].avg,r=b[n.name],g[n.name].avg=0===r||void 0==r?0:q/r):void 0!=g[n.name].count&&(g[n.name].count=h),(g[n.name].stdev||g[n.name].stdevp||g[n.name]["var"]||g[n.name].varp)&&e.each(n.aggregates,function(a){if("stdev"==this||"var"==this||"varp"==this||"stdevp"==this){for(var c=g[n.name][this]/h,b=a=0;b<h;b++){var f=d[b][n.name];a+=(f-c)*(f-c)}c="stdevp"==this||"varp"==this?h:h-1;0==c&&(c=1);if("var"==this||"varp"==this)g[n.name][this]=a/c;else if("stdevp"==this||"stdev"==this)g[n.name][this]=Math.sqrt(a/c)}}),n.formatStrings&&e.each(n.aggregates,function(a){if(a=n.formatStrings[a])if("min"==this||"max"==this||"count"==this||"product"==this||"sum"==this||"avg"==this||"stdev"==this||"stdevp"==this||"var"==this||"varp"==this){var b=g[n.name][this];g[n.name][this]=e.jqx.dataFormat.formatnumber(b,a,c)}else if("object"==typeof this)for(obj in this)b=g[n.name][obj],g[n.name][obj]=e.jqx.dataFormat.formatnumber(b,a,c)});return g}},bindDownloadComplete:function(a,c){this._downloadComplete[this._downloadComplete.length]={id:a,func:c}},unbindDownloadComplete:function(a){for(var c=0;c<this._downloadComplete.length;c++)if(this._downloadComplete[c].id==a){this._downloadComplete[c].func=null;this._downloadComplete.splice(c,1);break}},callDownloadComplete:function(){for(var a=0;a<this._downloadComplete.length;a++){var c=this._downloadComplete[a];null!=c.func&&c.func()}},setSource:function(a){this._source=a},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},getGroupedRecords:function(a,c,b,f,d,g,h,k,l){l||(l=0);for(var m=[],n=0;n<a.length;n++)m[n]=this.generatekey();c||(c="items");b||(b="group");d||(d="record");h||(h="parentItem");void 0===g&&(g="value");var q=[],p=0,r=[],t=a.length;k||(k=this.records);for(var v=k.length,u=function(a){f&&e.each(f,function(){this.name&&this.map&&(a[this.map]=a[this.name])});return a},w=0;w<v;w++){var x=u(k[w]);id=x[this.uniqueId];for(var D=[],J=0,n=0;n<t;n++){var z=x[a[n]];null!=z&&(D[J++]={value:z,hash:m[n]})}if(D.length!=t)break;for(var n=null,J="",z=-1,M=0;M<D.length;M++){z++;var C=D[M].value,J=J+"_"+D[M].hash+"_"+C;if(void 0!=r[J]&&null!=r[J])n=r[J];else{if(null==n){n={level:0};n[h]=null;n[b]=C;n[d]=x;n.expanded=void 0!==x.expanded?x.expanded:!1;g&&(n[g]=x[g]);n[c]=[];C=q.length+l;if(!this._source.id||"number"===typeof x.uid||isFinite(x.uid))C="Row"+C;n.uid=C;q[p++]=n}else{var Q={level:n.level+1};Q[h]=n;Q[b]=C;Q[c]=[];Q[d]=x;Q.expanded=void 0!==x.expanded?x.expanded:!1;g&&(Q[g]=x[g]);Q.uid=n.uid+"_"+n[c].length;n=n[c][n[c].length]=Q}r[J]=n}}x&&(x.leaf=!0);null!=n?(null==this._source.id&&(void 0==x.uid?x.uid=n.uid+"_"+n[c].length:-1==x.uid.toString().indexOf(n.uid)&&(x.uid=n.uid+"_"+x.uid)),x[h]=n,x.level=n.level+1,n[c][n[c].length]=x):void 0==x.uid&&(x.uid=this.generatekey())}return q},getRecordsHierarchy:function(a,c,b,f,d){var g=[],h=this.records;d&&(h=d);if(0==this.records.length)return null;var k=null!=b?b:"items";b=[];d=h.length;for(var l=this._source&&this._source.hierarchy?this._source.hierarchy.reservedNames:null,m=function(a){f&&e.each(f,function(){this.name&&this.map&&(a[this.map]=a[this.name])});return a},n=0;n<d;n++){var q=e.extend({},h[n]),p=q[c],r=q[a];b[r]={parentid:p,item:q}}for(n=0;n<d;n++)if(q=e.extend({},h[n]),p=q[c],r=q[a],void 0!=b[p]){var q={parentid:p,item:b[r].item},t=b[p].item;t[k]||(t[k]=[]);var v=t[k].length,u=q.item;l?void 0==u[l.parent]&&(u[l.parent]=t):void 0==u.parent&&(u.parent=t);u=m(u);t[k][v]=u;b[p].item=t;b[r]=q}else u=b[r].item,l?void 0==u[l.parent]&&(u[l.parent]=null):void 0==u.parent&&(u.parent=null),u=m(u),l?u[l.level]=0:u.level=0,g[g.length]=u;if(0!=g.length){var w=function(a,c){for(var b=0;b<c.length;b++){l?c[b][l.level]=a:c[b].level=a;var f=c[b][k];f?0<f.length?w(a+1,f):l?c[b][l.leaf]=!0:c[b].leaf=!0:l?c[b][l.leaf]=!0:c[b].leaf=!0}};w(0,g)}return g},bindBindingUpdate:function(a,c){this._bindingUpdate[this._bindingUpdate.length]={id:a,func:c}},unbindBindingUpdate:function(a){for(var c=0;c<this._bindingUpdate.length;c++)if(this._bindingUpdate[c].id==a){this._bindingUpdate[c].func=null;this._bindingUpdate.splice(c,1);break}},callBindingUpdate:function(a){for(var c=0;c<this._bindingUpdate.length;c++){var b=this._bindingUpdate[c];null!=b.func&&b.func(a)}},getid:function(a,c,b){if(null!=a&&void 0!=a.name&&a.name){var f=e(c).attr(a.name);if(null!=f&&0<f.toString().length)return f;if(a.map)try{f=e(c).attr(a.map);if(null!=f&&0<f.toString().length)return f;if(0<e(a.map,c).length)return e(a.map,c).text();if(0<e(a.name,c).length)return e(a.name,c).text()}catch(d){return b}}else{if(0<e(a,c).length)return e(a,c).text();if(a&&0<a.toString().length){f=e(c).attr(a);if(null!=f&&0<f.toString().length)return e.trim(f).split(" ").join("").replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"");f=a.split(this.mapChar);if(1<f.length){a=c;for(c=0;c<f.length;c++)void 0!=a&&(a=a[f[c]]);if(void 0!=a)return a}else if(void 0!=c[a])return c[a]}return b}},loadjson:function(a,c,b){"string"==typeof a&&(a=e.parseJSON(a));void 0==b.root&&(b.root="");void 0==b.record&&(b.record="");(a=a||c)||(a=[]);var f=this;if(""!=b.root){var d=b.root.split(f.mapChar);if(1<d.length){c=a;for(var g=0;g<d.length;g++)void 0!=c&&(c=c[d[g]]);a=c}else if(void 0!==a[b.root]?a=a[b.root]:e.each(a,function(c){if(this==b.root)return a=this,!1;void 0!=this[b.root]&&(a=this[b.root])}),!a&&(d=b.root.split(f.mapChar),0<d.length)){c=a;for(g=0;g<d.length;g++)void 0!=c&&(c=c[d[g]]);a=c}}else if(!a.length)for(obj in a)if(e.isArray(a[obj])){a=a[obj];break}null!=a&&void 0==a.length&&(a=e.makeArray(a));if(null==a||void 0==a||"undefined"==a||void 0==a.length)console.log("jqxDataAdapter: JSON Parse error! Invalid JSON. Please, check your JSON or your jqxDataAdapter initialization!");else if(0==a.length)this.totalrecords=0;else{c=a.length;this.totalrecords=this.virtualmode?b.totalrecords||c:c;this.records=[];this.originaldata=[];var h=this.records,k=this.pageable?this.pagesize*this.pagenum:b.recordstartindex;this.recordids=[];b.loadallrecords&&(k=0,c=this.totalrecords);var l=0;this.virtualmode&&(l=k=this.pageable?this.pagesize*this.pagenum:b.recordstartindex,k=0,c=this.totalrecords);var m=b.datafields?b.datafields.length:0;if(0==m){var n=a[0],q=[];for(obj in n)q[q.length]={name:obj};b.datafields=q;b.generatedfields=b.datafields;m=q.length}for(q=n=k;q<c;q++){var p=a[q];if(void 0==p)break;if(b.record&&""!=b.record&&(p=p[b.record],void 0==p))continue;var r=this.getid(b.id,p,q);"object"===typeof r&&(r=q);if(!this.recordids[r]){this.recordids[r]=p;for(var t={},v=0;v<m;v++){var u=b.datafields[v],d="";if(void 0!=u&&null!=u){if(u.map){if(e.isFunction(u.map))d=u.map(p);else if(d=u.map.split(f.mapChar),0<d.length){for(var w=p,g=0;g<d.length;g++)void 0!=w&&(w=w[d[g]]);d=w}else d=p[u.map];void 0!=d&&null!=d?d=this.getvaluebytype(d,u):void 0==d&&null!=d&&(d="")}""!=d||u.map||(d=p[u.name],void 0==d&&null!=d&&(d=""),void 0!=u.value&&void 0!=d&&(g=d[u.value],void 0!=g&&(d=g)));d=this.getvaluebytype(d,u);void 0!=u.displayname?t[u.displayname]=d:t[u.name]=d;if("array"===u.type){var x=function(a){if(a)for(var c=0;c<a.length;c++){var d=a[c];if(d)for(var g=0;g<m;g++){var h=b.datafields[g],k="";if(void 0!=h&&null!=h){if(h.map){if(e.isFunction(h.map))k=h.map(d);else if(k=h.map.split(f.mapChar),0<k.length){for(var l=d,n=0;n<k.length;n++)void 0!=l&&(l=l[k[n]]);k=l}else k=d[h.map];void 0!=k&&null!=k?k=this.getvaluebytype(k,h):void 0==k&&null!=k&&(k="")}""!=k||h.map||(k=d[h.name],void 0==k&&null!=k&&(k=""),void 0!=h.value&&void 0!=k&&(l=k[h.value],void 0!=l&&(k=l)));k=this.getvaluebytype(k,h);void 0!=h.displayname?d[h.displayname]=k:d[h.name]=k;"array"===h.type&&x.call(this,k)}}}};x.call(this,d)}}}if(0>=b.recordendindex||k<b.recordendindex)h[l+n]=e.extend({},t),h[l+n].uid=r,this.originaldata[l+n]=e.extend({},h[q]),n++}}this.cachedrecords=this.records=h}},loadxml:function(a,c,b){"string"==typeof a&&(c=e(e.parseXML(a)),a=null);void 0==b.root&&(b.root="");void 0==b.record&&(b.record="");(a=e.jqx.browser.msie&&c?void 0!=c.xml?e(b.root+" "+b.record,e.parseXML(c.xml)):a||e(b.root+" "+b.record,c):a||e(b.root+" "+b.record,c))||(a=[]);c=a.length;if(0!=a.length){this.totalrecords=this.virtualmode?b.totalrecords||c:c;this.records=[];this.originaldata=[];var f=this.records,d=this.pageable?this.pagesize*this.pagenum:b.recordstartindex;this.recordids=[];b.loadallrecords&&(d=0,c=this.totalrecords);var g=0;this.virtualmode&&(g=d=this.pageable?this.pagesize*this.pagenum:b.recordstartindex,d=0,c=this.totalrecords);var h=b.datafields?b.datafields.length:0;if(0==h){var k=a[0],l=[];for(obj in k)l[l.length]={name:obj};b.datafields=l;b.generatedfields=b.datafields;h=l.length}for(var m=d,k=d;k<c;k++){l=a[k];if(void 0==l)break;var n=this.getid(b.id,l,k);if(!this.recordids[n]){this.recordids[n]=l;var q={},p=!1;b.hierarchy&&b.hierarchy.root&&(p=!0);for(var r=0;r<h;r++){var t=b.datafields[r],u="";if(void 0!=t&&null!=t){if(t.map)if(e.isFunction(t.map))u=t.map(l);else{var v=t.map.indexOf("[");if(0>v)if(u=e(t.map,l),1==u.length)u=u.text();else{for(var v=[],w=0;w<u.length;w++)v.push(e(u[w]).text());u=v;p&&0<v.length&&(u=v[0])}else u=t.map.substring(0,v-1),w=t.map.indexOf("]"),v=t.map.substring(v+1,w),u=e(u,l).attr(v),void 0==u&&(u=e(l).attr(v)),void 0==u&&(u="");""==u&&(u=e(l).attr(t.map),void 0==u&&(u=""))}if(""==u){u=e(t.name,l);if(1==u.length)u=u.text();else{v=[];for(w=0;w<u.length;w++)v.push(e(u[w]).text());u=v;p&&0<v.length&&(u=v[0])}""==u&&(u=e(l).attr(t.name),void 0==u&&(u=""));""==u&&l.nodeName&&l.nodeName==t.name&&l.firstChild&&(u=e(l.firstChild).text())}u=this.getvaluebytype(u,t);void 0!=t.displayname?q[t.displayname]=u:q[t.name]=u}}if(0>=b.recordendindex||d<b.recordendindex)f[g+m]=e.extend({},q),f[g+m].uid=n,this.originaldata[g+m]=e.extend({},f[k]),m++}}if(b.hierarchy&&b.hierarchy.root)for(k=d;k<c;k++)l=a[k],d=f[k],0<e(l).parent().length?(n=this.getid(b.id,e(l).parents(b.hierarchy.record+":first")),d.parentuid=n):d.parentuid=null;this.cachedrecords=this.records=f}},loadtext:function(a,c){if(null!=a){var b=a.split(c.rowDelimiter||this.rowDelimiter||"\n"),f=b.length,d=a.split("\r");1==f&&1<d.length&&(b=d,f=b.length);this.totalrecords=this.virtualmode?c.totalrecords||f:f;this.records=[];this.originaldata=[];var d=this.records,g=this.pageable?this.pagesize*this.pagenum:c.recordstartindex;this.recordids=[];c.loadallrecords&&(g=0,f=this.totalrecords);var h=0;this.virtualmode&&(h=g=this.pageable?this.pagesize*this.pagenum:c.recordstartindex,g=0,f=this.totalrecords);var k=c.datafields.length,l=c.columnDelimiter||this.columnDelimiter;for(l||(l="tab"===c.datatype||"tsv"===c.datatype?"\t":",");g<f;g++){var m=b[g],n=null;if(!this.recordids[n]){null==c.id&&(n=g,this.recordids[n]=m);for(var q={},p=b[g].split(l),r=0;r<k;r++)if(!(r>=p.length)){var t=c.datafields[r],u=p[r];t.map&&e.isFunction(t.map)&&(u=t.map(m));t.type&&(u=this.getvaluebytype(u,t));q[t.map||t.name||r.toString()]=u;null!=c.id&&c.id===t.name&&(n=u,this.recordids[n]=m)}null==n&&(n=g);d[h+g]=e.extend({},q);d[h+g].uid=n;this.originaldata[h+g]=e.extend({},d[g])}}this.cachedrecords=this.records=d}},getvaluebytype:function(a,c){var b=a;if(null==a)return a;if(e.isArray(a)&&"array"!=c.type){for(b=0;b<a.length;b++)a[b]=this.getvaluebytype(a[b],c);return a}if("date"==c.type)if("NaN"==a)a="";else{var f=new Date(a);if("string"==typeof a&&c.format){var d=e.jqx.dataFormat.parsedate(a,c.format);null!=d&&(f=d)}a="NaN"==f.toString()||"Invalid Date"==f.toString()?e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(a):f:f;null==a&&(a=b)}else if("float"==c.type||"number"==c.type||"decimal"==c.type)"NaN"==a?a="":(a=parseFloat(a),isNaN(a)&&(a=b));else if("int"==c.type||"integer"==c.type)a=parseInt(a),isNaN(a)&&(a=b);else if("bool"==c.type||"boolean"==c.type)null!=a&&void 0!=a.toLowerCase&&("false"==a.toLowerCase()?a=!1:"true"==a.toLowerCase()&&(a=!0)),a=1==a?!0:0==a&&""!==a?!1:"";return a}};e.jqx.dataFormat={};e.extend(e.jqx.dataFormat,{regexTrim:/^\s+|\s+$/g,regexInfinity:/^[+-]?infinity$/i,regexHex:/^0x[a-f0-9]+$/i,regexParseFloat:/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,toString:Object.prototype.toString,isBoolean:function(a){return"boolean"===typeof a},isObject:function(a){return a&&("object"===typeof a||e.isFunction(a))||!1},isDate:function(a){return a instanceof Date},arrayIndexOf:function(a,c){if(a.indexOf)return a.indexOf(c);for(var b=0,f=a.length;b<f;b++)if(a[b]===c)return b;return-1},isString:function(a){return"string"===typeof a},isNumber:function(a){return"number"===typeof a&&isFinite(a)},isNull:function(a){return null===a},isUndefined:function(a){return"undefined"===typeof a},isValue:function(a){return this.isObject(a)||this.isString(a)||this.isNumber(a)||this.isBoolean(a)},isEmpty:function(a){if(!this.isString(a)&&this.isValue(a))return!1;if(!this.isValue(a))return!0;a=e.trim(a).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");return""===a},startsWith:function(a,c){return 0===a.indexOf(c)},endsWith:function(a,c){return a.substr(a.length-c.length)===c},trim:function(a){return(a+"").replace(this.regexTrim,"")},isArray:function(a){return"[object Array]"===this.toString.call(a)},defaultcalendar:function(){return{"/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"MM-dd-yyyy",zone1:"yyyy-MM-ddTHH:mm:ss-HH:mm",zone2:"yyyy-MM-ddTHH:mm:ss+HH:mm",custom:"yyyy-MM-ddTHH:mm:ss.fff",custom2:"yyyy-MM-dd HH:mm:ss.fff"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:","}},expandFormat:function(a,c){c=c||"F";var b;b=a.patterns;var f=c.length;if(1===f){b=b[c];if(!b)throw"Invalid date format string '"+c+"'.";c=b}else 2===f&&"%"===c.charAt(0)&&(c=c.charAt(1));return c},getEra:function(a,c){if(!c||"string"===typeof a)return 0;for(var b,f=a.getTime(),d=0,e=c.length;d<e;d++)if(b=c[d].start,null===b||f>=b)return d;return 0},toUpper:function(a){return a.split("\u00a0").join(" ").toUpperCase()},toUpperArray:function(a){for(var c=[],b=0,f=a.length;b<f;b++)c[b]=this.toUpper(a[b]);return c},getEraYear:function(a,c,b,f){a=a.getFullYear();!f&&c.eras&&(a-=c.eras[b].offset);return a},toUpper:function(a){return a?a.toUpperCase():""},getDayIndex:function(a,c,b){var f=a.days,d=a._upperDays;d||(a._upperDays=d=[this.toUpperArray(f.names),this.toUpperArray(f.namesAbbr),this.toUpperArray(f.namesShort)]);c=c.toUpperCase();b?(a=this.arrayIndexOf(d[1],c),-1===a&&(a=this.arrayIndexOf(d[2],c))):a=this.arrayIndexOf(d[0],c);return a},getMonthIndex:function(a,c,b){var f=a.months,d=a.monthsGenitive||a.months,e=a._upperMonths,g=a._upperMonthsGen;e||(a._upperMonths=e=[this.toUpperArray(f.names),this.toUpperArray(f.namesAbbr)],a._upperMonthsGen=g=[this.toUpperArray(d.names),this.toUpperArray(d.namesAbbr)]);c=this.toUpper(c);a=this.arrayIndexOf(b?e[1]:e[0],c);0>a&&(a=this.arrayIndexOf(b?g[1]:g[0],c));return a},appendPreOrPostMatch:function(a,c){for(var b=0,f=!1,d=0,e=a.length;d<e;d++){var g=a.charAt(d);switch(g){case "'":f?c.push("'"):b++;f=!1;break;case "\\":f&&c.push("\\");f=!f;break;default:c.push(g),f=!1}}return b},getTokenRegExp:function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g},formatlink:function(a,c){var b="";c&&c.target&&(b="target\x3d"+c.target);return""!=b?"\x3ca "+b+' href\x3d"'+a+'"\x3e'+a+"\x3c/a\x3e":'\x3ca href\x3d"'+a+'"\x3e'+a+"\x3c/a\x3e"},formatemail:function(a){return'\x3ca href\x3d"mailto:'+a+'"\x3e'+a+"\x3c/a\x3e"},formatNumber:function(a,c,b){return this.formatnumber(a,c,b)},formatnumber:function(a,c,b){if(void 0==b||null==b||""==b)b=this.defaultcalendar();if(""===c||null===c)return a;this.isNumber(a)||(a*=1);var f;1<c.length&&(f=parseInt(c.slice(1),10));var d,e,g,h;e=c.charAt(0).toUpperCase();c=b.thousandsseparator;d=b.decimalseparator;switch(e){case "D":case "d":case "F":case "f":e=f;break;case "N":case "n":e=0;break;case "C":case "c":e=f;"before"==b.currencysymbolposition?g=b.currencysymbol:h=b.currencysymbol;break;case "P":case "p":h=b.percentsymbol;e=f;break;default:throw"Bad number format specifier: "+e;}if(this.isNumber(a)){b=0>a;f=a+"";d=d?d:".";if(this.isNumber(e)){var k=e;f=Math.pow(10,k);f=(a*f).toFixed(0)/f+"";a=f.lastIndexOf(".");if(0<k)for(0>a?(f+=d,a=f.length-1):"."!==d&&(f=f.replace(".",d));f.length-1-a<k;)f+="0"}else f=a+"",a=f.lastIndexOf("."),0<a&&void 0==k&&"."!==d&&(f=f.replace(".",d));if(c){a=f.lastIndexOf(d);a=-1<a?a:f.length;k=f.substring(a);d=-1;for(e=a;0<e;e--)d++,0===d%3&&e!==a&&(!b||1<e)&&(k=c+k),k=f.charAt(e-1)+k;f=k}f=g?g+f:f;return h?f+h:f}return a},tryparsedate:function(a,c){if(void 0==c||null==c)c=this.defaultcalendar();if(""==a)return null;null==a||a.substring||(a=a.toString());if(null!=a&&"/Date("==a.substring(0,6)){var b=/^\/Date\((-?\d+)(\+|-)?(\d+)?\)\/$/,f=new Date(+a.replace(/\/Date\((\d+)\)\//,"$1"));if("Invalid Date"==f){var d=a.match(/^\/Date\((\d+)([-+]\d\d)(\d\d)\)\/$/),f=null;d&&(f=new Date(1*d[1]+36E5*d[2]+6E4*d[3]))}if(null==f||"Invalid Date"==f||isNaN(f)){var g=b.exec(a);if(g){var h=new Date(parseInt(g[1]));g[2]&&(b=parseInt(g[3]),"-"===g[2]&&(b=-b),g=h.getUTCMinutes(),h.setUTCMinutes(g-b));if(!isNaN(h.valueOf()))return h}}return f}patterns=c.patterns;for(prop in patterns)if(f=this.parsedate(a,patterns[prop],c))return"ISO"==prop&&(b=this.parsedate(a,patterns.ISO2,c))?b:f;if(null!=a){for(var h=[":","/","-"],f=!0,k=0;k<h.length;k++)-1!=a.indexOf(h[k])&&(f=!1);if(f&&(f=new Number(a),!isNaN(f)))return new Date(f)}if("string"===e.type(a)){a=this.trim(a);var l=[":","/","-"," ",","];a=a.replace(RegExp(", ","g"),",");var g="",m=a;0<=a.indexOf(":")?(g=a.substring(a.indexOf(":")-2),g=this.trim(g),m=a.substring(0,a.indexOf(":")-2)):0<=a.toUpperCase().indexOf("AM")?(g=a.substring(a.toUpperCase().indexOf("AM")-2),g=this.trim(g),m=a.substring(0,a.toUpperCase().indexOf("AM")-2)):0<=a.toUpperCase().indexOf("PM")&&(g=a.substring(a.toUpperCase().indexOf("PM")-2),g=this.trim(g),m=a.substring(0,a.toUpperCase().indexOf("PM")-2));f=new Date;b=!1;if(m){for(d=0;d<l.length;d++)if(0<=m.indexOf(l[d])){h=m.split(l[d]);break}for(var l=[],m=[],n=[],q=null,p=null,d=0;d<h.length;d++){var k=h[d],r=this.parsedate(k,"d",c)||this.parsedate(k,"dd",c)||this.parsedate(k,"ddd",c)||this.parsedate(k,"dddd",c);if(r&&2>=k.length){q=d;l.push(r.getDate());break}}for(d=0;d<h.length;d++)if(k=h[d],(r=this.parsedate(k,"M",c)||this.parsedate(k,"MM",c)||this.parsedate(k,"MMM",c)||this.parsedate(k,"MMMM",c))&&(void 0==q||q!=d)&&(m.push(r.getMonth()),2<k.length)){p=d;break}for(d=0;d<h.length;d++)k=h[d],k=this.parsedate(k,"yyyy",c),!k||void 0!=q&&q==d||void 0!=p&&p==d||n.push(k.getFullYear());k=[];for(q=0;q<l.length;q++)for(d=0;d<m.length;d++)for(p=0;p<n.length;p++)h=new Date(n[p],m[d],l[q]),1970>n[p]&&h.setFullYear(n[p]),NaN!=h.getTime()&&k.push(h);0<k.length&&(f=k[0],b=!0)}g&&(h=0<=g.indexOf(":")?g.split(":"):g,g=this.parsedate(g,"h:mm tt",c)||this.parsedate(g,"h:mm:ss tt",c)||this.parsedate(g,"HH:mm:ss.fff",c)||this.parsedate(g,"HH:mm:ss.ff",c)||this.parsedate(g,"HH:mm:ss.tttt",c)||this.parsedate(g,"HH:mm:ss",c)||this.parsedate(g,"HH:mm",c)||this.parsedate(g,"HH",c),d=n=m=l=0,g&&NaN!=g.getTime()?(l=g.getHours(),m=g.getMinutes(),n=g.getSeconds(),d=g.getMilliseconds()):(1==h.length&&(l=parseInt(h[0])),2==h.length&&(l=parseInt(h[0]),m=parseInt(h[1])),3==h.length&&(l=parseInt(h[0]),m=parseInt(h[1]),0<=h[2].indexOf(".")?(n=parseInt(h[2].toString().split(".")[0]),d=parseInt(h[2].toString().split(".")[1])):n=parseInt(h[2])),4==h.length&&(l=parseInt(h[0]),m=parseInt(h[1]),n=parseInt(h[2]),d=parseInt(h[3]))),!f||isNaN(l)||isNaN(m)||isNaN(n)||isNaN(d)||(f.setHours(l,m,n,d),b=!0));if(b)return f}return null},getparseregexp:function(a,c){var b=a._parseRegExp;if(b){var f=b[c];if(f)return f}else a._parseRegExp=b={};for(var f=this.expandFormat(a,c).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),d=["^"],e=[],g=0,h=0,k=this.getTokenRegExp(),l;null!==(l=k.exec(f));){var m=f.slice(g,l.index),g=k.lastIndex,h=h+this.appendPreOrPostMatch(m,d);if(h%2)d.push(l[0]);else{var m=l[0],n=m.length;switch(m){case "dddd":case "ddd":case "MMMM":case "MMM":case "gg":case "g":m="(\\D+)";break;case "tt":case "t":m="(\\D*)";break;case "yyyy":case "fff":case "ff":case "f":m="(\\d{"+n+"})";break;case "dd":case "d":case "MM":case "M":case "yy":case "y":case "HH":case "H":case "hh":case "h":case "mm":case "m":case "ss":case "s":m="(\\d\\d?)";break;case "zzz":m="([+-]?\\d\\d?:\\d{2})";break;case "zz":case "z":m="([+-]?\\d\\d?)";break;case "/":m="(\\"+a["/"]+")";break;default:throw"Invalid date format pattern '"+m+"'.";}m&&d.push(m);e.push(l[0])}}this.appendPreOrPostMatch(f.slice(g),d);d.push("$");f={regExp:d.join("").replace(/\s+/g,"\\s+"),groups:e};return b[c]=f},outOfRange:function(a,c,b){return a<c||a>b},expandYear:function(a,c){var b=new Date,f=this.getEra(b);if(100>c){var d=a.twoDigitYearMax,d="string"===typeof d?(new Date).getFullYear()%100+parseInt(d,10):d,b=this.getEraYear(b,a,f);c+=b-b%100;c>d&&(c-=100)}return c},parsedate:function(a,c,b){if(void 0==b||null==b)b=this.defaultcalendar();a=this.trim(a);c=this.getparseregexp(b,c);var f=(new RegExp(c.regExp)).exec(a);if(null===f)return null;var d=c.groups,e=c=a=null,g=null,h=null,k=0,l,m=0,n=0,q=0;l=null;for(var p=!1,r=0,t=d.length;r<t;r++){var u=f[r+1];if(u){var v=d[r],w=v.length,x=parseInt(u,10);switch(v){case "dd":case "d":g=x;if(this.outOfRange(g,1,31))return null;break;case "MMM":case "MMMM":e=this.getMonthIndex(b,u,3===w);if(this.outOfRange(e,0,11))return null;break;case "M":case "MM":e=x-1;if(this.outOfRange(e,0,11))return null;break;case "y":case "yy":case "yyyy":c=4>w?this.expandYear(b,x):x;if(this.outOfRange(c,0,9999))return null;break;case "h":case "hh":k=x;12===k&&(k=0);if(this.outOfRange(k,0,11))return null;break;case "H":case "HH":k=x;if(this.outOfRange(k,0,23))return null;break;case "m":case "mm":m=x;if(this.outOfRange(m,0,59))return null;break;case "s":case "ss":n=x;if(this.outOfRange(n,0,59))return null;break;case "tt":case "t":p=b.PM&&(u===b.PM[0]||u===b.PM[1]||u===b.PM[2]);if(!p&&(!b.AM||u!==b.AM[0]&&u!==b.AM[1]&&u!==b.AM[2]))return null;break;case "f":case "ff":case "fff":q=x*Math.pow(10,3-w);if(this.outOfRange(q,0,999))return null;break;case "ddd":case "dddd":h=this.getDayIndex(b,u,3===w);if(this.outOfRange(h,0,6))return null;break;case "zzz":v=u.split(/:/);if(2!==v.length)return null;l=parseInt(v[0],10);if(this.outOfRange(l,-12,13))return null;v=parseInt(v[1],10);if(this.outOfRange(v,0,59))return null;l=60*l+(this.startsWith(u,"-")?-v:v);break;case "z":case "zz":l=x;if(this.outOfRange(l,-12,13))return null;l*=60;break;case "g":case "gg":if(!u||!b.eras)return null;u=trim(u.toLowerCase());v=0;for(w=b.eras.length;v<w;v++)if(u===b.eras[v].name.toLowerCase()){a=v;break}if(null===a)return null}}}f=new Date;r=b.convert;d=f.getFullYear();null===c?c=d:b.eras&&(c+=b.eras[a||0].offset);null===e&&(e=0);null===g&&(g=1);if(r){if(f=r.toGregorian(c,e,g),null===f)return null}else if(f.setFullYear(c,e,g),f.getDate()!==g||null!==h&&f.getDay()!==h)return null;p&&12>k&&(k+=12);f.setHours(k,m,n,q);null!==l&&(b=f.getMinutes()-(l+f.getTimezoneOffset()),f.setHours(f.getHours()+parseInt(b/60,10),b%60));return f},cleardatescache:function(){this.datescache=[]},formatDate:function(a,c,b){return this.formatdate(a,c,b)},formatdate:function(a,c,b){function f(a,c){var b;b=a+"";return 1<c&&b.length<c?(b=m[c-2]+b,b.substr(b.length-c,c)):b}function d(a,c){if(p)return p[c];if(void 0!=a.getMonth)switch(c){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if(void 0==b||null==b)b=this.defaultcalendar();if("string"===typeof a)return a;var e=a.toString()+"_"+c;if(this.datescache&&this.datescache[e])return this.datescache[e];if(!c||!c.length||"i"===c){var g;return g=this.formatDate(a,b.patterns.F,b)}var h=b.eras,k="s"===c;c=this.expandFormat(b,c);g=[];for(var l,m=["0","00","000"],n=0,q=this.getTokenRegExp(),p;;){l=q.lastIndex;var r=q.exec(c);l=c.slice(l,r?r.index:c.length);n+=this.appendPreOrPostMatch(l,g);if(!r)break;if(n%2)g.push(r[0]);else switch(l=r[0],r=l.length,l){case "ddd":case "dddd":g.push((3===r?b.days.namesAbbr:b.days.names)[a.getDay()]);break;case "d":case "dd":g.push(f(d(a,2),r));break;case "MMM":case "MMMM":l=d(a,1);g.push(b.months[3===r?"namesAbbr":"names"][l]);break;case "M":case "MM":g.push(f(d(a,1)+1,r));break;case "y":case "yy":case "yyyy":l=this.getEraYear(a,b,this.getEra(a,h),k);4>r&&(l%=100);g.push(f(l,r));break;case "h":case "hh":l=a.getHours()%12;0===l&&(l=12);g.push(f(l,r));break;case "H":case "HH":g.push(f(a.getHours(),r));break;case "m":case "mm":g.push(f(a.getMinutes(),r));break;case "s":case "ss":g.push(f(a.getSeconds(),r));break;case "t":case "tt":l=12>a.getHours()?b.AM?b.AM[0]:" ":b.PM?b.PM[0]:" ";g.push(1===r?l.charAt(0):l);break;case "f":case "ff":case "fff":g.push(f(a.getMilliseconds(),3).substr(0,r));break;case "z":case "zz":l=a.getTimezoneOffset()/60;g.push((0>=l?"+":"-")+f(Math.floor(Math.abs(l)),r));break;case "zzz":l=a.getTimezoneOffset()/60;g.push((0>=l?"+":"-")+f(Math.floor(Math.abs(l)),2)+":"+f(Math.abs(a.getTimezoneOffset()%60),2));break;case "g":case "gg":b.eras&&g.push(b.eras[this.getEra(a,h)].name);break;case "/":g.push(b["/"]);break;default:throw"Invalid date format pattern '"+l+"'.";}}a=g.join("");this.datescache||(this.datescache=[]);return this.datescache[e]=a}});e.jqx.data={};var d,g,h=/#.*$/,l=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,k=/^(?:GET|HEAD)$/,m=/^\/\//,n=/\?/,p=/([?&])_=[^&]*/,q=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,r=/\s+/,t={},v={},u=["*/"]+["*"];try{g=location.href}catch(B){g=document.createElement("a"),g.href="",g=g.href}d=q.exec(g.toLowerCase())||[];e.extend(e.jqx.data,{ajaxSetup:function(a,b){b?c(a,e.jqx.data.ajaxSettings):(b=a,a=e.jqx.data.ajaxSettings);c(a,b);return a},ajaxSettings:{url:g,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(d[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":u},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":window.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:a(t),ajaxTransport:a(v),ajax:function(a,c){function f(a,c,b,d){var h,k,l,m,n=c;if(2!==O){O=2;J&&clearTimeout(J);D=void 0;w=d||"";H.readyState=0<a?4:0;if(b){m=y;d=H;var q,p,r,t,u=m.contents,v=m.dataTypes,A=m.responseFields;for(p in A)p in b&&(d[A[p]]=b[p]);for(;"*"===v[0];)v.shift(),void 0===q&&(q=m.mimeType||d.getResponseHeader("content-type"));if(q)for(p in u)if(u[p]&&u[p].test(q)){v.unshift(p);break}if(v[0]in b)r=v[0];else{for(p in b){if(!v[0]||m.converters[p+" "+v[0]]){r=p;break}t||(t=p)}r=r||t}r?(r!==v[0]&&v.unshift(r),m=b[r]):m=void 0}if(200<=a&&300>a||304===a)if(y.ifModified&&((b=H.getResponseHeader("Last-Modified"))&&(e.lastModified[g]=b),(b=H.getResponseHeader("Etag"))&&(e.etag[g]=b)),304===a)n="notmodified",h=!0;else{a:{k=y;l=m;var B,x,n=k.dataTypes.slice();q=n[0];p={};r=0;k.dataFilter&&(l=k.dataFilter(l,k.dataType));if(n[1])for(B in k.converters)p[B.toLowerCase()]=k.converters[B];for(;b=n[++r];)if("*"!==b){if("*"!==q&&q!==b){B=p[q+" "+b]||p["* "+b];if(!B)for(x in p)if(h=x.split(" "),h[1]===b&&(B=p[q+" "+h[0]]||p["* "+h[0]])){!0===B?B=p[x]:!0!==p[x]&&(b=h[0],n.splice(r--,0,b));break}if(!0!==B)if(B&&k["throws"])l=B(l);else try{l=B(l)}catch(L){h={state:"parsererror",error:B?L:"No conversion from "+q+" to "+b};break a}}q=b}h={state:"success",data:l}}n=h.state;k=h.data;l=h.error;h=!l}else if(l=n,!n||a)n="error",0>a&&(a=0);H.status=a;H.statusText=(c||n)+"";h?U.resolveWith(P,[k,n,H]):U.rejectWith(P,[H,n,l]);H.statusCode(S);S=void 0;M&&T.trigger("ajax"+(h?"Success":"Error"),[H,y,h?k:l]);X.fireWith(P,[H,n]);M&&(T.trigger("ajaxComplete",[H,y]),--e.active||e.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=void 0);c=c||{};var g,w,x,D,J,z,M,C,y=e.jqx.data.ajaxSetup({},c),P=y.context||y,T=P!==y&&(P.nodeType||P instanceof e)?e(P):e.event,U=e.Deferred(),X=e.Callbacks("once memory"),S=y.statusCode||{},W={},Y={},O=0,Z="canceled",H={readyState:0,setRequestHeader:function(a,c){if(!O){var b=a.toLowerCase();a=Y[b]=Y[b]||a;W[a]=c}return this},getAllResponseHeaders:function(){return 2===O?w:null},getResponseHeader:function(a){var c;if(2===O){if(!x)for(x={};c=l.exec(w);)x[c[1].toLowerCase()]=c[2];c=x[a.toLowerCase()]}return void 0===c?null:c},overrideMimeType:function(a){O||(y.mimeType=a);return this},abort:function(a){a=a||Z;D&&D.abort(a);f(0,a);return this}};U.promise(H);H.success=H.done;H.error=H.fail;H.complete=X.add;H.statusCode=function(a){if(a){var c;if(2>O)for(c in a)S[c]=[S[c],a[c]];else c=a[H.status],H.always(c)}return this};y.url=((a||y.url)+"").replace(h,"").replace(m,d[1]+"//");y.dataTypes=e.trim(y.dataType||"*").toLowerCase().split(r);null==y.crossDomain&&(z=q.exec(y.url.toLowerCase()),y.crossDomain=!(!z||z[1]===d[1]&&z[2]===d[2]&&(z[3]||("http:"===z[1]?80:443))==(d[3]||("http:"===d[1]?80:443))));y.data&&y.processData&&"string"!==typeof y.data&&(y.data=e.param(y.data,y.traditional));b(t,y,c,H);if(2===O)return H;M=y.global;y.type=y.type.toUpperCase();y.hasContent=!k.test(y.type);M&&0===e.active++&&e.event.trigger("ajaxStart");if(!y.hasContent&&(y.data&&(y.url+=(n.test(y.url)?"\x26":"?")+y.data,delete y.data),g=y.url,!1===y.cache)){z=e.now();var aa=y.url.replace(p,"$1_\x3d"+z);y.url=aa+(aa===y.url?(n.test(y.url)?"\x26":"?")+"_\x3d"+z:"")}(y.data&&y.hasContent&&!1!==y.contentType||c.contentType)&&H.setRequestHeader("Content-Type",y.contentType);y.ifModified&&(g=g||y.url,e.lastModified[g]&&H.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&H.setRequestHeader("If-None-Match",e.etag[g]));H.setRequestHeader("Accept",y.dataTypes[0]&&y.accepts[y.dataTypes[0]]?y.accepts[y.dataTypes[0]]+("*"!==y.dataTypes[0]?", "+u+"; q\x3d0.01":""):y.accepts["*"]);for(C in y.headers)H.setRequestHeader(C,y.headers[C]);if(y.beforeSend&&(!1===y.beforeSend.call(P,H,y)||2===O))return H.abort();Z="abort";for(C in{success:1,error:1,complete:1})H[C](y[C]);if(D=b(v,y,c,H)){H.readyState=1;M&&T.trigger("ajaxSend",[H,y]);y.async&&0<y.timeout&&(J=setTimeout(function(){H.abort("timeout")},y.timeout));try{O=1,D.send(W,f)}catch(ba){if(2>O)f(-1,ba);else throw ba;}}else f(-1,"No Transport");return H},active:0,lastModified:{},etag:{}});var w=[],x=/\?/,z=/(=)\?(?=&|$)|\?\?/,D=e.now();e.jqx.data.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=w.pop()||e.expando+"_"+D++;this[a]=!0;return a}});e.jqx.data.ajaxPrefilter("json jsonp",function(a,c,b){var f,d,g,h=a.data,k=a.url,l=!1!==a.jsonp,m=l&&z.test(k),n=l&&!m&&"string"===typeof h&&!(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&z.test(h);if("jsonp"===a.dataTypes[0]||m||n)return f=a.jsonpCallback=e.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback,d=window[f],m?a.url=k.replace(z,"$1"+f):n?a.data=h.replace(z,"$1"+f):l&&(a.url+=(x.test(k)?"\x26":"?")+a.jsonp+"\x3d"+f),a.converters["script json"]=function(){g||e.error(f+" was not called");return g[0]},a.dataTypes[0]="json",window[f]=function(){g=arguments},b.always(function(){window[f]=d;a[f]&&(a.jsonpCallback=c.jsonpCallback,w.push(f));g&&e.isFunction(d)&&d(g[0]);g=d=void 0}),"script"});e.jqx.data.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){e.globalEval(a);return a}}});e.jqx.data.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});e.jqx.data.ajaxTransport("script",function(a){if(a.crossDomain){var c,b=document.head||document.getElementsByTagName("head")[0]||document.documentElement;return{send:function(f,d){c=document.createElement("script");c.async="async";a.scriptCharset&&(c.charset=a.scriptCharset);c.src=a.url;c.onload=c.onreadystatechange=function(a,f){if(f||!c.readyState||/loaded|complete/.test(c.readyState))c.onload=c.onreadystatechange=null,b&&c.parentNode&&b.removeChild(c),c=void 0,f||d(200,"success")};b.insertBefore(c,b.firstChild)},abort:function(){if(c)c.onload(0,1)}}}});var C,J=window.ActiveXObject?function(){for(var a in C)C[a](0,1)}:!1,M=0;e.jqx.data.ajaxSettings.xhr=window.ActiveXObject?function(){var a;if(!(a=!this.isLocal&&f()))a:{try{a=new window.ActiveXObject("Microsoft.XMLHTTP");break a}catch(c){}a=void 0}return a}:f;(function(a){e.extend(e.support,{ajax:!!a,cors:!!a&&"withCredentials"in a})})(e.jqx.data.ajaxSettings.xhr());e.support.ajax&&e.jqx.data.ajaxTransport(function(a){if(!a.crossDomain||e.support.cors){var c;return{send:function(b,f){var d,g,h=a.xhr();a.username?h.open(a.type,a.url,a.async,a.username,a.password):h.open(a.type,a.url,a.async);if(a.xhrFields)for(g in a.xhrFields)h[g]=a.xhrFields[g];a.mimeType&&h.overrideMimeType&&h.overrideMimeType(a.mimeType);a.crossDomain||b["X-Requested-With"]||(b["X-Requested-With"]="XMLHttpRequest");try{for(g in b)h.setRequestHeader(g,b[g])}catch(k){}h.send(a.hasContent&&a.data||null);c=function(b,g){var k,l,m,n,q;try{if(c&&(g||4===h.readyState))if(c=void 0,d&&(h.onreadystatechange=e.noop,J&&delete C[d]),g)4!==h.readyState&&h.abort();else{k=h.status;m=h.getAllResponseHeaders();n={};(q=h.responseXML)&&q.documentElement&&(n.xml=q);try{n.text=h.responseText}catch(p){}try{l=h.statusText}catch(p){l=""}k||!a.isLocal||a.crossDomain?1223===k&&(k=204):k=n.text?200:404}}catch(p){g||f(-1,p)}n&&f(k,l,n,m)};a.async?4===h.readyState?setTimeout(c,0):(d=++M,J&&(C||(C={},e(window).unload(J)),C[d]=c),h.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});e.jqx.filter=function(){this.operator="and";var a="EMPTY NOT_EMPTY CONTAINS CONTAINS_CASE_SENSITIVE DOES_NOT_CONTAIN DOES_NOT_CONTAIN_CASE_SENSITIVE STARTS_WITH STARTS_WITH_CASE_SENSITIVE ENDS_WITH ENDS_WITH_CASE_SENSITIVE EQUAL EQUAL_CASE_SENSITIVE NULL NOT_NULL".split(" "),c="EQUAL NOT_EQUAL LESS_THAN LESS_THAN_OR_EQUAL GREATER_THAN GREATER_THAN_OR_EQUAL NULL NOT_NULL".split(" "),b="EQUAL NOT_EQUAL LESS_THAN LESS_THAN_OR_EQUAL GREATER_THAN GREATER_THAN_OR_EQUAL NULL NOT_NULL".split(" "),f=["EQUAL","NOT_EQUAL"],d=[],g=[];this.evaluate=function(a){for(var c=!0,b=0;b<d.length;b++)var f=d[b].evaluate(a),c=0==b?f:1==g[b]||"or"==g[b]?c||f:c&&f;return c};this.getfilterscount=function(){return d.length};this.setoperatorsbyfiltertype=function(d,e){switch(d){case "numericfilter":c=e;break;case "stringfilter":a=e;break;case "datefilter":b=e;break;case "booleanfilter":f=e}};this.getoperatorsbyfiltertype=function(d){var e=[];switch(d){case "numericfilter":e=c.slice(0);break;case "stringfilter":e=a.slice(0);break;case "datefilter":e=b.slice(0);break;case "booleanfilter":e=f.slice(0)}return e};var h=function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+"-"+a()+"-"+a()};this.createfilter=function(a,c,b,f,d,e){if(null==a||void 0==a)return null;switch(a){case "numericfilter":return new m(c,b.toUpperCase());case "stringfilter":return new k(c,b.toUpperCase());case "datefilter":return new n(c,b.toUpperCase(),d,e);case "booleanfilter":return new l(c,b.toUpperCase());case "custom":return new q(c,b.toUpperCase(),f)}throw Error("jqxGrid: There is no such filter type. The available filter types are: 'numericfilter', 'stringfilter', 'datefilter' and 'booleanfilter'");};this.getfilters=function(){for(var a=[],c=0;c<d.length;c++){var b={value:d[c].filtervalue,condition:d[c].comparisonoperator,operator:g[c],type:d[c].type};d[c].data&&(b.id=d[c].data);a[c]=b}return a};this.addfilter=function(a,c){d[d.length]=c;c.key=h();g[g.length]=a};this.removefilter=function(a){for(var c=0;c<d.length;c++)if(d[c].key==a.key){d.splice(c,1);g.splice(c,1);break}};this.getoperatorat=function(a){return void 0==a||null==a||0>a||a>d.length?null:g[a]};this.setoperatorat=function(a,c){if(void 0==a||null==a||0>a||a>d.length)return null;g[c]=c};this.getfilterat=function(a){return void 0==a||null==a||0>a||a>d.length?null:d[a]};this.setfilterat=function(a,c){if(void 0==a||null==a||0>a||a>d.length)return null;c.key=h();d[a]=c};this.clear=function(){d=[];g=[]};var k=function(a,c){this.filtervalue=a;this.comparisonoperator=c;this.type="stringfilter";this.evaluate=function(a){var c=this.filtervalue,b=this.comparisonoperator;if(null==a||void 0==a||""==a){if("NULL"==b||"EQUAL"==b&&a==c||"NOT_EQUAL"==b&&a!=c)return!0;if("EMPTY"!=b)return!1;if(""==a)return!0}var f="";try{f=a.toString()}catch(d){return!0}var g=function(a,c){switch(b){case "EQUAL":return e.jqx.string.equalsIgnoreCase(a,c);case "EQUAL_CASE_SENSITIVE":return e.jqx.string.equals(a,c);case "NOT_EQUAL":return!e.jqx.string.equalsIgnoreCase(a,c);case "NOT_EQUAL_CASE_SENSITIVE":return!e.jqx.string.equals(a,c);case "CONTAINS":return e.jqx.string.containsIgnoreCase(a,c);case "CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(a,c);case "DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(a,c);case "DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(a,c);case "EMPTY":return""==a;case "NOT_EMPTY":return""!=a;case "NOT_NULL":return null!=a;case "STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(a,c);case "ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(a,c);case "ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(a,c);case "STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(a,c);default:return!1}},h=[];if(c&&c.indexOf&&(0<=c.indexOf("|")||0<=c.indexOf(" AND ")||0<=c.indexOf(" OR ")||0<=c.indexOf(" and ")||0<=c.indexOf(" or "))){if(a=g(f,c))return a;var k=0<=c.indexOf(" AND ")?c.split(" AND "):[];a=0<=c.indexOf(" OR ")?c.split(" OR "):[];var l=0<=c.indexOf(" and ")?c.split(" and "):[],m=0<=c.indexOf(" or ")?c.split(" or "):[],n=0<=c.indexOf("|")?c.split("|"):[];if(0<n.length)for(var q=0;q<n.length;q++)n[q]=e.trim(n[q]);c=0<=c.indexOf(" ")?c.split(" "):[];if(0<c.length)for(q=0;q<c.length;q++)c[q]=e.trim(c[q]);k=k.concat(c);k=k.concat(l);a=a.concat(n);a=a.concat(m);if(0<k.length)for(q=0;q<k.length;q++)0<=!k[q].indexOf(" OR ")&&h.push(k[q]);if(0<a.length)for(q=0;q<a.length;q++)0<=!a[q].indexOf(" AND ")&&h.push(a[q]);c=void 0;for(l=0;l<h.length;l++)a=h[l],a=g(f,a),m=l<k.length?"and":"or",c=void 0==c?a:"or"==m?c||a:c&&a;return c}return g(f,c)}},l=function(a,c){this.filtervalue=a;this.comparisonoperator=c;this.type="booleanfilter";this.evaluate=function(a){var c=this.filtervalue,b=this.comparisonoperator;if(null==a||void 0==a)return"NULL"==b?!0:!1;switch(b){case "EQUAL":return a==c||a.toString()==c.toString();case "NOT_EQUAL":return a!=c&&a.toString()!=c.toString();default:return!1}}},m=function(a,c){this.filtervalue=a;this.comparisonoperator=c;this.type="numericfilter";this.evaluate=function(a){var c=this.filtervalue,b=this.comparisonoperator;if(null===a||void 0===a||""===a){if("NOT_NULL"==b)return!1;if("NULL"==b)return!0;switch(b){case "EQUAL":return a==c;case "NOT_EQUAL":return a!=c}return!1}if("NULL"==b)return!1;if("NOT_NULL"==b)return!0;var f=a;try{f=parseFloat(f)}catch(d){if(""!=a.toString())return!1}var g=function(a,c){switch(b){case "EQUAL":return a==c;case "NOT_EQUAL":return a!=c;case "GREATER_THAN":return a>c;case "GREATER_THAN_OR_EQUAL":return a>=c;case "LESS_THAN":return a<c;case "LESS_THAN_OR_EQUAL":return a<=c;case "STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(a.toString(),c.toString());case "ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(a.toString(),c.toString());case "ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(a.toString(),c.toString());case "STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(a.toString(),c.toString());case "CONTAINS":return e.jqx.string.containsIgnoreCase(a.toString(),c.toString());case "CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(a.toString(),c.toString());case "DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(a.toString(),c.toString());case "DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(a.toString(),c.toString());default:return!0}},h=[];if(c&&c.indexOf&&(0<=c.indexOf("|")||0<=c.indexOf(" AND ")||0<=c.indexOf(" OR ")||0<=c.indexOf(" and ")||0<=c.indexOf(" or "))){var k=g(f,c);if(k)return k;var c=c.toString(),l=0<=c.indexOf(" AND ")?c.split(" AND "):[],m=0<=c.indexOf(" OR ")?c.split(" OR "):[];a=0<=c.indexOf(" and ")?c.split(" and "):[];var n=0<=c.indexOf(" or ")?c.split(" or "):[],l=l.concat(a),m=m.concat(n),c=0<=c.indexOf("|")?c.split("|"):[];if(0<c.length)for(a=0;a<c.length;a++)c[a]=e.trim(c[a]);m=m.concat(c);if(0<l.length)for(a=0;a<l.length;a++)0<=!l[a].indexOf(" OR ")&&h.push(l[a]);if(0<m.length)for(a=0;a<m.length;a++)0<=!m[a].indexOf(" AND ")&&h.push(m[a]);m=void 0;for(c=0;c<h.length;c++)(a=h[c])&&a.indexOf&&0<=a.indexOf("..")?(a=a.toString().split(".."),2==a.length&&(k=f>=a[0]&&f<=a[1])):k=g(f,a),a=c<l.length?"and":"or",m=void 0==m?k:"or"==a?m||k:m&&k;return m}return c&&c.indexOf&&0<=c.indexOf("..")&&(h=c.toString().split(".."),2==h.length)?f>=h[0]&&f<=h[1]:g(f,c)}},n=function(a,c,b,f){this.filtervalue=a;this.type="datefilter";var d=this;if(void 0!=b&&void 0!=f){var g=e.jqx.dataFormat.parsedate(a,b,f);null!=g?this.filterdate=g:(g=e.jqx.dataFormat.tryparsedate(a,f),null!=g&&(this.filterdate=g))}else g=new Date(a),this.filterdate="NaN"==g.toString()||"Invalid Date"==g.toString()?e.jqx.dataFormat.tryparsedate(a):g;this.filterdate||(g=new Date(a),this.filterdate="NaN"==g.toString()||"Invalid Date"==g.toString()?e.jqx.dataFormat.tryparsedate(a):g);this.comparisonoperator=c;this.evaluate=function(a){var c=this.filtervalue,g=this.comparisonoperator;if(null==a||void 0==a||""==a){if("NOT_NULL"==g)return!1;if("NULL"==g)return!0;switch(g){case "EQUAL":return a==c;case "NOT_EQUAL":return a!=c}return!1}if("NULL"==g)return!1;if("NOT_NULL"==g)return!0;var h=new Date;h.setFullYear(1900,0,1);h.setHours(12,0,0,0);try{var k=new Date(a),h=a="NaN"==k.toString()||"Invalid Date"==k.toString()?e.jqx.dataFormat.tryparsedate(a):k,l=!1;if(void 0!=b&&void 0!=f&&(0<=b.indexOf("t")||0<=b.indexOf("T")||0<=b.indexOf(":")||0<=b.indexOf("f"))&&(l=!0,c&&-1==c.toString().indexOf(":"))){var m=e.jqx.dataFormat.tryparsedate(c.toString()+":00",f);null!=m&&(d.filterdate=m)}l||(h.setHours(0),h.setMinutes(0),h.setSeconds(0))}catch(n){if(""!=a.toString())return!1}if(null!=d.filterdate)c=d.filterdate;else if(c&&c.indexOf&&(-1!=c.indexOf(":")||!isNaN(parseInt(c)))){m=new Date(h);m.setHours(12,0,0,0);k=c.split(":");for(c=0;c<k.length;c++)0==c&&m.setHours(k[c]),1==c&&m.setMinutes(k[c]),2==c&&m.setSeconds(k[c]);c=m}l&&c&&c.setFullYear&&h&&h.getFullYear&&-1==b.indexOf("d")&&-1==b.indexOf("M")&&-1==b.indexOf("y")&&c.setFullYear(h.getFullYear(),h.getMonth(),h.getDate());l=function(a,c){null==a&&(a="");switch(g){case "EQUAL":return a.toString()==c.toString();case "NOT_EQUAL":return a.toString()!=c.toString();case "GREATER_THAN":return a>c;case "GREATER_THAN_OR_EQUAL":return a>=c;case "LESS_THAN":return a<c;case "LESS_THAN_OR_EQUAL":return a<=c;case "STARTS_WITH":return e.jqx.string.startsWithIgnoreCase(a.toString(),c.toString());case "ENDS_WITH":return e.jqx.string.endsWithIgnoreCase(a.toString(),c.toString());case "ENDS_WITH_CASE_SENSITIVE":return e.jqx.string.endsWith(a.toString(),c.toString());case "STARTS_WITH_CASE_SENSITIVE":return e.jqx.string.startsWith(a.toString(),c.toString());case "CONTAINS":return e.jqx.string.containsIgnoreCase(a.toString(),c.toString());case "CONTAINS_CASE_SENSITIVE":return e.jqx.string.contains(a.toString(),c.toString());case "DOES_NOT_CONTAIN":return!e.jqx.string.containsIgnoreCase(a.toString(),c.toString());case "DOES_NOT_CONTAIN_CASE_SENSITIVE":return!e.jqx.string.contains(a.toString(),c.toString());default:return!0}};k=[];if(c&&c.indexOf&&(0<=c.indexOf("|")||0<=c.indexOf(" AND ")||0<=c.indexOf(" OR ")||0<=c.indexOf(" and ")||0<=c.indexOf(" or "))){if(m=l(h,c))return m;var q=0<=c.indexOf(" AND ")?c.split(" AND "):[];a=0<=c.indexOf(" OR ")?c.split(" OR "):[];var p=0<=c.indexOf(" and ")?c.split(" and "):[],r=0<=c.indexOf(" or ")?c.split(" or "):[],q=q.concat(p);a=a.concat(r);p=0<=c.indexOf("|")?c.split("|"):[];if(0<p.length)for(c=0;c<p.length;c++)p[c]=e.trim(p[c]);a=a.concat(p);if(0<q.length)for(c=0;c<q.length;c++)0<=!q[c].indexOf(" OR ")&&k.push(q[c]);if(0<a.length)for(c=0;c<a.length;c++)0<=!a[c].indexOf(" AND ")&&k.push(a[c]);c=void 0;for(p=0;p<k.length;p++)(a=k[p])&&a.indexOf&&0<=a.indexOf("..")?(a=a.toString().split(".."),2==a.length&&(m=h>=a[0]&&h<=a[1])):m=l(h,a),a=p<q.length?"and":"or",c=void 0==c?m:"or"==a?c||m:c&&m;return c}return c&&c.indexOf&&0<=c.indexOf("..")&&(k=c.toString().split(".."),2==k.length)?h>=k[0]&&h<=k[1]:l(h,c)}},q=function(a,c,b){this.filtervalue=a;this.comparisonoperator=c;this.evaluate=function(a,c){return b(this.filtervalue,a,this.comparisonoperator)}}};e.jqx.longInt=function(){var a=this;a.longObj={};var c=a.longObj;c.mathObj={};c.mathObj.Long={};c.mathObj.Long=function(a,c){this.lowBits=a|0;this.highBits=c|0};c.mathObj.Long.IntCache={};c.mathObj.Long.fromInt=function(a){if(-128<=a&&128>a){var b=c.mathObj.Long.IntCache[a];if(b)return b}b=new c.mathObj.Long(a|0,0>a?-1:0);-128<=a&&128>a&&(c.mathObj.Long.IntCache[a]=b);return b};c.mathObj.Long.fromNumber=function(a){return isNaN(a)||!isFinite(a)?c.mathObj.Long.ZERO:a<=-c.mathObj.Long.TWO_PWR_63_DBL_?c.mathObj.Long.MIN_VALUE:a+1>=c.mathObj.Long.TWO_PWR_63_DBL_?c.mathObj.Long.MAX_VALUE:0>a?c.mathObj.Long.fromNumber(-a).negate():new c.mathObj.Long(a%c.mathObj.Long.TWO_PWR_32_DBL_|0,a/c.mathObj.Long.TWO_PWR_32_DBL_|0)};c.mathObj.Long.fromBits=function(a,b){return new c.mathObj.Long(a,b)};c.mathObj.Long.fromString=function(a,b){if(0===a.length)throw Error("number format error: empty string");var f=b||10;if(2>f||36<f)throw Error("radix out of range: "+f);if("-"===a.charAt(0))return c.mathObj.Long.fromString(a.substring(1),f).negate();if(0<=a.indexOf("-"))throw Error('number format error: interior "-" character: '+a);for(var d=c.mathObj.Long.fromNumber(Math.pow(f,8)),e=c.mathObj.Long.ZERO,g=0;g<a.length;g+=8){var h=Math.min(8,a.length-g),k=parseInt(a.substring(g,g+h),f);8>h?(h=c.mathObj.Long.fromNumber(Math.pow(f,h)),e=e.multiply(h).add(c.mathObj.Long.fromNumber(k))):(e=e.multiply(d),e=e.add(c.mathObj.Long.fromNumber(k)))}return e};c.mathObj.Long.TWO_PWR_16_DBL_=65536;c.mathObj.Long.TWO_PWR_24_DBL_=16777216;c.mathObj.Long.TWO_PWR_32_DBL_=c.mathObj.Long.TWO_PWR_16_DBL_*c.mathObj.Long.TWO_PWR_16_DBL_;c.mathObj.Long.TWO_PWR_31_DBL_=c.mathObj.Long.TWO_PWR_32_DBL_/2;c.mathObj.Long.TWO_PWR_48_DBL_=c.mathObj.Long.TWO_PWR_32_DBL_*c.mathObj.Long.TWO_PWR_16_DBL_;c.mathObj.Long.TWO_PWR_64_DBL_=c.mathObj.Long.TWO_PWR_32_DBL_*c.mathObj.Long.TWO_PWR_32_DBL_;c.mathObj.Long.TWO_PWR_63_DBL_=c.mathObj.Long.TWO_PWR_64_DBL_/2;c.mathObj.Long.ZERO=c.mathObj.Long.fromInt(0);c.mathObj.Long.ONE=c.mathObj.Long.fromInt(1);c.mathObj.Long.NEG_ONE=c.mathObj.Long.fromInt(-1);c.mathObj.Long.MAX_VALUE=c.mathObj.Long.fromBits(-1,2147483647);c.mathObj.Long.MIN_VALUE=c.mathObj.Long.fromBits(0,-2147483648);c.mathObj.Long.TWO_PWR_24_=c.mathObj.Long.fromInt(16777216);c.mathObj.Long.prototype.toInt=function(){return this.lowBits};c.mathObj.Long.prototype.toNumber=function(){return this.highBits*c.mathObj.Long.TWO_PWR_32_DBL_+this.getLowBitsUnsigned()};c.mathObj.Long.prototype.toString=function(b){b=b||10;if(2>b||36<b)throw Error("radix out of range: "+b);if(this.isZero())return"0";var f,d;if(this.isNegative()){if(this.equals(c.mathObj.Long.MIN_VALUE))return f=c.mathObj.Long.fromNumber(b),d=this.div(f),f=d.multiply(f).subtract(this),d.toString(b)+f.toInt().toString(b);switch(b){case 2:case 8:case 16:return d="-"+this.negate().toString(2),a._negativeBinary(d,b);default:return d="-"+this.negate().toString(b)}}var e=c.mathObj.Long.fromNumber(Math.pow(b,6));f=this;for(d="";;){var g=f.div(e),h=f.subtract(g.multiply(e)).toInt().toString(b);f=g;if(f.isZero())return h+d;for(;6>h.length;)h="0"+h;d=""+h+d}};c.mathObj.Long.prototype.getHighBits=function(){return this.highBits};c.mathObj.Long.prototype.getLowBits=function(){return this.lowBits};c.mathObj.Long.prototype.getLowBitsUnsigned=function(){return 0<=this.lowBits?this.lowBits:c.mathObj.Long.TWO_PWR_32_DBL_+this.lowBits};c.mathObj.Long.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(c.mathObj.Long.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var a=0!==this.highBits?this.highBits:this.lowBits,b=31;0<b&&0===(a&1<<b);b--);return 0!==this.highBits?b+33:b+1};c.mathObj.Long.prototype.isZero=function(){return 0===this.highBits&&0===this.lowBits};c.mathObj.Long.prototype.isNegative=function(){return 0>this.highBits};c.mathObj.Long.prototype.isOdd=function(){return 1===(this.lowBits&1)};c.mathObj.Long.prototype.equals=function(a){return this.highBits===a.highBits&&this.lowBits===a.lowBits};c.mathObj.Long.prototype.notEquals=function(a){return this.highBits!==a.highBits||this.lowBits!==a.lowBits};c.mathObj.Long.prototype.lessThan=function(a){return 0>this.compare(a)};c.mathObj.Long.prototype.lessThanOrEqual=function(a){return 0>=this.compare(a)};c.mathObj.Long.prototype.greaterThan=function(a){return 0<this.compare(a)};c.mathObj.Long.prototype.greaterThanOrEqual=function(a){return 0<=this.compare(a)};c.mathObj.Long.prototype.compare=function(a){if(this.equals(a))return 0;var c=this.isNegative(),b=a.isNegative();return c&&!b?-1:!c&&b?1:this.subtract(a).isNegative()?-1:1};c.mathObj.Long.prototype.negate=function(){return this.equals(c.mathObj.Long.MIN_VALUE)?c.mathObj.Long.MIN_VALUE:this.not().add(c.mathObj.Long.ONE)};c.mathObj.Long.prototype.add=function(a){var b=this.highBits>>>16,f=this.highBits&65535,d=this.lowBits>>>16,e=a.highBits>>>16,g=a.highBits&65535,h=a.lowBits>>>16,k;k=0+((this.lowBits&65535)+(a.lowBits&65535));a=0+(k>>>16);a+=d+h;d=0+(a>>>16);d+=f+g;f=0+(d>>>16);f=f+(b+e)&65535;return c.mathObj.Long.fromBits((a&65535)<<16|k&65535,f<<16|d&65535)};c.mathObj.Long.prototype.subtract=function(a){return this.add(a.negate())};c.mathObj.Long.prototype.multiply=function(a){if(this.isZero()||a.isZero())return c.mathObj.Long.ZERO;if(this.equals(c.mathObj.Long.MIN_VALUE))return a.isOdd()?c.mathObj.Long.MIN_VALUE:c.mathObj.Long.ZERO;if(a.equals(c.mathObj.Long.MIN_VALUE))return this.isOdd()?c.mathObj.Long.MIN_VALUE:c.mathObj.Long.ZERO;if(this.isNegative())return a.isNegative()?this.negate().multiply(a.negate()):this.negate().multiply(a).negate();if(a.isNegative())return this.multiply(a.negate()).negate();if(this.lessThan(c.mathObj.Long.TWO_PWR_24_)&&a.lessThan(c.mathObj.Long.TWO_PWR_24_))return c.mathObj.Long.fromNumber(this.toNumber()*a.toNumber());var b=this.highBits>>>16,f=this.highBits&65535,d=this.lowBits>>>16,e=this.lowBits&65535,g=a.highBits>>>16,h=a.highBits&65535,k=a.lowBits>>>16;a=a.lowBits&65535;var l,m,n,q;q=0+e*a;n=0+(q>>>16);n+=d*a;m=0+(n>>>16);n=(n&65535)+e*k;m+=n>>>16;n&=65535;m+=f*a;l=0+(m>>>16);m=(m&65535)+d*k;l+=m>>>16;m&=65535;m+=e*h;l+=m>>>16;m&=65535;l=l+(b*a+f*k+d*h+e*g)&65535;return c.mathObj.Long.fromBits(n<<16|q&65535,l<<16|m)};c.mathObj.Long.prototype.div=function(a){if(a.isZero())throw Error("division by zero");if(this.isZero())return c.mathObj.Long.ZERO;var b,f;if(this.equals(c.mathObj.Long.MIN_VALUE)){if(a.equals(c.mathObj.Long.ONE)||a.equals(c.mathObj.Long.NEG_ONE))return c.mathObj.Long.MIN_VALUE;if(a.equals(c.mathObj.Long.MIN_VALUE))return c.mathObj.Long.ONE;b=this.shiftRight(1).div(a).shiftLeft(1);if(b.equals(c.mathObj.Long.ZERO))return a.isNegative()?c.mathObj.Long.ONE:c.mathObj.Long.NEG_ONE;f=this.subtract(a.multiply(b));return b.add(f.div(a))}if(a.equals(c.mathObj.Long.MIN_VALUE))return c.mathObj.Long.ZERO;if(this.isNegative())return a.isNegative()?this.negate().div(a.negate()):this.negate().div(a).negate();if(a.isNegative())return this.div(a.negate()).negate();var d=c.mathObj.Long.ZERO;for(f=this;f.greaterThanOrEqual(a);){b=Math.max(1,Math.floor(f.toNumber()/a.toNumber()));for(var e=Math.ceil(Math.log(b)/Math.LN2),e=48>=e?1:Math.pow(2,e-48),g=c.mathObj.Long.fromNumber(b),h=g.multiply(a);h.isNegative()||h.greaterThan(f);)b-=e,g=c.mathObj.Long.fromNumber(b),h=g.multiply(a);g.isZero()&&(g=c.mathObj.Long.ONE);d=d.add(g);f=f.subtract(h)}return d};c.mathObj.Long.prototype.modulo=function(a){return this.subtract(this.div(a).multiply(a))};c.mathObj.Long.prototype.not=function(){return c.mathObj.Long.fromBits(~this.lowBits,~this.highBits)};c.mathObj.Long.prototype.and=function(a){return c.mathObj.Long.fromBits(this.lowBits&a.lowBits,this.highBits&a.highBits)};c.mathObj.Long.prototype.or=function(a){return c.mathObj.Long.fromBits(this.lowBits|a.lowBits,this.highBits|a.highBits)};c.mathObj.Long.prototype.xor=function(a){return c.mathObj.Long.fromBits(this.lowBits^a.lowBits,this.highBits^a.highBits)};c.mathObj.Long.prototype.shiftLeft=function(a){a&=63;if(0===a)return this;var b=this.lowBits;return 32>a?c.mathObj.Long.fromBits(b<<a,this.highBits<<a|b>>>32-a):c.mathObj.Long.fromBits(0,b<<a-32)};c.mathObj.Long.prototype.shiftRight=function(a){a&=63;if(0===a)return this;var b=this.highBits;return 32>a?c.mathObj.Long.fromBits(this.lowBits>>>a|b<<32-a,b>>a):c.mathObj.Long.fromBits(b>>a-32,0<=b?0:-1)};c.mathObj.Long.prototype.shiftRightUnsigned=function(a){a&=63;if(0===a)return this;var b=this.highBits;return 32>a?c.mathObj.Long.fromBits(this.lowBits>>>a|b<<32-a,b>>>a):32===a?c.mathObj.Long.fromBits(b,0):c.mathObj.Long.fromBits(b>>>a-32,0)};return c};e.jqx.math=function(){var a={},c=new e.jqx.longInt;a.getDecimalNotation=function(a,c){function b(a){for(var c="",f=0;f<a.length;f++)var d="-0123456789".indexOf(a.charAt(f)),c=c+(-1!==d?"\u207b\u2070\u00b9\u00b2\u00b3\u2074\u2075\u2076\u2077\u2078\u2079"[d]:a[f]);return c}function f(a){var c=a.indexOf("e"),d=a.slice(c+1);a=a.slice(0,c+1);a=a.replace("e","\u00d710");a+=b(d);return a=a.replace("+","")}function d(a){var c=a.indexOf("e"),f=a.slice(c+1),e=a.slice(0,c),g=parseInt(f,10)%3,e=e*Math.pow(10,g);a=a.slice(0,c).length-g-2;0<=a&&(e=e.toFixed(a));return e+"\u00d710"+b((parseInt(f,10)-g).toString())}if("decimal"===c)return a;a=a.toString();var e=function(a){if("0"===a)return parseInt(a).toExponential();var c;"-"===a.charAt(0)?(c="-",a=a.slice(1,a.length)):c="";for(var b=a.length-1;"0"===a.charAt(a.length-1);)a=a.slice(0,a.length-1);var f=a.slice(1,a.length);""!==f&&(f="."+f);return c+""+a.charAt(0)+f+"e+"+b}(a);return"scientific"===c?f(e):"engineering"===c?d(e):e};e.extend(a,c.mathObj.Long);return a}})(jqxBaseFramework);(function(e){function a(a,b){this.owner=a;this.displayfield=this.datafield=null;this.text="";this.createfilterpanel=null;this.editable=this.hideable=this.sortable=!0;this.hidden=!1;this.groupable=!0;this.checkchange=this.cellsrenderer=this.renderer=null;this.threestatecheckbox=!1;this.columntype=this.buttonclick=null;this.cellsformat="";this.cellsalign=this.align="left";this.width="auto";this.minwidth=25;this.maxwidth="auto";this.pinned=!1;this.visibleindex=-1;this.filterable=!0;this.filter=null;this.filteritems=[];this.resizable=!0;this.validation=this.geteditorvalue=this.destroyeditor=this.createeditor=this.initeditor=null;this.cellclassname=this.classname="";this.aggregatesrenderer=this.aggregates=this.cellvaluechanging=this.cellbeginedit=this.cellendedit=null;this.menu=!0;this.createfilterwidget=null;this.filtertype="default";this.rendered=this.filtercondition=null;this.exportable=!0;this.exporting=!1;this.enabletooltips=this.clipboard=this.nullable=this.draggable=!0;this.columngroup=null;this.filterdelay=800;this.destroyeverpresentrowwidget=this.validateeverpresentrowwidgetvalue=this.initeverpresentrowwidget=this.createeverpresentrowwidget=this.geteverpresentrowwidgetvalue=this.reseteverpresentrowwidgetvalue=null;this.getcolumnproperties=function(){return{nullable:this.nullable,sortable:this.sortable,hideable:this.hideable,hidden:this.hidden,groupable:this.groupable,width:this.width,align:this.align,editable:this.editable,minwidth:this.minwidth,maxwidth:this.maxwidth,resizable:this.resizable,datafield:this.datafield,text:this.text,exportable:this.exportable,cellsalign:this.cellsalign,pinned:this.pinned,cellsformat:this.cellsformat,columntype:this.columntype,classname:this.classname,cellclassname:this.cellclassname,menu:this.menu}};this.setproperty=function(a,c){if(this[a]){var b=this[a];this[a]=c;this.owner._columnPropertyChanged(this,a,c,b)}else this[a.toLowerCase()]&&(b=this[a.toLowerCase()],this[a.toLowerCase()]=c,this.owner._columnPropertyChanged(this,a.toLowerCase(),c,b))};this._initfields=function(b){if(null!=b){var f=this.that;e.jqx.hasProperty(b,"dataField")&&(this.datafield=e.jqx.get(b,"dataField"));e.jqx.hasProperty(b,"displayField")?this.displayfield=e.jqx.get(b,"displayField"):this.displayfield=this.datafield;e.jqx.hasProperty(b,"enableTooltips")&&(this.enabletooltips=e.jqx.get(b,"enableTooltips"));e.jqx.hasProperty(b,"text")?this.text=e.jqx.get(b,"text"):this.text=this.displayfield;e.jqx.hasProperty(b,"createfilterpanel")&&(this.createfilterpanel=e.jqx.get(b,"createfilterpanel"));e.jqx.hasProperty(b,"sortable")&&(this.sortable=e.jqx.get(b,"sortable"));e.jqx.hasProperty(b,"hideable")&&(this.hideable=e.jqx.get(b,"hideable"));e.jqx.hasProperty(b,"hidden")&&(this.hidden=e.jqx.get(b,"hidden"));e.jqx.hasProperty(b,"groupable")&&(this.groupable=e.jqx.get(b,"groupable"));e.jqx.hasProperty(b,"renderer")&&(this.renderer=e.jqx.get(b,"renderer"));e.jqx.hasProperty(b,"align")&&(this.align=e.jqx.get(b,"align"));e.jqx.hasProperty(b,"cellsAlign")&&(this.cellsalign=e.jqx.get(b,"cellsAlign"));e.jqx.hasProperty(b,"clipboard")&&(this.cellsalign=e.jqx.get(b,"clipboard"));e.jqx.hasProperty(b,"cellsFormat")&&(this.cellsformat=e.jqx.get(b,"cellsFormat"));e.jqx.hasProperty(b,"width")&&(this.width=e.jqx.get(b,"width"));e.jqx.hasProperty(b,"minWidth")&&(this.minwidth=parseInt(e.jqx.get(b,"minWidth")),isNaN(this.minwidth)&&(this.minwidth=25));e.jqx.hasProperty(b,"maxWidth")&&(this.maxwidth=parseInt(e.jqx.get(b,"maxWidth")),isNaN(this.maxwidth)&&(this.maxwidth="auto"));e.jqx.hasProperty(b,"cellsRenderer")?this.cellsrenderer=e.jqx.get(b,"cellsRenderer"):b.cellsRenderer&&(this.cellsrenderer=b.cellsRenderer);e.jqx.hasProperty(b,"columnType")&&(this.columntype=e.jqx.get(b,"columnType"));e.jqx.hasProperty(b,"checkChange")&&(this.checkchange=e.jqx.get(b,"checkChange"));e.jqx.hasProperty(b,"buttonClick")?this.buttonclick=e.jqx.get(b,"buttonClick"):b.buttonClick&&(this.buttonclick=b.buttonClick);e.jqx.hasProperty(b,"pinned")&&(this.pinned=e.jqx.get(b,"pinned"));e.jqx.hasProperty(b,"visibleIndex")&&(this.visibleindex=e.jqx.get(b,"visibleIndex"));e.jqx.hasProperty(b,"filterable")&&(this.filterable=e.jqx.get(b,"filterable"));e.jqx.hasProperty(b,"filter")&&(this.filter=e.jqx.get(b,"filter"));e.jqx.hasProperty(b,"resizable")&&(this.resizable=e.jqx.get(b,"resizable"));e.jqx.hasProperty(b,"editable")&&(this.editable=e.jqx.get(b,"editable"));e.jqx.hasProperty(b,"initEditor")?this.initeditor=e.jqx.get(b,"initEditor"):b.initEditor&&(this.initeditor=b.initEditor);e.jqx.hasProperty(b,"createEditor")?this.createeditor=e.jqx.get(b,"createEditor"):b.createEditor&&(this.createeditor=b.createEditor);e.jqx.hasProperty(b,"reseteverpresentrowwidgetvalue")||e.jqx.hasFunction(b,"reseteverpresentrowwidgetvalue")?this.reseteverpresentrowwidgetvalue=e.jqx.get(b,"reseteverpresentrowwidgetvalue"):b.resetEverPresentRowWidgetValue&&(this.reseteverpresentrowwidgetvalue=b.resetEverPresentRowWidgetValue);e.jqx.hasProperty(b,"geteverpresentrowwidgetvalue")||e.jqx.hasFunction(b,"geteverpresentrowwidgetvalue")?this.geteverpresentrowwidgetvalue=e.jqx.get(b,"geteverpresentrowwidgetvalue"):b.getEverPresentRowWidgetValue&&(this.geteverpresentrowwidgetvalue=b.getEverPresentRowWidgetValue);e.jqx.hasProperty(b,"createeverpresentrowwidget")||e.jqx.hasFunction(b,"createeverpresentrowwidget")?this.createeverpresentrowwidget=e.jqx.get(b,"createeverpresentrowwidget"):b.createEverPresentRowWidget&&(this.createeverpresentrowwidget=b.createEverPresentRowWidget);e.jqx.hasProperty(b,"initeverpresentrowwidget")||e.jqx.hasFunction(b,"initeverpresentrowwidget")?this.initeverpresentrowwidget=e.jqx.get(b,"initeverpresentrowwidget"):b.initEverPresentRowWidget&&(this.initeverpresentrowwidget=b.initEverPresentRowWidget);e.jqx.hasProperty(b,"validateeverpresentrowwidgetvalue")?this.validateeverpresentrowwidgetvalue=e.jqx.get(b,"validateeverpresentrowwidgetvalue"):b.validateEverPresentRowWidgetValue&&(this.validateeverpresentrowwidgetvalue=b.validateEverPresentRowWidgetValue);e.jqx.hasProperty(b,"destroyeverpresentrowwidget")||e.jqx.hasFunction(b,"destroyeverpresentrowwidget")?this.destroyeverpresentrowwidget=e.jqx.get(b,"destroyeverpresentrowwidget"):b.destroyEverPresentRowWidget&&(this.destroyEverPresentRowWidget=b.destroyEverPresentRowWidget);e.jqx.hasProperty(b,"destroyEditor")?this.destroyeditor=e.jqx.get(b,"destroyEditor"):b.destroyEditor&&(this.destroyeditor=b.destroyEditor);e.jqx.hasProperty(b,"getEditorValue")?this.geteditorvalue=e.jqx.get(b,"getEditorValue"):b.getEditorValue&&(this.geteditorvalue=b.getEditorValue);e.jqx.hasProperty(b,"validation")?this.validation=e.jqx.get(b,"validation"):b.validation&&(this.validation=b.validation);e.jqx.hasProperty(b,"cellBeginEdit")?this.cellbeginedit=e.jqx.get(b,"cellBeginEdit"):b.cellBeginEdit&&(this.cellbeginedit=b.cellBeginEdit);e.jqx.hasProperty(b,"cellEndEdit")?this.cellendedit=e.jqx.get(b,"cellEndEdit"):b.cellEndEdit&&(this.cellendedit=b.cellEndEdit);e.jqx.hasProperty(b,"className")&&(this.classname=e.jqx.get(b,"className"));e.jqx.hasProperty(b,"cellClassName")?this.cellclassname=e.jqx.get(b,"cellClassName"):b.cellClassName&&(this.cellclassname=b.cellClassName);e.jqx.hasProperty(b,"menu")&&(this.menu=e.jqx.get(b,"menu"));e.jqx.hasProperty(b,"aggregates")&&(this.aggregates=e.jqx.get(b,"aggregates"));e.jqx.hasProperty(b,"aggregatesRenderer")&&(this.aggregatesrenderer=e.jqx.get(b,"aggregatesRenderer"));e.jqx.hasProperty(b,"createFilterWidget")&&(this.createfilterwidget=e.jqx.get(b,"createFilterWidget"));e.jqx.hasProperty(b,"filterType")&&(this.filtertype=e.jqx.get(b,"filterType"));e.jqx.hasProperty(b,"filterDelay")&&(this.filterdelay=e.jqx.get(b,"filterDelay"));e.jqx.hasProperty(b,"rendered")&&(this.rendered=e.jqx.get(b,"rendered"));e.jqx.hasProperty(b,"exportable")&&(this.exportable=e.jqx.get(b,"exportable"));e.jqx.hasProperty(b,"filterItems")&&(this.filteritems=e.jqx.get(b,"filterItems"));e.jqx.hasProperty(b,"cellValueChanging")&&(this.cellvaluechanging=e.jqx.get(b,"cellValueChanging"));e.jqx.hasProperty(b,"draggable")&&(this.draggable=e.jqx.get(b,"draggable"));e.jqx.hasProperty(b,"filterCondition")&&(this.filtercondition=e.jqx.get(b,"filterCondition"));e.jqx.hasProperty(b,"threeStateCheckbox")&&(this.threestatecheckbox=e.jqx.get(b,"threeStateCheckbox"));e.jqx.hasProperty(b,"nullable")&&(this.nullable=e.jqx.get(b,"nullable"));e.jqx.hasProperty(b,"columnGroup")&&(this.columngroup=e.jqx.get(b,"columnGroup"));if(!b instanceof String&&"string"!=typeof b)for(var h in b)if(!f.hasOwnProperty(h)&&!f.hasOwnProperty(h.toLowerCase()))throw a.host.remove(),Error("jqxGrid: Invalid property name - "+h+".");}};this._initfields(b);return this}function b(a,b){this.setdata=function(a){null!=a&&(this.bounddata=a,this.boundindex=a.boundindex,this.visibleindex=a.visibleindex,this.group=a.group,this.parentbounddata=a.parentItem,this.uniqueid=a.uniqueid,this.level=a.level)};this.setdata(b);this.parentrow=null;this.subrows=[];this.owner=a;this.height=25;this.hidden=!1;this.rowdetails=null;this.rowdetailsheight=100;this.rowdetailshidden=!0;this.top=-1;this.setrowinfo=function(a){this.hidden=a.hidden;this.rowdetails=a.rowdetails;this.rowdetailsheight=a.rowdetailsheight;this.rowdetailshidden=!a.showdetails;this.height=a.height};return this}e.jqx.jqxWidget("jqxGrid","",{});e.extend(e.jqx._jqxGrid.prototype,{defineInstance:function(){var a={disabled:!1,width:600,height:400,pagerheight:28,groupsheaderheight:34,pagesize:10,pagesizeoptions:["5","10","20"],rowsheight:25,columnsheight:25,filterrowheight:31,groupindentwidth:30,rowdetails:!1,enablerowdetailsindent:!0,enablemousewheel:!0,initrowdetails:null,layoutrowdetails:null,editable:!1,editmode:"selectedcell",pageable:!1,pagermode:"default",pagerbuttonscount:5,groupable:!1,sortable:!1,filterable:!1,filtermode:"default",autoshowfiltericon:!0,showfiltercolumnbackground:!0,showpinnedcolumnbackground:!0,showsortcolumnbackground:!0,altrows:!1,altstart:1,altstep:1,showrowdetailscolumn:!0,showtoolbar:!1,toolbarheight:34,showstatusbar:!1,statusbarheight:34,enableellipsis:!0,groups:[],groupsrenderer:null,groupcolumnrenderer:null,groupsexpandedbydefault:!1,pagerrenderer:null,touchmode:"auto",columns:[],selectedrowindex:-1,selectedrowindexes:[],selectedcells:[],autobind:!0,selectedcell:null,tableZIndex:799,headerZIndex:299,updatefilterconditions:null,showaggregates:!1,showfilterrow:!1,showeverpresentrow:!1,everpresentrowposition:"top",everpresentrowactions:"add reset",everpresentrowactionsmode:"buttons",everpresentrowheight:30,autorowheight:!1,autokoupdates:!0,handlekeyboardnavigation:null,showsortmenuitems:!0,showfiltermenuitems:!0,showgroupmenuitems:!0,enablebrowserselection:!1,enablekeyboarddelete:!0,clipboard:!0,clipboardbegin:null,clipboardend:null,copytoclipboardwithheaders:!1,copytoclipboardhiddencolumns:!1,ready:null,updatefilterpanel:null,autogeneratecolumns:!1,rowdetailstemplate:null,scrollfeedback:null,rendertoolbar:null,renderstatusbar:null,rendered:null,multipleselectionbegins:null,columngroups:null,cellhover:null,source:{beforeprocessing:null,beforesend:null,loaderror:null,localdata:null,data:null,datatype:"array",datafields:[],url:"",root:"",record:"",id:"",totalrecords:0,recordstartindex:0,recordendindex:0,loadallrecords:!0,sortcolumn:null,sortdirection:null,sort:null,filter:null,sortcomparer:null},dataview:null,updatedelay:null,autoheight:!1,autowidth:!1,showheader:!0,showgroupsheader:!0,closeablegroups:!0,scrollbarsize:e.jqx.utilities.scrollBarSize,touchscrollbarsize:e.jqx.utilities.touchScrollBarSize,scrollbarautoshow:e.jqx.utilities.scrollBarAutoShow,virtualmode:!1,sort:null,columnsmenu:!0,columnsresize:!1,columnsautoresize:!0,columnsreorder:!1,columnsmenuwidth:15,autoshowcolumnsmenubutton:!0,popupwidth:"auto",popupheight:"auto",columnmenuopening:null,columnmenuclosing:null,sorttogglestates:2,rendergridrows:null,enableanimations:!0,enablecolumnsvirtualization:!0,enabletooltips:!1,selectionmode:"singlerow",enablehover:!0,loadingerrormessage:"The data is still loading. When the data binding is completed, the Grid raises the 'bindingcomplete' event. Call this function in the 'bindingcomplete' event handler.",verticalscrollbarstep:25,verticalscrollbarlargestep:400,horizontalscrollbarstep:10,horizontalscrollbarlargestep:50,keyboardnavigation:!0,touchModeStyle:"auto",autoshowloadelement:!0,showdefaultloadelement:!0,showemptyrow:!0,autosavestate:!1,autoloadstate:!1,_updating:!1,_pagescache:[],_pageviews:[],_cellscache:[],_rowdetailscache:[],_rowdetailselementscache:[],_requiresupdate:!1,_hasOpenedMenu:!1,scrollmode:"physical",deferreddatafields:null,localization:null,rtl:!1,menuitemsarray:[],events:"initialized rowClick rowSelect rowUnselect groupExpand groupCollapse sort columnClick cellClick pageChanged pageSizeChanged bindingComplete groupsChanged filter columnResized cellSelect cellUnselect cellBeginEdit cellEndEdit cellValueChanged rowExpand rowCollapse rowDoubleClick cellDoubleClick columnReordered pageChanging".split(" ")};e.extend(!0,this,a);return a},createInstance:function(a){this.that=this;this.pagesize=parseInt(this.pagesize);this.toolbarheight=parseInt(this.toolbarheight);this.columnsheight=parseInt(this.columnsheight);this.filterrowheight=parseInt(this.filterrowheight);this.statusbarheight=parseInt(this.statusbarheight);this.groupsheaderheight=parseInt(this.groupsheaderheight);this.savedArgs=a&&0<a.length?a[0]:null;var b="\x3cdiv class\x3d'jqx-clear jqx-border-reset jqx-overflow-hidden jqx-max-size jqx-position-relative'\x3e\x3cdiv tabindex\x3d'1' class\x3d'jqx-clear jqx-max-size jqx-position-relative jqx-overflow-hidden jqx-background-reset' id\x3d'wrapper"+this.element.id+"'\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute' id\x3d'toolbar' style\x3d'visibility: hidden;'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute' id\x3d'groupsheader' style\x3d'visibility: hidden;'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-overflow-hidden jqx-position-absolute jqx-border-reset jqx-background-reset' id\x3d'content"+this.element.id+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute' id\x3d'verticalScrollBar"+this.element.id+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute' id\x3d'horizontalScrollBar"+this.element.id+"'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute jqx-border-reset' id\x3d'bottomRight'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute' id\x3d'addrow'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute' id\x3d'statusbar'\x3e\x3c/div\x3e\x3cdiv class\x3d'jqx-clear jqx-position-absolute' id\x3d'pager' style\x3d'z-index: 20;'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";this.element.innerHTML="";15!=e.jqx.utilities.scrollBarSize&&(this.scrollbarsize=e.jqx.utilities.scrollBarSize);if(this.source){if(!this.source.dataBind){if(!e.jqx.dataAdapter)throw Error("jqxGrid: Missing reference to jqxdata.js");this.source=new e.jqx.dataAdapter(this.source)}(a=this.source._source.datafields)&&0<a.length&&(this.editmode=this.editmode.toLowerCase(),this.selectionmode=this.selectionmode.toLowerCase())}this.host.attr("role","grid");this.host.attr("align","left");this.element.innerHTML=b;this.host.addClass(this.toTP("jqx-grid"));this.host.addClass(this.toTP("jqx-reset"));this.host.addClass(this.toTP("jqx-rc-all"));this.host.addClass(this.toTP("jqx-widget"));this.host.addClass(this.toTP("jqx-widget-content"));this.wrapper=this.host.find("#wrapper"+this.element.id);this.content=this.host.find("#content"+this.element.id);this.content.addClass(this.toTP("jqx-reset"));a=this.host.find("#verticalScrollBar"+this.element.id);b=this.host.find("#horizontalScrollBar"+this.element.id);this.bottomRight=this.host.find("#bottomRight").addClass(this.toTP("jqx-grid-bottomright")).addClass(this.toTP("jqx-scrollbar-state-normal"));if(!a.jqxScrollBar)throw Error("jqxGrid: Missing reference to jqxscrollbar.js");this.editors=[];this.vScrollBar=a.jqxScrollBar({vertical:!0,rtl:this.rtl,touchMode:this.touchmode,step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1});this.hScrollBar=b.jqxScrollBar({vertical:!1,rtl:this.rtl,touchMode:this.touchmode,step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep,theme:this.theme,_triggervaluechanged:!1});this.addnewrow=this.host.find("#addrow");this.addnewrow[0].id="addrow"+this.element.id;this.addnewrow.addClass(this.toTP("jqx-widget-header"));this.pager=this.host.find("#pager");this.pager[0].id="pager"+this.element.id;this.toolbar=this.host.find("#toolbar");this.toolbar[0].id="toolbar"+this.element.id;this.toolbar.addClass(this.toTP("jqx-grid-toolbar"));this.toolbar.addClass(this.toTP("jqx-widget-header"));this.statusbar=this.host.find("#statusbar");this.statusbar[0].id="statusbar"+this.element.id;this.statusbar.addClass(this.toTP("jqx-grid-statusbar"));this.statusbar.addClass(this.toTP("jqx-widget-header"));this.pager.addClass(this.toTP("jqx-grid-pager"));this.pager.addClass(this.toTP("jqx-widget-header"));this.groupsheader=this.host.find("#groupsheader");this.groupsheader.addClass(this.toTP("jqx-grid-groups-header"));this.groupsheader.addClass(this.toTP("jqx-widget-header"));this.groupsheader[0].id="groupsheader"+this.element.id;this.vScrollBar.css("visibility","hidden");this.hScrollBar.css("visibility","hidden");this.vScrollInstance=e.data(this.vScrollBar[0],"jqxScrollBar").instance;this.hScrollInstance=e.data(this.hScrollBar[0],"jqxScrollBar").instance;this.gridtable=null;this.isNestedGrid=this.host.parent()?9999==this.host.parent().css("z-index"):!1;this.touchdevice=this.isTouchDevice();this.localizestrings&&(this.localizestrings(),null!=this.localization&&this.localizestrings(this.localization,!1));this.rowdetailstemplate&&(void 0==this.rowdetailstemplate.rowdetails&&(this.rowdetailstemplate.rowdetails="\x3cdiv\x3e\x3c/div\x3e"),void 0==this.rowdetailstemplate.rowdetailsheight&&(this.rowdetailstemplate.rowdetailsheight=200),void 0==this.rowdetailstemplate.rowdetailshidden&&(this.rowdetailstemplate.rowdetailshidden=!0));if(this.showfilterrow&&!this.filterable)throw Error('jqxGrid: "showfilterrow" requires setting the "filterable" property to true!');if(this.virtualmode&&null==this.rendergridrows)throw Error('jqxGrid: "virtualmode" requires setting the "rendergridrows"!');if(this.virtualmode&&!this.pageable&&this.groupable)throw Error('jqxGrid: "grouping" in "virtualmode" without paging is not supported!');if(!this._testmodules()){this._builddataloadelement();(this._cachedcolumns=this.columns)&&299<this.columns.length&&(this.headerZIndex=this.columns.length+100);25!=this.rowsheight&&this._measureElement("cell");(25!=this.columnsheight||this.columngroups)&&this._measureElement("column");if(this.source&&(a=this.source.datafields,null==a&&this.source._source&&(a=this.source._source.datafields),a))for(b=0;b<this.columns.length;b++){var d=this.columns[b];if(d&&d.cellsformat&&2<d.cellsformat.length)for(var g=0;g<a.length;g++)if(a[g].name==d.datafield&&!a[g].format){a[g].format=d.cellsformat;break}}this.databind(this.source);this.showtoolbar&&this.toolbar.css("visibility","inherit");this.showstatusbar&&this.statusbar.css("visibility","inherit");this._arrange();this.pageable&&this._initpager&&this._initpager();this.tableheight=null;var h=this.that,l=function(){h.content&&(h.content[0].scrollTop=0,h.content[0].scrollLeft=0);h.gridcontent&&(h.gridcontent[0].scrollLeft=0,h.gridcontent[0].scrollTop=0)};this.addHandler(this.content,"mousedown",function(){l()});this.addHandler(this.content,"scroll",function(a){l();return!1});this.showfilterrow||(this.showstatusbar||this.showtoolbar||this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect"));this.enablebrowserselection&&(this.content.removeClass("jqx-disableselect"),this.host.removeClass("jqx-disableselect"));this._resizeWindow();this.disabled&&this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.hasTransform=e.jqx.utilities.hasTransform(this.host);"logical"==this.scrollmode&&(this.vScrollInstance.thumbStep=this.rowsheight,this.vScrollInstance.step=this.rowsheight);e.jqx.isHidden(this.host)||(this.filterable||this.groupable||this.sortable)&&this._initmenu()}},_resizeWindow:function(){var a=this.that;if(null!=this.width&&-1!=this.width.toString().indexOf("%")||null!=this.height&&-1!=this.height.toString().indexOf("%")){this._updatesizeonwindowresize=!0;e.jqx.utilities.resize(this.host,function(b){var f=e(window).width(),d=e(window).height(),k=a.host.width(),m=a.host.height();a.autoheight&&(a._lastHostWidth=d);if(a._lastHostWidth!=k||a._lastHostHeight!=m){if(a.touchdevice&&a.editcell&&"orientationchange"!==b)return;a._updatesize(a._lastHostWidth!=k,a._lastHostHeight!=m)}a._lastWidth=f;a._lastHeight=d;a._lastHostWidth=k;a._lastHostHeight=m});var b=a.host.width(),d=a.host.height();a._lastHostWidth=b;a._lastHostHeight=d}},_builddataloadelement:function(){this.dataloadelement&&this.dataloadelement.remove();this.dataloadelement=e('\x3cdiv style\x3d"overflow: hidden; position: absolute;"\x3e\x3c/div\x3e');if(this.showdefaultloadelement){var a=e('\x3cdiv style\x3d"z-index: 99999; margin-left: -66px; left: 50%; top: 50%; margin-top: -24px; position: relative; width: 100px; height: 33px; padding: 5px; font-family: verdana; font-size: 12px; color: #767676; border-color: #898989; border-width: 1px; border-style: solid; background: #f6f6f6; border-collapse: collapse;"\x3e\x3cdiv style\x3d"float: left;"\x3e\x3cdiv style\x3d"float: left; overflow: hidden; width: 32px; height: 32px;" class\x3d"jqx-grid-load"/\x3e\x3cspan style\x3d"margin-top: 10px; float: left; display: block; margin-left: 5px;" \x3e'+this.gridlocalization.loadtext+"\x3c/span\x3e\x3c/div\x3e\x3c/div\x3e");a.addClass(this.toTP("jqx-rc-all"));this.dataloadelement.addClass(this.toTP("jqx-rc-all"));a.addClass(this.toTP("jqx-fill-state-normal"));this.dataloadelement.append(a)}else this.dataloadelement.addClass(this.toTP("jqx-grid-load"));this.dataloadelement.width(this.width);this.dataloadelement.height(this.height);this.host.prepend(this.dataloadelement)},_measureElement:function(a){var b=e("\x3cspan style\x3d'visibility: hidden; white-space: nowrap;'\x3emeasure Text\x3c/span\x3e");b.addClass(this.toTP("jqx-widget"));e(document.body).append(b);"cell"==a?this._cellheight=b.height():this._columnheight=b.height();b.remove()},_measureMenuElement:function(){var a=e("\x3cspan style\x3d'visibility: hidden; white-space: nowrap;'\x3emeasure Text\x3c/span\x3e");a.addClass(this.toTP("jqx-widget"));a.addClass(this.toTP("jqx-menu"));a.addClass(this.toTP("jqx-menu-item-top"));a.addClass(this.toTP("jqx-fill-state-normal"));e(document.body).append(a);var b=a.outerHeight();a.remove();return b},_measureElementWidth:function(a){a=e("\x3cspan style\x3d'visibility: hidden; white-space: nowrap;'\x3e"+a+"\x3c/span\x3e");a.addClass(this.toTP("jqx-widget"));a.addClass(this.toTP("jqx-grid"));a.addClass(this.toTP("jqx-grid-column-header"));a.addClass(this.toTP("jqx-widget-header"));e(document.body).append(a);var b=a.outerWidth()+20;a.remove();return b},_getBodyOffset:function(){var a=0,b=0;"0px"!=e("body").css("border-top-width")&&(a=parseInt(e("body").css("border-top-width")),isNaN(a)&&(a=0));"0px"!=e("body").css("border-left-width")&&(b=parseInt(e("body").css("border-left-width")),isNaN(b)&&(b=0));return{left:b,top:a}},_testmodules:function(){var a="",b=this.that,d=function(){""!=a.length&&(a+=",")};this.columnsmenu&&!this.host.jqxMenu&&(this.sortable||this.groupable||this.filterable)&&(d(),a+=" jqxmenu.js");this.host.jqxScrollBar||(d(),a+=" jqxscrollbar.js");this.host.jqxButton||(d(),a+=" jqxbuttons.js");e.jqx.dataAdapter||(d(),a+=" jqxdata.js");this.pageable&&!this.gotopage&&(d(),a+="jqxgrid.pager.js");this.filterable&&!this.applyfilters&&(d(),a+=" jqxgrid.filter.js");this.groupable&&!this._initgroupsheader&&(d(),a+=" jqxgrid.grouping.js");this.columnsresize&&!this.autoresizecolumns&&(d(),a+=" jqxgrid.columnsresize.js");this.columnsreorder&&!this.setcolumnindex&&(d(),a+=" jqxgrid.columnsreorder.js");this.sortable&&!this.sortby&&(d(),a+=" jqxgrid.sort.js");this.editable&&!this.begincelledit&&(d(),a+=" jqxgrid.edit.js");this.showaggregates&&!this.getcolumnaggregateddata&&(d(),a+=" jqxgrid.aggregates.js");this.keyboardnavigation&&!this.selectrow&&(d(),a+=" jqxgrid.selection.js");if(""!=a||this.editable||this.filterable||this.pageable){var g=[],h=function(e){switch(e){case "checkbox":b.host.jqxCheckBox||g.checkbox||(g.checkbox=!0,d(),a+=" jqxcheckbox.js");break;case "numberinput":b.host.jqxNumberInput||g.numberinput||(g.numberinput=!0,d(),a+=" jqxnumberinput.js");break;case "datetimeinput":b.host.jqxDateTimeInput||g.datetimeinput?b.host.jqxCalendar||g.calendar||(d(),a+=" jqxcalendar.js"):(d(),g.datetimeinput=!0,a+=" jqxdatetimeinput.js(requires: jqxcalendar.js)");break;case "combobox":b.host.jqxComboBox||g.combobox?b.host.jqxListBox||g.listbox||(d(),g.listbox=!0,a+=" jqxlistbox.js"):(d(),g.combobox=!0,a+=" jqxcombobox.js(requires: jqxlistbox.js)");break;case "dropdownlist":b.host.jqxDropDownList||g.dropdownlist?b.host.jqxListBox||g.listbox||(d(),g.listbox=!0,a+=" jqxlistbox.js"):(d(),g.dropdownlist=!0,a+=" jqxdropdownlist.js(requires: jqxlistbox.js)")}};(this.filterable||this.pageable)&&h("dropdownlist");for(var l=0;l<this.columns.length;l++)if(void 0!=this.columns[l]){var k=this.columns[l].columntype;h(k);this.filterable&&this.showfilterrow&&(k=this.columns[l].filtertype,"checkedlist"!=k&&"bool"!=k||h("checkbox"),"date"==k&&h("datetimeinput"))}if(""!=a)throw Error("jqxGrid: Missing references to the following module(s): "+a);}return!1},focus:function(){try{this.wrapper.focus();var a=this.that;setTimeout(function(){a.wrapper.focus()},25);this.focused=!0}catch(b){}},hiddenParent:function(){return e.jqx.isHidden(this.host)},resize:function(a,b){this.width=a;this.height=b;this._updatesize(!0,!0)},_updatesize:function(a,b){if(!this._loading){var d=this.that;d._newmax=null;var g=d.host.width(),h=d.host.height();d._oldWidth||(d._oldWidth=g);d._oldHeight||(d._oldHeight=h);d._resizeTimer&&clearTimeout(d._resizeTimer);d._resizeTimer=setTimeout(function(){d.resizingGrid=!0;if(!e.jqx.isHidden(d.host)){d.editcell&&(d.endcelledit(d.editcell.row,d.editcell.column,!0,!0),d._oldselectedcell=null);if(n!=d._oldHeight||1==b){var h=d.groupable&&0<d.groups.length,k=d.vScrollBar.css("visibility");if(!d.autoheight){d.virtualmode&&(d._pageviews=[]);if(h||d.rowdetails||d.pageable){d._arrange();d.prerenderrequired=!0;n=Math.round(d.host.height())+2*d.rowsheight;realheight=d._gettableheight();var h=Math.round(n/d.rowsheight),m=Math.max(d.dataview.totalrows,d.dataview.totalrecords);d.pageable&&(m=d.pagesize,d.pagesize>Math.max(d.dataview.totalrows,d.dataview.totalrecords)&&d.autoheight?m=Math.max(d.dataview.totalrows,d.dataview.totalrecords):d.autoheight||d.dataview.totalrows<d.pagesize&&(m=Math.max(d.dataview.totalrows,d.dataview.totalrecords)));d._getpagesize();!d.pageable&&d.autoheight&&(h=m);d.virtualsizeinfo&&(d.virtualsizeinfo.visiblerecords=h);d.rendergridcontent(!0,!1);d._renderrows(d.virtualsizeinfo)}else{d._arrange();d.virtualsizeinfo=d._calculatevirtualheight();var n=Math.round(d.host.height())+2*d.rowsheight;parseInt(n)>=parseInt(d._oldHeight)&&(d.prerenderrequired=!0);d._renderrows(d.virtualsizeinfo);d.rtl&&(d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}k!=d.vScrollBar.css("visibility")&&(d.vScrollInstance.setPosition(0),d._arrange(),d._updatecolumnwidths(),d.table&&d.table.width(d.columnsheader.width()),d._updatecellwidths())}}if(g!=d._oldWidth||1==a){k=!1;if(d.editcell&&d.editcell.editor)switch(d.editcell.columntype){case "dropdownlist":if(k=d.editcell.editor.jqxDropDownList("isOpened")||d.editcell.editor.jqxDropDownList("isanimating")&&!d.editcell.editor.jqxDropDownList("ishiding")){d.editcell.editor.jqxDropDownList({openDelay:0});d.editcell.editor.jqxDropDownList("open");d.editcell.editor.jqxDropDownList({openDelay:250});return}break;case "combobox":if(k=d.editcell.editor.jqxComboBox("isOpened")||d.editcell.editor.jqxComboBox("isanimating")&&!d.editcell.editor.jqxComboBox("ishiding")){d.editcell.editor.jqxComboBox({openDelay:0});d.editcell.editor.jqxComboBox("open");d.editcell.editor.jqxComboBox({openDelay:250});return}break;case "datetimeinput":if(k){d.editcell.editor.jqxDateTimeInput("isOpened")||d.editcell.editor.jqxDateTimeInput("isanimating")&&d.editcell.editor.jqxDateTimeInput("ishiding");d.editcell.editor.jqxDateTimeInput({openDelay:0});d.editcell.editor.jqxDateTimeInput("open");d.editcell.editor.jqxDateTimeInput({openDelay:250});return}}k=d.hScrollBar.css("visibility");d._arrange();d._updatecolumnwidths();d.table&&d.table.width(d.columnsheader.width());d._updatecellwidths();0==a&&d._oldWidth>g||b&&0!=d.dataview.rows.length||d._renderrows(d.virtualsizeinfo);k!=d.hScrollBar.css("visibility")&&d.hScrollInstance.setPosition(0)}d._oldWidth=g;d._oldHeight=n;d.resizingGrid=!1}},5)}},getTouches:function(a){return e.jqx.mobile.getTouches(a)},_updateTouchScrolling:function(){var a=this.that;if(a.isTouchDevice()){a.scrollmode="logical";a.vScrollInstance.thumbStep=a.rowsheight;var b=e.jqx.mobile.getTouchEventName("touchstart"),d=e.jqx.mobile.getTouchEventName("touchend"),g=e.jqx.mobile.getTouchEventName("touchmove");a.enablehover=!1;a.gridcontent&&(a.removeHandler(a.gridcontent,b+".touchScroll"),a.removeHandler(a.gridcontent,g+".touchScroll"),a.removeHandler(a.gridcontent,d+".touchScroll"),a.removeHandler(a.gridcontent,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(a.gridcontent[0],a.vScrollInstance.max,function(b,f){if("visible"==a.vScrollBar.css("visibility")){var d=a.vScrollInstance.value;a.vScrollInstance.setPosition(d+f)}"visible"==a.hScrollBar.css("visibility")&&(d=a.hScrollInstance.value,a.hScrollInstance.setPosition(d+b));a.vScrollInstance.thumbCapture=!0;a._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),a._overlayElement&&(a.removeHandler(a._overlayElement,b+".touchScroll"),a.removeHandler(a._overlayElement,g+".touchScroll"),a.removeHandler(a._overlayElement,d+".touchScroll"),a.removeHandler(a._overlayElement,"touchcancel.touchScroll"),e.jqx.mobile.touchScroll(a._overlayElement[0],a.vScrollInstance.max,function(b,f){if("visible"==a.vScrollBar.css("visibility")){var d=a.vScrollInstance.value;a.vScrollInstance.setPosition(d+f)}"visible"==a.hScrollBar.css("visibility")&&(d=a.hScrollInstance.value,a.hScrollInstance.setPosition(d+b));a.vScrollInstance.thumbCapture=!0;a._lastScroll=new Date},this.element.id,this.hScrollBar,this.vScrollBar),this.addHandler(this.host,b,function(){a.editcell?a._overlayElement.css("visibility","hidden"):a._overlayElement.css("visibility","visible")}),this.addHandler(this.host,d,function(){a.editcell?a._overlayElement.css("visibility","hidden"):a._overlayElement.css("visibility","visible")})))}},isTouchDevice:function(){if(void 0!=this.touchDevice)return this.touchDevice;var a=e.jqx.mobile.isTouchDevice();this.touchDevice=a;if(1==this.touchmode){if(e.jqx.browser.msie&&9>e.jqx.browser.version)return this.enablehover=!1;a=!0;e.jqx.mobile.setMobileSimulator(this.element);this.touchDevice=a}else 0==this.touchmode&&(a=!1);a&&0!=this.touchModeStyle&&(this.touchDevice=!0,this.host.addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-content").addClass(this.toThemeProperty("jqx-touch")),this.host.find("jqx-widget-header").addClass(this.toThemeProperty("jqx-touch")),this.scrollbarsize=this.touchscrollbarsize);return a},toTP:function(a){return this.toThemeProperty(a)},localizestrings:function(a,b){this._cellscache=[];e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache();if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);if(null!=a){for(var d in a)d.toLowerCase()!==d&&(a[d.toLowerCase()]=a[d]);a.pagergotopagestring&&(this.gridlocalization.pagergotopagestring=a.pagergotopagestring);a.pagershowrowsstring&&(this.gridlocalization.pagershowrowsstring=a.pagershowrowsstring);a.pagerrangestring&&(this.gridlocalization.pagerrangestring=a.pagerrangestring);a.pagernextbuttonstring&&(this.gridlocalization.pagernextbuttonstring=a.pagernextbuttonstring);a.pagerpreviousbuttonstring&&(this.gridlocalization.pagerpreviousbuttonstring=a.pagerpreviousbuttonstring);a.pagerfirstbuttonstring&&(this.gridlocalization.pagerfirstbuttonstring=a.pagerfirstbuttonstring);a.pagerlastbuttonstring&&(this.gridlocalization.pagerlastbuttonstring=a.pagerlastbuttonstring);a.groupsheaderstring&&(this.gridlocalization.groupsheaderstring=a.groupsheaderstring);a.sortascendingstring&&(this.gridlocalization.sortascendingstring=a.sortascendingstring);a.sortdescendingstring&&(this.gridlocalization.sortdescendingstring=a.sortdescendingstring);a.sortremovestring&&(this.gridlocalization.sortremovestring=a.sortremovestring);a.groupbystring&&(this.gridlocalization.groupbystring=a.groupbystring);a.groupremovestring&&(this.gridlocalization.groupremovestring=a.groupremovestring);a.firstDay&&(this.gridlocalization.firstDay=a.firstDay);a.days&&(this.gridlocalization.days=a.days);a.months&&(this.gridlocalization.months=a.months);a.AM&&(this.gridlocalization.AM=a.AM);a.PM&&(this.gridlocalization.PM=a.PM);a.patterns&&(this.gridlocalization.patterns=a.patterns);a.percentsymbol&&(this.gridlocalization.percentsymbol=a.percentsymbol);a.currencysymbol&&(this.gridlocalization.currencysymbol=a.currencysymbol);a.currencysymbolposition&&(this.gridlocalization.currencysymbolposition=a.currencysymbolposition);void 0!=a.decimalseparator&&(this.gridlocalization.decimalseparator=a.decimalseparator);void 0!=a.thousandsseparator&&(this.gridlocalization.thousandsseparator=a.thousandsseparator);a.filterclearstring&&(this.gridlocalization.filterclearstring=a.filterclearstring);a.filterstring&&(this.gridlocalization.filterstring=a.filterstring);a.filtershowrowstring&&(this.gridlocalization.filtershowrowstring=a.filtershowrowstring);a.filtershowrowdatestring&&(this.gridlocalization.filtershowrowdatestring=a.filtershowrowdatestring);a.filterselectallstring&&(this.gridlocalization.filterselectallstring=a.filterselectallstring);a.filterchoosestring&&(this.gridlocalization.filterchoosestring=a.filterchoosestring);a.filterorconditionstring&&(this.gridlocalization.filterorconditionstring=a.filterorconditionstring);a.filterandconditionstring&&(this.gridlocalization.filterandconditionstring=a.filterandconditionstring);a.filterstringcomparisonoperators&&(this.gridlocalization.filterstringcomparisonoperators=a.filterstringcomparisonoperators);a.filternumericcomparisonoperators&&(this.gridlocalization.filternumericcomparisonoperators=a.filternumericcomparisonoperators);a.filterdatecomparisonoperators&&(this.gridlocalization.filterdatecomparisonoperators=a.filterdatecomparisonoperators);a.filterbooleancomparisonoperators&&(this.gridlocalization.filterbooleancomparisonoperators=a.filterbooleancomparisonoperators);a.emptydatastring&&(this.gridlocalization.emptydatastring=a.emptydatastring);a.filterselectstring&&(this.gridlocalization.filterselectstring=a.filterselectstring);a.todaystring&&(this.gridlocalization.todaystring=a.todaystring);a.clearstring&&(this.gridlocalization.clearstring=a.clearstring);a.validationstring&&(this.gridlocalization.validationstring=a.validationstring);a.loadtext&&(this.gridlocalization.loadtext=a.loadtext);a.addrowstring&&(this.gridlocalization.addrowstring=a.addrowstring);a.udpaterowstring&&(this.gridlocalization.udpaterowstring=a.udpaterowstring);a.deleterowstring&&(this.gridlocalization.deleterowstring=a.deleterowstring);a.resetrowstring&&(this.gridlocalization.resetrowstring=a.resetrowstring);a.everpresentrowplaceholder&&(this.gridlocalization.everpresentrowplaceholder=a.everpresentrowplaceholder);if(!1!==b){this._initpager&&this._initpager();this._initgroupsheader&&this._initgroupsheader();this._initmenu&&this._initmenu();this._builddataloadelement();e(this.dataloadelement).css("visibility","hidden");e(this.dataloadelement).css("display","none");if(this.filterable&&this.showfilterrow&&this._updatefilterrow){for(d in this._filterrowcache)e(this._filterrowcache[d]).remove();this._filterrowcache=[];this._updatefilterrow()}this.showaggregates&&this.refresheaggregates&&this.refresheaggregates();this._renderrows(this.virtualsizeinfo)}}else this.gridlocalization={"/":"/",":":":",firstDay:0,days:{names:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),namesAbbr:"Sun Mon Tue Wed Thu Fri Sat".split(" "),namesShort:"Su Mo Tu We Th Fr Sa".split(" ")},months:{names:"January February March April May June July August September October November December ".split(" "),namesAbbr:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec ".split(" ")},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss",ISO:"yyyy-MM-dd hh:mm:ss",ISO2:"yyyy-MM-dd HH:mm:ss",d1:"dd.MM.yyyy",d2:"dd-MM-yyyy",d3:"dd-MMMM-yyyy",d4:"dd-MM-yy",d5:"H:mm",d6:"HH:mm",d7:"HH:mm tt",d8:"dd/MMMM/yyyy",d9:"MMMM-dd",d10:"MM-dd",d11:"MM-dd-yyyy"},percentsymbol:"%",currencysymbol:"$",currencysymbolposition:"before",decimalseparator:".",thousandsseparator:",",pagergotopagestring:"Go to page:",pagershowrowsstring:"Show rows:",pagerrangestring:" of ",pagerpreviousbuttonstring:"previous",pagernextbuttonstring:"next",pagerfirstbuttonstring:"first",pagerlastbuttonstring:"last",groupsheaderstring:"Drag a column and drop it here to group by that column",sortascendingstring:"Sort Ascending",sortdescendingstring:"Sort Descending",sortremovestring:"Remove Sort",groupbystring:"Group By this column",groupremovestring:"Remove from groups",filterclearstring:"Clear",filterstring:"Filter",filtershowrowstring:"Show rows where:",filtershowrowdatestring:"Show rows where date:",filterorconditionstring:"Or",filterandconditionstring:"And",filterselectallstring:"(Select All)",filterchoosestring:"Please Choose:",filterstringcomparisonoperators:"empty;not empty;contains;contains(match case);does not contain;does not contain(match case);starts with;starts with(match case);ends with;ends with(match case);equal;equal(match case);null;not null".split(";"),filternumericcomparisonoperators:"equal;not equal;less than;less than or equal;greater than;greater than or equal;null;not null".split(";"),filterdatecomparisonoperators:"equal;not equal;less than;less than or equal;greater than;greater than or equal;null;not null".split(";"),filterbooleancomparisonoperators:["equal","not equal"],validationstring:"Entered value is not valid",emptydatastring:"No data to display",filterselectstring:"Select Filter",loadtext:"Loading...",clearstring:"Clear",todaystring:"Today",addrowstring:"Add",udpaterowstring:"Update",deleterowstring:"Delete",resetrowstring:"Reset",everpresentrowplaceholder:"Enter "}},_getmenudefaultheight:function(){var a=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(a=3);this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(a+=2);var b=this._measureMenuElement(),a=a*b+9;this.filterable&&!this.showfilterrow&&this.showfiltermenuitems&&(a+=180,e.jqx.browser.msie&&8>e.jqx.browser.version&&(a+=20));return a},_initmenu:function(){var a=this.that;if(this.host.jqxMenu){if(this.gridmenu){if(this._hasOpenedMenu)return;this.filterable&&this._destroyfilterpanel&&this._destroyfilterpanel();this.removeHandler(this.gridmenu,"keydown");this.removeHandler(this.gridmenu,"closed");this.removeHandler(this.gridmenu,"itemclick");this.gridmenu.jqxMenu("destroy");this.gridmenu.removeData();this.gridmenu.remove()}this.menuitemsarray=[];this.gridmenu=e('\x3cdiv id\x3d"gridmenu'+this.element.id+'" style\x3d"z-index: 9999999999999;"\x3e\x3c/div\x3e');this.host.append(this.gridmenu);var b=e("\x3cul\x3e\x3c/ul\x3e"),d=e('\x3cli\x3e\x3cdiv class\x3d"jqx-grid-sortasc-icon"\x3e\x3c/div\x3e'+this.gridlocalization.sortascendingstring+"\x3c/li\x3e"),g=e('\x3cli\x3e\x3cdiv class\x3d"jqx-grid-sortdesc-icon"\x3e\x3c/div\x3e'+this.gridlocalization.sortdescendingstring+"\x3c/li\x3e"),h=e('\x3cli\x3e\x3cdiv class\x3d"jqx-grid-sortremove-icon"\x3e\x3c/div\x3e'+this.gridlocalization.sortremovestring+"\x3c/li\x3e"),l=e('\x3cli\x3e\x3cdiv class\x3d"jqx-grid-groupby-icon"\x3e\x3c/div\x3e'+this.gridlocalization.groupbystring+"\x3c/li\x3e"),k=e('\x3cli\x3e\x3cdiv class\x3d"jqx-grid-groupby-icon"\x3e\x3c/div\x3e'+this.gridlocalization.groupremovestring+"\x3c/li\x3e"),m=e('\x3cli type\x3d"separator"\x3e\x3c/li\x3e'),n=e('\x3cli class\x3d"filter" style\x3d"height: 175px;" ignoretheme\x3d"true"\x3e\x3cdiv class\x3d"filter"\x3e\x3c/div\x3e\x3c/li\x3e'),p=this.gridlocalization.sortascendingstring.length,q=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>p&&(p=this.gridlocalization.sortdescendingstring.length,q=this.gridlocalization.sortdescendingstring);this.gridlocalization.sortremovestring.length>p&&(p=this.gridlocalization.sortremovestring.length,q=this.gridlocalization.sortremovestring);this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(this.gridlocalization.groupbystring.length>p&&(p=this.gridlocalization.groupbystring.length,q=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>p&&(p=this.gridlocalization.groupremovestring.length,q=this.gridlocalization.groupremovestring));p=200;q=e.trim(q).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");q=e("\x3cspan\x3e"+q+"\x3c/span\x3e");q.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(q);p=q.outerWidth()+60;q.remove();q=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(b.append(d),this.menuitemsarray[0]=d[0],b.append(g),this.menuitemsarray[1]=g[0],b.append(h),this.menuitemsarray[2]=h[0],q=3);this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(b.append(l),this.menuitemsarray[3]=l[0],b.append(k),this.menuitemsarray[4]=k[0],q+=2);var r=this._measureMenuElement(),q=q*r+9,r=!0;if(this.filterable&&!this.showfilterrow&&this.showfiltermenuitems)if(this._initfilterpanel)this.menuitemsarray[5]=n[0],this.menuitemsarray[6]=n[0],b.append(m),b.append(n),q+=180,e.jqx.browser.msie&&8>e.jqx.browser.version&&(q+=20),m=e(n).find("div:first"),this.excelfilterpanel=e("\x3cdiv\x3e\x3c/div\x3e"),this.filterpanel=m,this.filtermenu=e(n),p+=20,this._initfilterpanel(this,m,"",p),this._initfilterpanel(this,this.excelfilterpanel,"",p,!0),r=!1,this.removeHandler(e(document),"click.menu"+a.element.id,a._closemenuafterclick,a),this.addHandler(e(document),"click.menu"+a.element.id,a._closemenuafterclick,a);else throw Error("jqxGrid: Missing reference to jqxgrid.filter.js.");this.gridmenu.append(b);e.jqx.browser.msie&&8>e.jqx.browser.version&&this.filterable&&(e("#listBoxfilter1"+this.element.id).css("z-index",4990),e("#listBoxfilter2"+this.element.id).css("z-index",4990),e("#listBoxfilter3"+this.element.id).css("z-index",4990),e("#gridmenu"+this.element.id).css("z-index",5E3),this.addHandler(e("#gridmenu"+this.element.id),"initialized",function(){e("#menuWrappergridmenu"+a.element.id).css("z-index",4980)}));void 0==this.menuitemsarray[0]&&(q=65);this.removeHandler(e(window),"orientationchange.jqxgrid"+this.element.id);this.removeHandler(e(window),"orientationchanged.jqxgrid"+this.element.id);this.addHandler(e(window),"orientationchange.jqxgrid"+this.element.id,function(){a.gridmenu.jqxMenu("close")});this.addHandler(e(window),"orientationchanged.jqxgrid"+this.element.id,function(){a.gridmenu.jqxMenu("close")});this.removeHandler(this.gridmenu,"keydown");this.addHandler(this.gridmenu,"keydown",function(b){if(27==b.keyCode)a.gridmenu.jqxMenu("close");else if(13==b.keyCode&&a.filterable&&a._buildfilter){b="block"==e(e.find("#filter1"+a.element.id)).jqxDropDownList("container").css("display");var f="block"==e(e.find("#filter2"+a.element.id)).jqxDropDownList("container").css("display"),d="block"==e(e.find("#filter3"+a.element.id)).jqxDropDownList("container").css("display");e(e.find("#filterclearbutton"+a.element.id)).hasClass("jqx-fill-state-focus")?(b=e.data(document.body,"contextmenu"+a.element.id).column,a._clearfilter(a,a.element,b),a.gridmenu.jqxMenu("close")):b||f||d||(b=e.data(document.body,"contextmenu"+a.element.id).column,a.gridmenu.jqxMenu("close"),a._buildfilter(a,n,b))}});"auto"!=this.popupwidth&&(p=this.popupwidth);this.gridmenu.jqxMenu({popupZIndex:999999,width:p,height:q,autoCloseOnClick:r,autoOpenPopup:!1,mode:"popup",theme:this.theme,animationShowDuration:0,animationHideDuration:0,animationShowDelay:0});this.filterable&&this.gridmenu.jqxMenu("_setItemProperty",n[0].id,"closeOnClick",!1);if(this.rtl){var t=this.that;e.each(b.find("li"),function(){e(this).addClass(t.toTP("jqx-rtl"))});b=function(a){a=a.find("div");a.css("float","right");a.css("margin-left","4px");a.css("margin-right","-4px")};b(h);b(g);b(d);b(l);b(k)}this._handlemenueevents()}else this.columnsmenu=!1},_arrangemenu:function(){this.gridmenu||this._initmenu();var a=this.gridlocalization.sortascendingstring.length,b=this.gridlocalization.sortascendingstring;this.gridlocalization.sortdescendingstring.length>a&&(a=this.gridlocalization.sortdescendingstring.length,b=this.gridlocalization.sortdescendingstring);this.gridlocalization.sortremovestring.length>a&&(a=this.gridlocalization.sortremovestring.length,b=this.gridlocalization.sortremovestring);this.groupable&&this._initgroupsheader&&(this.gridlocalization.groupbystring.length>a&&(a=this.gridlocalization.groupbystring.length,b=this.gridlocalization.groupbystring),this.gridlocalization.groupremovestring.length>a&&(b=this.gridlocalization.groupremovestring));a=200;b=e.trim(b).replace(/\&nbsp\;/ig,"").replace(/\&#160\;/ig,"");b=e("\x3cspan\x3e"+b+"\x3c/span\x3e");b.addClass(this.toThemeProperty("jqx-menu-item"));this.host.append(b);a=b.outerWidth()+60;b.remove();b=0;this.sortable&&this._togglesort&&this.showsortmenuitems&&(b=3);this.groupable&&this._initgroupsheader&&this.showgroupmenuitems&&(b+=2);b=27*b+3;this.filterable&&this.showfiltermenuitems&&this._initfilterpanel&&(b+=180,a+=20,e.jqx.browser.msie&&8>e.jqx.browser.version&&(b+=20));void 0==this.menuitemsarray[0]&&(b=65);"auto"!=this.popupwidth&&(a=this.popupwidth);"auto"!=this.popupheight&&(b=this.popupheight);this.gridmenu.jqxMenu({width:a,height:b})},_closemenuafterclick:function(a){var b=null!=a?a.data:this,d=!1;if(void 0==a.target||void 0!=a.target&&void 0==a.target.className.indexOf)b.gridmenu.jqxMenu("close");else if(-1==a.target.className.indexOf("filter")||-1!=a.target.className.indexOf("jqx-grid-cell-filter"))if(-1!=a.target.className.indexOf("jqx-grid-cell"))b.gridmenu.jqxMenu("close");else if(!b._hasOpenedMenu||!e(a.target).ischildof(b.gridmenu)){b.host.coord();var g=b.gridmenu.coord(),h=a.pageX,l=a.pageY;e.each(e(a.target).parents(),function(){if(null!=this.id&&this.id.indexOf&&-1!=this.id.indexOf("filter")||this.className.indexOf&&-1!=this.className.indexOf("filter")&&-1==this.className.indexOf("jqx-grid-cell-filter"))return d=!0,!1;if(this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-cell")||this.className.indexOf&&-1!=this.className.indexOf("jqx-grid-column"))return b.gridmenu.jqxMenu("close"),!1});if(!d){try{if("default"===b.filtermode){var k=e(e.find("#filter1"+b.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup,m=new Date;if(100>m-k)return;var n=e(e.find("#filter3"+b.element.id)).jqxDropDownList("listBox").vScrollInstance._mouseup;if(100>m-n||"block"==e(e.find("#filter3"+b.element.id)).jqxDropDownList("container").css("display")||"block"==e(e.find("#filter1"+b.element.id)).jqxDropDownList("container").css("display")||"block"==e(e.find("#filter2"+b.element.id)).jqxDropDownList("container").css("display")||b._hasdatefilter&&"div"==e(".filtertext1"+b.element.id)[0].nodeName.toLowerCase()&&("block"==e(".filtertext1"+b.element.id).jqxDateTimeInput("container").css("display")||"block"==e(".filtertext2"+b.element.id).jqxDateTimeInput("container").css("display")))return}else{k=e(e.find("#filter1"+b.element.id)).data().jqxListBox.instance.vScrollInstance._mouseup;m=new Date;if(100>m-k)return;n=e(e.find("#filter1"+b.element.id)).data().jqxListBox.instance.hScrollInstance._mouseup;if(100>m-n)return}}catch(p){}h>=g.left&&h<=g.left+b.gridmenu.width()&&l>=g.top&&l<=g.top+b.gridmenu.height()||b.gridmenu.jqxMenu("close")}}},_handlemenueevents:function(){var a=this.that;this.removeHandler(this.gridmenu,"closed");this.addHandler(this.gridmenu,"closed",function(b){a._closemenu()});this.removeHandler(this.gridmenu,"itemclick");this.addHandler(this.gridmenu,"itemclick",function(b){var d=b.args;for(b=0;b<a.menuitemsarray.length;b++)if(d==a.menuitemsarray[b]){if(void 0!=e(d).attr("ignoretheme"))break;var d=e.data(document.body,"contextmenu"+a.element.id),g=d.column;a.filterable&&a.gridmenu.jqxMenu("close");var h=g.displayfield;null==h&&(h=g.datafield);if(null!=d)switch(b){case 0:a.sortby(h,"ascending",null);break;case 1:a.sortby(h,"descending",null);break;case 2:a.sortby(h,null,null);break;case 3:a.addgroup(h);break;case 4:a.removegroup(h);break;case 5:b=e(a.menuitemsarray[6]),e(b).css("display","block")}break}})},getdatainformation:function(){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);return{rowscount:a,sortinformation:this.getsortinformation(),paginginformation:this.getpaginginformation()}},getsortinformation:function(){return{sortcolumn:this.sortcolumn,sortdirection:this.sortdirection}},getpaginginformation:function(){return{pagenum:this.dataview.pagenum,pagesize:this.pagesize,pagescount:Math.ceil(this.dataview.totalrecords/this.pagesize)}},_updaterowsproperties:function(){this._updatehiddenrows();this._updaterowheights();this._updaterowdetails()},_updatehiddenrows:function(){var a=this.that;this.hiddens=[];e.each(this.hiddenboundrows,function(b){void 0!=this.index&&(b=a.getrowvisibleindex(b),a.hiddens[b]=this.hidden)})},_updaterowheights:function(){var a=this.that;this.heights=[];e.each(this.heightboundrows,function(b){void 0!=this.index&&(b=a.getrowvisibleindex(b),a.heights[b]=this.height)})},_updaterowdetails:function(){var a=this.that;this.details=[];e.each(this.detailboundrows,function(b){void 0!=this.index&&(b=a.getrowvisibleindex(b),a.details[b]=this.details)})},_getmenuitembyindex:function(a){return void 0==a?null:this.menuitemsarray[a]},openmenu:function(a){if(!this._openingmenu){this._openingmenu=!0;this.closemenu();var b=this.getcolumn(a);if(!b.menu)return!1;this.gridmenu||this._initmenu();var d=b.columnsmenu;e(b.element).trigger("mouseenter");this.menuOwner=b;for(var g=this,b=0;b<g.columns.records.length;b++)g.columns.records[b].datafield!=a&&e(g.columns.records[b].element).trigger("mouseleave");setTimeout(function(){"block"==e(d)[0].style.display&&e(d).trigger("click");g._openingmenu=!1},200)}},closemenu:function(){this._closemenu()},_closemenu:function(){if(this._hasOpenedMenu){var a=!1;if(this.columnmenuclosing){var b=e.data(document.body,"contextmenu"+this.element.id);b||(b={column:{displayfield:null}});a=this.columnmenuclosing(this.gridmenu,b.column.displayfield,e(this.gridmenu).height());if(!1===a)return}null!=this.gridmenu&&this.gridmenu.jqxMenu("close");b=e.data(document.body,"contextmenu"+this.element.id);null!=b&&this.autoshowcolumnsmenubutton&&(this.enableanimations?(e(b.columnsmenu).animate({"margin-left":0},"fast",function(){e(b.columnsmenu).css("display","none")}),a=this.rtl?0:-32,b.column.iconscontainer.animate({"margin-left":a},"fast")):(e(b.columnsmenu).css("display","none"),a=this.rtl?0:-32,b.column.iconscontainer.css("margin-left",a)),e.data(document.body,"contextmenu"+this.element.id,null));this._hasOpenedMenu=!1;this.menuOwner=null;var d=this._getmenuitembyindex(5);if(d){var a=e(d).find("#filter1"+this.element.id),g=e(d).find("#filter2"+this.element.id),d=e(d).find("#filter3"+this.element.id);0<a.length&&"default"===this.filtermode&&(a.jqxDropDownList("hideListBox"),0<g.length&&g.jqxDropDownList("hideListBox"),0<d.length&&d.jqxDropDownList("hideListBox"))}}},scrolloffset:function(a,b){null!=a&&null!=b&&void 0!=a&&void 0!=b&&(this.vScrollBar.jqxScrollBar("setPosition",a),this.hScrollBar.jqxScrollBar("setPosition",b))},scrollleft:function(a){null!=a&&void 0!=a&&"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollBar.jqxScrollBar("setPosition",a)},scrolltop:function(a){null!=a&&void 0!=a&&"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollBar.jqxScrollBar("setPosition",a)},beginupdate:function(a,b){this._updating=!0;this._datachanged=!1;!0===a&&(this._batchupdate=!0);!0===b&&(this._stopbindings=!0)},endupdate:function(){this.resumeupdate()},resumeupdate:function(){this._updating=!1;if(this._batchupdate)this._datachanged=this._batchupdate=!1,this._stopbindings?this.updatebounddata():this.render();else if(this._stopbindings)this.updatebounddata("data");else{if(1==this._datachanged){var a=this.vScrollInstance.value;this.render(!0,!0,!1);this._datachanged=!1;0!=a&&a<this.vScrollInstance.max&&this.scrolltop(a)}else this.rendergridcontent(!0),this._renderrows(this.virtualsizeinfo);this.showaggregates&&this.renderaggregates&&this.renderaggregates();this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}},updating:function(){return this._updating},showloadelement:function(){this.renderloadelement&&this.dataloadelement.html(this.renderloadelement());this.dataloadelement.width(this.host.width());this.dataloadelement.height(this.host.height());e(this.dataloadelement).css("visibility","visible");e(this.dataloadelement).css("display","block")},hideloadelement:function(){e(this.dataloadelement).css("visibility","hidden");e(this.dataloadelement).css("display","none")},_updatefocusedfilter:function(){var a=this.that;a.focusedfilter&&(a.focusedfilter.focus(),setTimeout(function(){a.focusedfilter.focus();if("input"==a.focusedfilter[0].nodeName.toLowerCase()){var b=a.focusedfilter.val().length;try{if("selectionStart"in a.focusedfilter[0])a.focusedfilter[0].setSelectionRange(b,b);else{var d=a.focusedfilter[0].createTextRange();d.collapse(!0);d.moveEnd("character",b);d.moveStart("character",b);d.select()}}catch(e){}}},50))},databind:function(a,b){if(!0!==this.loadingstate&&!0!==this._stopbindings){"block"==this.host.css("display")&&(this.autoshowloadelement?(e(this.dataloadelement).css("visibility","visible"),e(this.dataloadelement).css("display","block"),this.dataloadelement.width(this.host.width()),this.dataloadelement.height(this.host.height()),this._hideemptyrow()):(e(this.dataloadelement).css("visibility","hidden"),e(this.dataloadelement).css("display","none")));!this._initgroupsheader&&0<this.groups.length&&(this.groups=[]);var d=this.that;null==a&&(a={});a.recordstartindex||(a.recordstartindex=0);a.recordendindex||(a.recordendindex=0);if(void 0==a.loadallrecords||null==a.loadallrecords)a.loadallrecords=!0;if(void 0==a.sortcomparer||null==a.sortcomparer)a.sortcomparer=null;if(void 0==a.filter||null==a.filter)a.filter=null;if(void 0==a.sort||null==a.sort)a.sort=null;if(void 0==a.data||null==a.data)a.data=null;var g=null;null!=a&&(g=void 0!=a._source?a._source.url:a.url);this.dataview=this.dataview||new e.jqx.dataview;e.jqx.dataview.sort&&e.extend(this.dataview,new e.jqx.dataview.sort);e.jqx.dataview.grouping&&e.extend(this.dataview,new e.jqx.dataview.grouping);this.dataview.suspendupdate();this.dataview.pageable=this.pageable;this.dataview.groupable=this.groupable;this.dataview.groups=this.groups;this.dataview.virtualmode=this.virtualmode;this.dataview.grid=this;this.dataview._clearcaches();!this.pageable&&this.virtualmode&&(this.loadondemand=!0);if(!d.initializedcall){if(a._source&&this.sortable&&(void 0!=a._source.sortcolumn&&(this.sortcolumn=a._source.sortcolumn,this.source.sortcolumn=this.sortcolumn,this.dataview.sortfield=a._source.sortcolumn,a._source.sortcolumn=null),void 0!=a._source.sortdirection)){var h=this.dataview.sortfielddirection=a._source.sortdirection,l="a"==h||"asc"==h||"ascending"==h||1==h?!0:!1;this.sortdirection=null!=h?{ascending:l,descending:!l}:{ascending:!1,descending:!1}}this.pageable&&a._source&&(void 0!=a._source.pagenum&&(this.dataview.pagenum=a._source.pagenum),void 0!=a._source.pagesize?(this.pagesize=a._source.pagesize,this.dataview.pagesize=a._source.pagesize):(this.dataview.pagesize=a._source.pagesize,void 0==this.dataview.pagesize&&(this.dataview.pagesize=this.pagesize)));this.sortable&&(a.sortcolumn&&(this.dataview.sortfield=a.sortcolumn),a.sortdirection&&(this.dataview.sortfielddirection=a.sortdirection));this.filterable&&this.columns&&e.each(this.columns,function(){this.filter&&d.dataview.addfilter(this.datafield,this.filter)})}this._loading=!0;this.dataview.update=function(a){!d.pageable&&d.virtualmode&&(d.loadondemand=!0);d._loading=!1;d.dataview.isupdating()&&d.dataview.resumeupdate(!1);if(d.pageable&&d.pagerrenderer)if(d._initpager)d._initpager();else throw Error("jqxGrid: Missing reference to jqxgrid.pager.js.");if(d.source&&d.source.sortcolumn&&d.sortby&&!d.virtualmode)d.render(),d.source._source.sort||d.sortby(d.source.sortcolumn,d.source.sortdirection,d.source.sortcomparer),d.source.sortcolumn=null;else{var c=d.vScrollInstance.value,g=d.hScrollInstance.value,h=d.source?d.source.datatype:"array";if("local"!=h||"array"!=h){h=null==d.virtualsizeinfo||null!=d.virtualsizeinfo&&0==d.virtualsizeinfo.virtualheight;if("cells"==b){var l=!1;d.filterable&&d._initfilterpanel&&d.dataview.filters.length&&(l=!0);if(0==a){d.vScrollInstance.isScrolling()||d.hScrollInstance.isScrolling()||(d._cellscache=[],d._pagescache=[],d._renderrows(d.virtualsizeinfo),d.showfilterrow&&d.filterable&&d.filterrow&&d._updatelistfilters(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates());d.sortcolumn&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer);d.autoshowloadelement&&(e(d.dataloadelement).css("visibility","hidden"),e(d.dataloadelement).css("display","none"));d.virtualmode&&!d._loading&&(d.loadondemand=!0,d._renderrows(d.virtualsizeinfo));return}l?b="filter":void 0!=d.sortcolumn&&(b="sort")}!d.virtualmode||h||d.virtualmode&&d.pageable?1==d.initializedcall&&"pagechanged"==b?(c=0,d.groupable&&0<d.groups.length?(d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):(d.rendergridcontent(!0),d.pageable&&d.updatepagerdetails&&(d.updatepagerdetails(),d.autoheight?(d._updatepageviews(),d.autorowheight&&d._renderrows(this.virtualsizeinfo)):d.autorowheight&&(d._updatepageviews(),d._renderrows(this.virtualsizeinfo)))),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):"filter"==b?(d._render(!0,!0,!1,!1,!1),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo),d._updatefocusedfilter()):"sort"==b?(d.virtualmode?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):(d._render(!0,!0,!1,!1,!1),d.sortcolumn&&!d.source.sort&&d.sortby(d.sortcolumn,d.dataview.sortfielddirection,d.source.sortcomparer)),d.source.sort&&d._updatefocusedfilter()):"data"==b?d._render(!0,!0,!1,!1,!1):"state"==b?d._render(!0,!0,!1,d.menuitemsarray&&0<d.menuitemsarray.length&&!d.virtualmode):d._render(!0,!0,!0,d.menuitemsarray&&0<d.menuitemsarray.length&&!d.virtualmode):d.virtualmode&&1==a&&!d.pageable?(d._render(!0,!0,!1,!1,!1),d._updatefocusedfilter(),d._updatecolumnwidths(),d._updatecellwidths(),d._renderrows(d.virtualsizeinfo)):d.virtualmode&&!d.pageable&&0==a&&void 0!=b?(d.rendergridcontent(!0),d.showaggregates&&d._updateaggregates&&d._updateaggregates()):d.virtualmode&&0==d.dataview.totalrecords&&0<d.dataview.filters.length?d._render(!0,!0,!0,d.menuitemsarray&&!d.virtualmode):(d._pagescache=[],d._renderrows(d.virtualsizeinfo));d.vScrollInstance.value!=c&&c<=d.vScrollInstance.max&&d.vScrollInstance.setPosition(c);d.hScrollInstance.value!=g&&g<=d.hScrollInstance.max&&d.hScrollInstance.setPosition(g)}}d.autoshowloadelement&&(e(d.dataloadelement).css("visibility","hidden"),e(d.dataloadelement).css("display","none"));d.pageable&&(d.pagerrightbutton&&(d.pagerrightbutton.jqxButton({disabled:!1}),d.pagerleftbutton.jqxButton({disabled:!1}),d.pagershowrowscombo.jqxDropDownList({disabled:!1})),d.pagerfirstbutton&&(d.pagerfirstbutton.jqxButton({disabled:!1}),d.pagerlastbutton.jqxButton({disabled:!1})));d._raiseEvent(11);if(d.initializedcall)d._updateTouchScrolling();else{var r=function(){d._raiseEvent(0);d.initializedcall=!0;d.isInitialized=!0;d.ready&&d.ready();d.renderstatusbar&&d.renderstatusbar(d.statusbar);d.rendertoolbar&&d.rendertoolbar(d.toolbar);d.autoloadstate&&d.loadstate&&d.loadstate(null,!0)};e.jqx.isHidden(d.host)?(d.readyInterval&&clearInterval(d.readyInterval),d.readyInterval=setInterval(function(){!e.jqx.isHidden(d.host)&&d.__isRendered&&(clearInterval(d.readyInterval),d.readyInterval=null,r(),d._initmenu())},200)):r();null!=d.width&&-1!=d.width.toString().indexOf("%")||null!=d.height&&d.height.toString().indexOf("%");"hidden"==d.host.css("visibility")&&("visible"==d.vScrollBar.css("visibility")&&d.vScrollBar.css("visibility","inherit"),d.autowidth||"visible"==d.hScrollBar.css("visibility")&&d.hScrollBar.css("visibility","inherit"),d._intervalTimer=setInterval(function(){"visible"==d.host.css("visibility")&&(d._updatesize(!0),clearInterval(d._intervalTimer))},100))}};this.dataview.databind(a);this.dataview.isupdating()&&(void 0!=g?this.dataview.suspend=!1:this.dataview.resumeupdate(!1));this._initializeRows()}},scrollto:function(a,b){void 0!=a&&this.hScrollInstance.setPosition(a);void 0!=b&&this.vScrollInstance.setPosition(b)},scrollposition:function(){return{top:this.vScrollInstance.value,left:this.hScrollInstance.value}},ensurerowvisible:function(a){if(this.autoheight&&!this.pageable)return!0;var b=this._getpagesize(),d=Math.floor(a/b);this._pageviews[d]||this.pageable||this._updatepageviews();var e=!1;if(this.pageable&&this.gotopage&&!this.virtualmode&&(d=Math.floor(a/b),this.dataview.pagenum!=d)){if(this.groupable&&0<this.groups.length)return!0;this.gotopage(d);e=!0}var h=this.vScrollInstance.value,l=this._gettableheight()-this.rowsheight,k;k=Math.round(b*(a/b-d));if(this._pageviews[d]){var m=this._pageviews[d].top+k*this.rowsheight;if(this.rowdetails)for(var n=b*d;n<a;n++)this.details[n]&&0==this.details[n].rowdetailshidden&&(m+=this.details[n].rowdetailsheight);"deferred"==this.scrollmode&&this.vScrollInstance.max<=m+this.rowsheight&&(m=this.vScrollInstance.max);m<h?(this.scrolltop(m),e=!0):m>h+l+2&&(this.scrolltop(m-l),e=!0)}else if(this.pageable){m=k*this.rowsheight;if(this.rowdetails)for(n=b*d;n<b*d+k;n++)this.details[n]&&0==this.details[n].rowdetailshidden&&(m+=this.details[n].rowdetailsheight);if(m<h||m>h+l)this.scrollto(0,m),e=!0}return e},ensurecellvisible:function(a,b){var d=this.that,g=this.hScrollBar.jqxScrollBar("value"),h=d.hScrollInstance.max;d.rtl&&"visible"!=this.hScrollBar.css("visibility")&&(h=0);var l=this.ensurerowvisible(a),k=0;if(this.columns.records){if("hidden"==this.hScrollBar.css("visibility"))return;var m=this.host.width(),n=0,p="visible"==this.vScrollBar.css("visibility")?20:0,q=!1;e.each(this.columns.records,function(){if(this.hidden)return!0;if(this.datafield==b){var a=0,a=d.rtl?h-g:g;k+this.width>a+m-p?(a=k+this.width-m+p,d.rtl&&(a=h-a),d.scrollleft(a),q=!0):k<=a&&(a=k-this.width,d.rtl&&(a=h-a),d.scrollleft(a),q=!0);0==n?(d.rtl?d.scrollleft(h):d.scrollleft(0),q=!0):n==d.columns.records.length-1&&"visible"==d.hScrollBar.css("visibility")&&(d.rtl?d.scrollleft(d.hScrollBar.jqxScrollBar("min")):d.scrollleft(d.hScrollBar.jqxScrollBar("max")),q=!0);return!1}n++;k+=this.width});q||d.scrollleft(g)}return l},setrowheight:function(a,f){if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);if(null==a||null==f)return!1;this.heightboundrows[a]={index:a,height:f};a=this.getrowvisibleindex(a);if(0>a)return!1;this.rows.records[a]?this.rows.records[a].height=f:(row=new b(this,null),row.height=f,this.rows.replace(a,row));this.heights[a]=f;this.rendergridcontent(!0);return!0},getrowheight:function(a){if(null==a)return null;a=this.getrowvisibleindex(a);if(0>a)return!1;if(this.rows.records[a])return this.rows.records[a].height},setrowdetails:function(a,b,d,g){if(!(void 0==a||null==a||0>a)){var h=a+"_";this._rowdetailscache[h]&&(e(this._rowdetailscache[h].element).remove(),this._rowdetailscache[h]=null);h=this.dataview.generatekey();this.detailboundrows[a]={index:a,details:{rowdetails:b,rowdetailsheight:d,rowdetailshidden:g,key:h}};a=this.getrowvisibleindex(a);return 0>a?!1:this._setrowdetails(a,b,d,g,h)}},getcolumn:function(a){var b=null;this.columns.records&&e.each(this.columns.records,function(){if(this.datafield==a||this.displayfield==a)return b=this,!1});return b},_getcolumnindex:function(a){var b=-1;this.columns.records&&e.each(this.columns.records,function(){b++;if(this.datafield==a)return!1});return b},_getcolumnat:function(a){return this.columns.records[a]},_getprevvisiblecolumn:function(a){for(var b=this.that;0<a;){a--;var d=b.getcolumnat(a);if(!d)break;if(!d.hidden)return d}return null},_getnextvisiblecolumn:function(a){for(var b=this.that;a<this.columns.records.length;){a++;var d=b.getcolumnat(a);if(!d)break;if(!d.hidden)return d}return null},getcolumnat:function(a){return isNaN(a)?null:this.columns.records[a]},_getcolumn:function(a){var b=null;e.each(this._columns,function(){if(this.datafield==a||this.displayfield==a)return b=this,!1});return b},_setcolumnproperty:function(a,b,d){if(null==a||null==b||null==d)return null;b=b.toLowerCase();var e=this.getcolumn(a);if(null!=e){var h=e[b];e[b]=d;a=this._getcolumn(a);null!=a&&(a[b]=d);this._cellscache=[];switch(b){case "filteritems":this.filterable&&this.showfilterrow&&this._updatelistfilters(!0,!0);break;case "text":this.prerenderrequired=!0;this._rendercolumnheaders();this._updatecellwidths();this._groupsheader()&&this._initgroupsheader&&this._initgroupsheader();this._renderrows(this.virtualsizeinfo);break;case "editable":case "resizable":case "draggable":if("editable"==b&&d!=h){null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!0);if("checkbox"==e.columntype&&(this.prerenderrequired=!0,this.rendergridcontent(!0,!1),this.updating())||this.updating())return!1;this._renderrows(this.virtualsizeinfo)}break;case "hidden":case "hideable":case "renderer":case "cellsrenderer":case "align":case "aggregates":case "cellsalign":case "cellsformat":case "pinned":case "contenttype":case "filterable":case "groupable":case "cellclass":case "cellclassname":case "classname":case "class":this.prerenderrequired=!0;"pinned"==b&&(this._initializeColumns(),this._preparecolumngroups());this.rendergridcontent(!0);if(this.updating())return!1;"hidden"==b&&(this._updatecolumnwidths(),this._updatecellwidths());this._renderrows(this.virtualsizeinfo);this.showaggregates&&this._updateaggregates&&this._updateaggregates();break;case "width":case "minwidth":case "maxwidth":if(this.updating())return!1;e._width=null;e._percentagewidth=null;this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo)}}},_getcolumnproperty:function(a,b){if(null==a||null==b)return null;b=b.toLowerCase();return this.getcolumn(a)[b]},setcolumnproperty:function(a,b,d){this._setcolumnproperty(a,b,d)},getcolumnproperty:function(a,b){return this._getcolumnproperty(a,b)},hidecolumn:function(a){this._setcolumnproperty(a,"hidden",!0)},showcolumn:function(a){this._setcolumnproperty(a,"hidden",!1)},iscolumnvisible:function(a){return!this._getcolumnproperty(a,"hidden")},pincolumn:function(a){this._setcolumnproperty(a,"pinned",!0)},unpincolumn:function(a){this._setcolumnproperty(a,"pinned",!1)},iscolumnpinned:function(a){return this._getcolumnproperty(a,"pinned")},_setrowdetails:function(a,b,d,e,h){0==d&&(d=100);if(null==a||null==d)return!1;if(null!=h)this.details[a]={rowdetails:b,rowdetailsheight:d,rowdetailshidden:e,detailskey:h};else{h=null!=this.details[a]?this.details[a].detailskey:null;b={rowdetails:b,rowdetailsheight:d,rowdetailshidden:e,detailskey:h};for(d=0;d<this.detailboundrows.length;d++)if(void 0!=this.detailboundrows[d]&&(e=this.detailboundrows[d],e.details.detailskey==h)){e.details.rowdetailsheight=b.rowdetailsheight;e.details.rowdetailshidden=b.rowdetailshidden;e.details.rowdetails=b.rowdetails;break}this.details[a]=b}this.rendergridcontent(!0);this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);return!0},getrowdetails:function(a){if(null==a)return!1;a=this.getrowvisibleindex(a);return this._getrowdetails(a)},_getrowdetails:function(a){if(null==a||0>a)return!1;if(this.details[a])return this.details[a];if(this.rowdetailstemplate)return this.rowdetailstemplate},getrecordscount:function(){return this.dataview.totalrecords},showrowdetails:function(a){if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);if(null==a)return!1;a=this.getrowvisibleindex(a);if(0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!1)},hiderowdetails:function(a){if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);a=this.getrowvisibleindex(a);if(0>a)return!1;var b=this._getrowdetails(a);return this._setrowdetailsvisibility(a,b,!0)},_togglerowdetails:function(a){var b=a.visibleindex,d=this._getrowdetails(b);return null!=d?(a=this.vScrollInstance.value,b=this._setrowdetailsvisibility(b,d,!d.rowdetailshidden),0!==a&&"hidden"!==this.vScrollBar.css("visibility")&&(a<=this.vScrollInstance.max?this.vScrollInstance.setPosition(a):this.vScrollInstance.setPosition(this.vScrollInstance.max)),b):!1},_setrowdetailsvisibility:function(a,b,d){if(this.rowdetailstemplate&&(this.details||(this.details=[]),!this.details[a])){this.details[a]={rowdetailshidden:this.rowdetailstemplate.rowdetailshidden,rowdetailsheight:this.rowdetailstemplate.rowdetailsheight,rowdetails:this.rowdetailstemplate.rowdetails};var e=this.dataview.generatekey();this.details[a].detailskey=e;this.detailboundrows[a]={index:a,details:this.details[a]}}if(null!=b)this.details[a].rowdetailshidden=d;else return!1;b=this.details[a];d?this._raiseEvent(21,{rowindex:a,details:b.rowdetails,height:b.rowdetailsheight}):this._raiseEvent(20,{rowindex:a,details:b.rowdetails,height:b.rowdetailsheight});return this._setrowdetails(a,b.rowdetails,b.rowdetailsheight,b.rowdetailshidden)},getrowvisibleindex:function(a){return void 0==a||null==a||0>a?!1:this.virtualmode?(a=this.dataview.loadedrecords[a],void 0==a?-1:a.visibleindex):this.getrowdisplayindex(a)},hiderow:function(a){if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);if(void 0==a||null==a||0>a||null==a)return!1;this.hiddenboundrows[a]={index:a,hidden:!0};a=this.getrowvisibleindex(a);return this._setrowvisibility(a,!0)},showrow:function(a){if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);if(void 0==a||null==a||0>a||null==a)return!1;this.hiddenboundrows[a]={index:a,hidden:!1};a=this.getrowvisibleindex(a);return this._setrowvisibility(a,!1)},isrowhiddenat:function(a){if(null==a)return null;a=this.getrowvisibleindex(a);if(this.rows.records[a])return this.rows.records[a].hidden},_setrowvisibility:function(a,b,d){if(null==a)return!1;this.hiddens[a]=b;return void 0==d||d?(this.rendergridcontent(!0),!0):!1},_loadrows:function(){if(this._pageviews[this.dataview.pagenum]||this.pageable){var a=this.pageable?0:this._pageviews[this.dataview.pagenum].top;if(!this.pageable&&void 0!=this._pagescache[this.dataview.pagenum])return null;if(this.virtualsizeinfo){var f=this.that,d=[],e=[],h=f.groupable&&0<f.groups.length,l=0;this.rows.beginupdate();var k=this.dataview.pagesize;this.pageable&&h&&(k=this.dataview.rows.length);for(var m=0;m<k&&!(m>=this.dataview.rows.length);m++){var n=this.dataview.rows[m],p=null;f.rows.records[n.visibleindex]?(p=f.rows.records[n.visibleindex],p.setdata(n)):p=new b(f,n);p.hidden=this.hiddens[p.visibleindex];this.rowdetailstemplate&&(p.rowdetails=this.rowdetailstemplate.rowdetails,p.rowdetailsheight=this.rowdetailstemplate.rowdetailsheight,p.rowdetailshidden=this.rowdetailstemplate.rowdetailshidden);var q=this.details[p.visibleindex];q?(p.rowdetails=q.rowdetails,p.rowdetailsheight=q.rowdetailsheight,p.rowdetailshidden=q.rowdetailshidden):this.rowdetailstemplate||(p.rowdetails=null);if(h&&this.pageable&&null!=p.parentbounddata){q=d[p.parentbounddata.uniqueid];if(null!=q){var r=this._findgroupstate(q.uniqueid);this._setsubgroupsvisibility&&this._setsubgroupsvisibility(this,p.parentbounddata,!r,!1);p.hidden=this.hiddens[p.visibleindex]}null!=q&&void 0!=q&&(p.parentrow=q,q.subrows[q.subrows.length++]=p)}p.hidden||(n=n.visibleindex,this.heights[n]||(this.heights[n]=this.rowsheight),p.height=this.heights[n],this.rowdetails&&p.rowdetails&&!p.rowdetailshidden&&(p.height+=p.rowdetailsheight),d[p.uniqueid]=p,e[l++]=p,p.top=a,a+=p.height,f.rows.replace(n,p))}(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews&&0<this._pageviews.length&&(this._pageviews[0].height=a);this.rows.resumeupdate();0<e.length&&(this._pagescache[this.dataview.pagenum]=e)}}},_updateaddnewrowui:function(a){for(var b="bottom"!=this.everpresentrowposition?this.addnewrowtop:this.addnewrowbottom,d=this.columns.records.length,g=a=0;g<d;g++){var h=this.columns.records[g];h.addnewrowwidget&&h.addnewrowwidget.detach()}for(g=0;g<d;g++){var h=this.columns.records[g],l=h.width;l<h.minwidth&&(l=h.minwidth);l>h.maxwidth&&(l=h.maxwidth);var k=e(b[0].cells[g]);k.css("left",a);k.width();k.width(l);k[0].left=a;h.addnewrowwidget&&(k.html(""),k.append(h.addnewrowwidget));h.hidden&&h.hideable?k.css("display","none"):a+=l}d=this.everpresentrowactions.split(" ");this.addnewrowbutton.show();this.addnewrowupdatebutton.show();this.addnewrowresetbutton.show();this.addnewrowdeletebutton.show();-1==d.indexOf("add")&&-1==d.indexOf("addBottom")&&this.addnewrowbutton.hide();-1==d.indexOf("update")&&this.addnewrowupdatebutton.hide();-1==d.indexOf("reset")&&this.addnewrowresetbutton.hide();-1==d.indexOf("delete")&&this.addnewrowdeletebutton.hide();b=e(b.children()[0]);b.width(parseInt(a)+2);b.height(this.everpresentrowheight);b.css("max-height",this.everpresentrowheight+"px")},_removeaddnewrow:function(){for(var a=this.columns.records.length,b=0;b<a;b++){var d=this.columns.records[b];d.addnewrowwidget&&(d.destroyeverpresentrowwidget?d.destroyeverpresentrowwidget(d.addnewrowwidget):d.addnewrowwidget.remove(),d.addnewrowwidget=null)}this.addnewrowbutton&&this.addnewrowbutton.remove();this.addnewrowupdatebutton&&this.addnewrowupdatebutton.remove();this.addnewrowdeletebutton&&this.addnewrowdeletebutton.remove();this.addnewrowresetbutton&&this.addnewrowresetbutton.remove();this.addnewrowpopup&&(this.addnewrowpopup.remove(),this.addnewrowpopup=null);this.addnewrowtop&&(this.addnewrowtop.remove(),this.addnewrowtop=null);this.addnewrowbottom&&(this.addnewrowbottom.remove(),this.addnewrowbottom=null)},_updateaddnewrow:function(){var a=this,b="bottom"!=a.everpresentrowposition?a.addnewrowtop:a.addnewrowbottom,d=e('\x3cdiv style\x3d"position: relative;" id\x3d"row000'+a.element.id+'"\x3e\x3c/div\x3e'),g=0,h=a.columns.records.length,l=a.toThemeProperty("jqx-grid-cell"),l=l+(" "+a.toThemeProperty("jqx-grid-cell-add-new-row")),l=l+(" "+a.toThemeProperty("jqx-grid-cell-filter-row")),k=h+10,m=[];b[0].cells=m;d.height(a.everpresentrowheight);a.showfilterrow||"bottom"==a.everpresentrowposition?a.showfilterrow&&"bottom"!=a.everpresentrowposition&&b.css("max-height",a.everpresentrowheight-3+"px"):b.css("max-height",a.everpresentrowheight-1+"px");d.css("max-height",a.everpresentrowheight+"px");b.append(d);var n=e("\x3cdiv style\x3d'border-width: 1px; border-style: solid; padding: 5px; z-index: 99999; display: none; position: absolute;'\x3e\x3cdiv\x3e").appendTo(e(document.body)),p=e("\x3cbutton style\x3d'position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'\x3e"+a.gridlocalization.addrowstring+"\x3c/button\x3e"),q=e("\x3cbutton style\x3d'position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'\x3e"+a.gridlocalization.udpaterowstring+"\x3c/button\x3e"),r=e("\x3cbutton style\x3d'position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'\x3e"+a.gridlocalization.deleterowstring+"\x3c/button\x3e"),t=e("\x3cbutton style\x3d'position: relative; float: left; margin: 2px; border-radius: 0px; padding: 4px 8px;'\x3e"+a.gridlocalization.resetrowstring+"\x3c/button\x3e");n.addClass(a.toThemeProperty("jqx-popup"));n.addClass(a.toThemeProperty("jqx-rc-all"));n.addClass(a.toThemeProperty("jqx-fill-state-normal"));n.addClass(a.toThemeProperty("jqx-shadow"));n.append(p);n.append(q);n.append(r);n.append(t);var v=a.everpresentrowactions.split(" ");-1==v.indexOf("add")&&-1==v.indexOf("addBottom")&&p.hide();-1==v.indexOf("update")&&q.hide();-1==v.indexOf("reset")&&t.hide();-1==v.indexOf("delete")&&r.hide();a.addnewrowpopup=n;a.addnewrowbutton=p;a.addnewrowupdatebutton=q;a.addnewrowdeletebutton=r;a.addnewrowresetbutton=t;p.jqxButton({template:"success",theme:a.theme});r.jqxButton({template:"danger",theme:a.theme});q.jqxButton({template:"primary",theme:a.theme});t.jqxButton({template:"warning",theme:a.theme});q.mousedown(function(b){for(var f={},d={},e=0;e<h;e++){var g=a.columns.records[e];if(g.geteverpresentrowwidgetvalue){var k=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);d[g.datafield]=k;g.datafield!=g.displayfield&&(d[g.datafield]=k.value,d[g.displayfield]=k.label)}}for(var l=!1,e=0;e<h;e++)if(g=a.columns.records[e],g.geteverpresentrowwidgetvalue){k=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);if(g.createeverpresentrowwidget&&g.validateeverpresentrowwidgetvalue){var m=g.validateeverpresentrowwidgetvalue(g.displayfield,k,d),q=a.gridlocalization.validationstring;void 0!=m.message&&(q=m.message);("boolean"==typeof m?m:m.result)?(g.addnewrowwidget.attr("title",""),g.addnewrowwidget.removeClass(a.toThemeProperty("jqx-input-invalid"))):(k="invalid editor state",g.addnewrowwidget.attr("title",q),g.addnewrowwidget.addClass(a.toThemeProperty("jqx-input-invalid")))}"invalid editor state"===k&&(b.preventDefault(),b.stopPropagation(),l=!0)}if(!l){for(e=0;e<h;e++)g=a.columns.records[e],g.geteverpresentrowwidgetvalue&&(k=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget),f[g.datafield]=k,g.datafield!=g.displayfield&&(f[g.datafield]=k.value,f[g.displayfield]=k.label),g.reseteverpresentrowwidgetvalue&&g.reseteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget));if(0<a.selectedcells.length||0<a.selectedrowindexes.length)b=0<=a.selectionmode.indexOf("cell")?a.getselectedcells()[0].rowindex:a.selectedrowindexes[0],(rowData=a.getrowdata(b))&&a.updaterow(rowData.uid,f)}n.hide();a.focus()});r.mousedown(function(b){if(0<a.selectedcells.length||0<a.selectedrowindexes.length)b=0<=a.selectionmode.indexOf("cell")?a.getselectedcells()[0].rowindex:a.selectedrowindexes[0],(rowData=a.getrowdata(b))&&a.deleterow(rowData.uid);for(b=0;b<h;b++){var f=a.columns.records[b];f.reseteverpresentrowwidgetvalue&&f.reseteverpresentrowwidgetvalue(f.displayfield,f.addnewrowwidget)}n.hide();a.focus();a.updateeverpresentrow()});p.mousedown(function(b){for(var f={},d={},e=0;e<h;e++){var g=a.columns.records[e];if(g.geteverpresentrowwidgetvalue){var k=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);d[g.datafield]=k;g.datafield!=g.displayfield&&(d[g.datafield]=k.value,d[g.displayfield]=k.label);g.datafield!=g.displayfield&&(d[g.datafield]=k.label,d[g.displayfield]=k.value)}}for(var l=!1,e=0;e<h;e++)if(g=a.columns.records[e],g.geteverpresentrowwidgetvalue){k=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget);if(g.createeverpresentrowwidget&&g.validateeverpresentrowwidgetvalue){var m=g.validateeverpresentrowwidgetvalue(g.displayfield,k,d),q=a.gridlocalization.validationstring;void 0!=m.message&&(q=m.message);("boolean"==typeof m?m:m.result)?(g.addnewrowwidget.attr("title",""),g.addnewrowwidget.removeClass(a.toThemeProperty("jqx-input-invalid"))):(k="invalid editor state",g.addnewrowwidget.attr("title",q),g.addnewrowwidget.addClass(a.toThemeProperty("jqx-input-invalid")))}"invalid editor state"===k&&(b.preventDefault(),b.stopPropagation(),l=!0)}if(!l){for(e=0;e<h;e++)g=a.columns.records[e],g.geteverpresentrowwidgetvalue&&(k=g.geteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget),f[g.datafield]=k,g.datafield!=g.displayfield&&(d[g.datafield]=k.label,d[g.displayfield]=k.value),g.reseteverpresentrowwidgetvalue&&g.reseteverpresentrowwidgetvalue(g.displayfield,g.addnewrowwidget));b=0<=a.everpresentrowactions.indexOf("addBottom")?"last":"first";a.addrow(null,f,b)}n.hide();a.focus()});t.mousedown(function(b){for(b=0;b<h;b++){var f=a.columns.records[b];f.reseteverpresentrowwidgetvalue&&f.reseteverpresentrowwidgetvalue(f.displayfield,f.addnewrowwidget);f.addnewrowwidget&&(f.addnewrowwidget.attr("title",""),f.addnewrowwidget.removeClass(a.toThemeProperty("jqx-input-invalid")))}n.hide();a.focus()});for(v=0;v<h;v++){var u=a.columns.records[v],w=u.width;w<u.minwidth&&(w=u.minwidth);w>u.maxwidth&&(w=u.maxwidth);var x=e('\x3cdiv style\x3d"overflow: hidden; position: absolute; height: 100%;" class\x3d"'+l+'"\x3e\x3c/div\x3e');d.append(x);x.css("left",g);a.rtl?(x.css("z-index",k++),x.css("border-left-width","1px")):x.css("z-index",k--);"auto"==w&&(w=0);x[0].style.width=parseFloat(w)+"px";x[0].left=g;u.hidden&&u.hideable?x.css("display","none"):g+=w;m[m.length]=x[0];if(u.checkboxcolumn)u=a.toThemeProperty("jqx-grid-cell"),u+=" "+a.toThemeProperty("jqx-grid-cell-filter-row"),u+=" "+a.toThemeProperty("jqx-grid-cell-pinned"),x.removeClass().addClass(u);else{w=!0;if(a.rtl)a.groupable&&(z=a.showrowdetailscolumn&&a.rowdetails?1:0,a.groups.length+z+v>h-1&&(w=!1)),a.showrowdetailscolumn&&a.rowdetails&&v==h-1&&(w=!1);else{if(a.groupable){var z=a.showrowdetailscolumn&&a.rowdetails?1:0;a.groups.length+z>v&&(w=!1)}a.showrowdetailscolumn&&a.rowdetails&&0==v&&(w=!1)}a.updateeverpresentrow=function(){var b=null;if(0<a.selectedcells.length||0<a.selectedrowindexes.length)var f=0<=a.selectionmode.indexOf("cell")?a.getselectedcells()[0].rowindex:a.selectedrowindexes[0],b=a.getrowdata(f);if(b)for(b=0;b<a.columns.records.length;b++){var d=a.columns.records[b];if(d.seteverpresentrowwidgetvalue){var e=a.getcelltext(f,d.displayfield);d.seteverpresentrowwidgetvalue(d.addnewrowwidget,e)}}};w&&(u.createeverpresentrowwidget?(u.addnewrowwidget=u.createeverpresentrowwidget(u.datafield,x,n,function(){p.trigger("mousedown")}),u.initeverpresentrowwidget&&u.initeverpresentrowwidget(u.datafield,x,n)):(a._measureElement("column"),w=a.everpresentrowheight/2-a._columnheight/2,0>w&&(w=4),w+="px","addButtonColumn"===u.datafield?(u=e('\x3cdiv style\x3d"padding-bottom: 2px; text-align: center; margin-top: '+w+';"\x3e\x3ca href\x3d"#"\x3e'+a.gridlocalization.addrowstring+"\x3c/a\x3e\x3c/div\x3e"),x.append(u),u.mousedown(function(){p.trigger("mousedown")})):"resetButtonColumn"===u.datafield?(u=e('\x3cdiv style\x3d"padding-bottom: 2px; text-align: center; margin-top: '+w+';"\x3e\x3ca href\x3d"#"\x3e'+a.gridlocalization.resetrowstring+"\x3c/a\x3e\x3c/div\x3e"),x.append(u),u.mousedown(function(){t.trigger("mousedown")})):function(b,f,d){var g=e('\x3cinput style\x3d"box-sizing: border-box; padding-right: 4px; padding-left: 4px; border:none;" autocomplete\x3d"off" type\x3d"textarea"/\x3e');g[0].id=e.jqx.utilities.createId();g.addClass(b.toThemeProperty("jqx-widget"));g.addClass(b.toThemeProperty("jqx-input"));g.addClass(b.toThemeProperty("jqx-widget-content"));g.addClass(b.toThemeProperty("jqx-enableselect"));g.addClass(b.toThemeProperty("jqx-grid-cell-add-new-row"));g.css("text-align",d.cellsalign);b.rtl&&g.css("direction","rtl");b.disabled&&g.attr("disabled",!0);g.attr("disabled",!1);g.attr("placeholder",b.gridlocalization.everpresentrowplaceholder+d.text);g.appendTo(f);g.css("width","100%");g.css("height",b.everpresentrowheight+"px");g.css("line-height",b.everpresentrowheight+"px");g.css("max-height",b.everpresentrowheight+"px");g.css("margin","0px");g.focus(function(){(0<a.selectedcells.length||0<a.selectedrowindexes.length)&&0<=a.selectionmode.indexOf("cell")&&a.getselectedcells();g.addClass(b.toThemeProperty("jqx-fill-state-focus"));var f=b.columns.records.indexOf(d);"columns"!==b.everpresentrowactionsmode&&n.css({display:"block",top:g.coord().top+b.everpresentrowheight-1,left:0<f?g.coord().left:g.coord().left-1});f=n.children().width();"right"===d.cellsalign?(f=p.width()+t.width(),n.children().css("left",f-f+"px")):n.children().css("left","0px");b.content[0].scrollLeft=0;b.content[0].scrollTop=0;setTimeout(function(){b.content[0].scrollLeft=0;b.content[0].scrollTop=0},50);return!1});d.addnewrowwidget=g;d.reseteverpresentrowwidgetvalue||(d.reseteverpresentrowwidgetvalue=function(b,f){f.val("");f.focus();f.blur();f.removeClass(a.toThemeProperty("jqx-input-invalid"));f.attr("title","")});d.seteverpresentrowwidgetvalue||(d.seteverpresentrowwidgetvalue=function(a,c){a.val(c)});d.geteverpresentrowwidgetvalue||(d.geteverpresentrowwidgetvalue=function(b,f,k){b=f.val();if(!1!==k&&d.validateeverpresentrowwidgetvalue){k={};for(f=0;f<h;f++){var l=a.columns.records[f];if(l.geteverpresentrowwidgetvalue){var m=l.geteverpresentrowwidgetvalue(l.displayfield,l.addnewrowwidget,!1);k[l.datafield]=m;l.datafield!=l.displayfield&&(k[l.datafield]=m.value,k[l.displayfield]=m.label)}}k=d.validateeverpresentrowwidgetvalue(d.displayfield,b,k);f=a.gridlocalization.validationstring;void 0!=k.message&&(f=k.message);if("boolean"==typeof k?k:k.result)g.removeClass(a.toThemeProperty("jqx-input-invalid")),g.attr("title","");else return g.addClass(a.toThemeProperty("jqx-input-invalid")),g.attr("title",f),"invalid editor state"}k="string";if(f=a.source.datafields||(a.source._source?a.source._source.datafields:null)){var n="";e.each(f,function(){if(this.name==d.displayfield)return this.type&&(n=this.type),!1});n&&(k=n)}return"number"===k&&(f=parseFloat(b),isNaN(f))?null:"date"===k?e.jqx.dataFormat.tryparsedate(b,a.gridlocalization):"bool"===k||"boolean"===k?"true"===b||"1"==b?!0:"false"===b||"0"==b?!1:!0===b||!1===b?b:!1:b});g.keydown(function(b){13===b.keyCode&&(0<=a.everpresentrowactions.indexOf("add")?p.trigger("mousedown"):0<=a.everpresentrowactions.indexOf("update")?q.trigger("mousedown"):0<=a.everpresentrowactions.indexOf("delete")&&r.trigger("mousedown"))});g.blur(function(){g.removeClass(b.toThemeProperty("jqx-fill-state-focus"));n.css("display","none")});d.initeverpresentrowwidget&&d.initeverpresentrowwidget(d.datafield,f,n)}(this,x,u)))}}e.jqx.browser.msie&&8>e.jqx.browser.version&&d.css("z-index",k--);d.width(parseFloat(g)+2);b.addClass(l);b.css("border-bottom-width","0px");a.showfilterrow?b.css("border-top-width","0px"):b.css("border-top-width","1px");b.css("box-sizing","border-box");b.css("border-right-width","0px")},_gettableheight:function(){if(void 0!=this.tableheight)return this.tableheight;var a=this.host.height();if(this.columnsheader){var b=this.columnsheader.outerHeight();this.showheader||(b=0)}a-=b;"visible"==this.hScrollBar[0].style.visibility&&(a-=this.hScrollBar.outerHeight());this.pageable&&(a-=this.pager.outerHeight());this._groupsheader()&&(a-=this.groupsheader.outerHeight());this.showtoolbar&&(a-=this.toolbarheight);this.showstatusbar&&(a-=this.statusbarheight);this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(a-=this.everpresentrowheight);return 0<a?this.tableheight=a:this.host.height()},_getpagesize:function(){if(this.pageable)return this.pagesize;if(this.virtualmode){var a=Math.round(this.host.height())+2*this.rowsheight;return Math.round(a/this.rowsheight)}return this.autoheight||this.autorowheight?0==this.dataview.totalrows?1:this.dataview.totalrows:100>this.dataview.totalrows&&100>this.dataview.totalrecords&&0<this.dataview.totalrows?this.dataview.totalrows:100},_calculatevirtualheight:function(){var a=Math.round(this.host.height())+2*this.rowsheight;realheight=this._gettableheight();a=Math.round(a/this.rowsheight);this.heights=[];this.hiddens=[];this.details=[];this.expandedgroups=[];this.hiddenboundrows=[];this.heightboundrows=[];this.detailboundrows=[];var b=Math.max(this.dataview.totalrows,this.dataview.totalrecords);this.pageable&&(b=this.pagesize,this.pagesize>Math.max(this.dataview.totalrows,this.dataview.totalrecords)&&this.autoheight?b=Math.max(this.dataview.totalrows,this.dataview.totalrecords):this.autoheight||this.dataview.totalrows<this.pagesize&&(b=Math.max(this.dataview.totalrows,this.dataview.totalrecords)));var d=b*this.rowsheight,e=0,h=0,l=0,k=this._getpagesize(),m=k*this.rowsheight,n=0;!this.pageable&&this.autoheight&&(a=b);if(0<b+k)for(;n<=b+k;){e+=m;if(n-k<b&&n>=b){b=n-b;0<b&&(l-=m,this._pageviews[h-1]={top:l,height:m-b*this.rowsheight});break}else this._pageviews[h++]={top:l,height:m};l=e;n+=k}1!=this.resizingGrid&&this.vScrollBar.jqxScrollBar({value:0});d>realheight&&!this.autoheight?(this.vScrollBar.css("visibility","visible"),"deferred"==this.scrollmode?this.vScrollBar.jqxScrollBar({max:d}):this.vScrollBar.jqxScrollBar({max:d-realheight})):this.vScrollBar.css("visibility","hidden");this.dataview.pagesize=k;this.dataview.updateview();return{visiblerecords:a,virtualheight:d}},_updatepageviews:function(){if(!this.updating()){this._pagescache=[];this._pageviews=[];this.tableheight=null;var a=this.that,b=Math.round(this.host.height())+2*this.rowsheight,b=Math.round(b/this.rowsheight),d=Math.max(this.dataview.totalrows,this.dataview.totalrecords),e=d*this.rowsheight,h=0,l=0,k=0,m=0,n=0,p=this._getpagesize();if(this.pageable)this._updatepagedview&&(e=this._updatepagedview(d,e,0)),this.autoheight&&this._arrange();else for(var q=0;q<d;q++){var r=this.heights[q],t=this.hiddens[q],v=this.details[q];void 0==this.heights[q]&&(r=this.heights[q]=this.rowsheight);void 0==this.hiddens[q]&&(t=this.hiddens[q]=!1);void 0==this.details[q]&&(this.details[q]=null);r!=a.rowsheight&&(e-=a.rowsheight,e+=r);t?e-=r:(l+=r,t=0,this.rowdetails&&(this.rowdetailstemplate&&!v&&(v=this.rowdetailstemplate),v&&v.rowdetails&&!v.rowdetailshidden&&(t=v.rowdetailsheight,l+=t,e+=t)),h+=r+t);n++;if(n>=p||q==d-1)this._pageviews[k++]={top:m,height:l},l=0,m=h,n=0}a=this._gettableheight();e>a?(this.pageable&&this.gotopage&&(e=this._pageviews[0].height,0>e&&(e=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(e<=a||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<e-a?"deferred"!=this.scrollmode?(a=e-a,d=this.vScrollInstance.max,this.vScrollBar.jqxScrollBar({max:a}),a!=d&&this.vScrollBar.jqxScrollBar({value:0})):this.vScrollBar.jqxScrollBar({value:0,max:e}):this.vScrollBar.jqxScrollBar({value:0,max:e})):(this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0}));this._arrange();this.autoheight&&(b=Math.round(this.host.height()/this.rowsheight));this.virtualsizeinfo={visiblerecords:b,virtualheight:e}}},updatebounddata:function(a){"data"==a||"sort"==a||"filter"==a||"cells"==a||"pagechanged"==a||"pagesizechanged"==a||this.virtualmode||(this.virtualsizeinfo=null,this.showfilterrow&&this.filterable&&this.filterrow?(this.clearfilters&&this.clearfilters(!1),this.filterrow.remove(),this._filterrowcache=[],this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters(),this.filterrow=null):this.filterable&&this.clearfilters&&this.clearfilters(!1),this.groupable&&(this.dataview.groups=[],this.groups=[]),this.pageable&&(this.pagenum=0,this.dataview.pagenum=0),this.sortable&&(this.sortcolumn=null,this.sortdirection="",this.dataview.sortfielddirection="",this.dataview.clearsortdata()));this.databind(this.source,a)},refreshdata:function(){this._refreshdataview();this.render()},_updatevscrollbarmax:function(){if(this._pageviews&&0<this._pageviews.length){var a=this._pageviews[0].height;if(this.virtualmode||!this.pageable)a=this.virtualsizeinfo.virtualheight;var b=this._gettableheight();a>b?(this.pageable&&this.gotopage&&(a=this._pageviews[0].height,0>a&&(a=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(a<=b||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<a-b?this.vScrollBar.jqxScrollBar({max:a-b}):this.vScrollBar.jqxScrollBar({value:0,max:a})):(this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0}))}},_refreshdataview:function(){this.dataview.refresh()},refresh:function(a){1==a||e.jqx.isHidden(this.host)||null==this.virtualsizeinfo||(this._cellscache=[],this._renderrows(this.virtualsizeinfo),this._updatesize())},render:function(){this._render(!0,!0,!0,!0)},invalidate:function(){this.virtualsizeinfo&&(this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo))},clear:function(){this.databind(null);this.render()},_preparecolumngroups:function(){var a=this.columnsheight;if(this.columngroups){this.columnshierarchy=[];if(this.columngroups.length){for(var b=this,a=0;a<this.columngroups.length;a++)this.columngroups[a].parent=null,this.columngroups[a].groups=null;for(a=0;a<this.columns.records.length;a++)this.columns.records[a].parent=null,this.columns.records[a].groups=null;for(var d=function(a){for(var c=0;c<b.columngroups.length;c++){var d=b.columngroups[c];if(d.name===a)return d}return null},a=0;a<this.columngroups.length;a++){var e=this.columngroups[a];e.groups||(e.groups=null);if(e.parentgroup){var h=d(e.parentgroup);h&&(e.parent=h,h.groups||(h.groups=[]),-1===h.groups.indexOf(e)&&h.groups.push(e))}}for(a=0;a<this.columns.records.length;a++)if(e=this.columns.records[a],e.columngroup&&(h=d(e.columngroup)))h.groups||(h.groups=[]),e.parent=h,-1===h.groups.indexOf(e)&&h.groups.push(e);for(a=d=0;a<this.columns.records.length;a++){h=e=this.columns.records[a];for(e.level=0;h.parent;)h=h.parent,e.level++;for(var h=e,l=e.level,d=Math.max(d,e.level);h.parent;)if(h=h.parent)h.level=--l}for(var k=function(a){var c=[];a.columngroup&&c.push(a);if(a.groups)for(var b=0;b<a.groups.length;b++)if(a.groups[b].columngroup)c.push(a.groups[b]);else if(a.groups[b].groups)for(var f=k(a.groups[b]),d=0;d<f.length;d++)c.push(f[d]);return c},a=0;a<this.columngroups.length;a++){e=this.columngroups[a];h=k(e);e.columns=h;for(var e=[],m=l=0;m<h.length;m++)e.push(this.columns.records.indexOf(h[m])),h[m].pinned&&l++;if(0!=l)throw Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group cannot be pinned.");e.sort(function(a,c){a=parseInt(a);c=parseInt(c);return a<c?-1:a>c?1:0});for(h=1;h<e.length;h++)if(e[h]!=e[h-1]+1)throw Error("jqxGrid: Column Groups initialization Error. Please, check the initialization of the jqxGrid's columns array. The columns in a column group are expected to be siblings in the columns array.");}}this.columngroupslevel=1+d;a=this.columngroupslevel*this.columnsheight}return a},_render:function(a,b,d,g,h){if(null!=this.dataview&&!this._loading&&!this._batchupdate)if(e.jqx.isHidden(this.host)){var l=this;l.___hiddenTimer&&(clearInterval(l.___hiddenTimer),l.___hiddenTimer=null);this.___hiddenTimer=setInterval(function(){e.jqx.isHidden(l.host)||(clearInterval(l.___hiddenTimer),l.render())},300)}else{null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!0,!1);this.validationpopup=null;this._removeHandlers();this._addHandlers();this._initializeRows();this._requiresupdate=void 0!=b?b:!0;this._newmax=null;if(d)if(this._requiresupdate||0!=g&&this._initmenu(),null==this.columns)this.columns=new e.jqx.collection(this.element);else{var k=this;this.columns&&"observableArray"===this.columns.name&&(this.columns.notifier=function(a){switch(a.type){case "add":k.columns=k._columns;k.render();break;case "update":if("index"===a.name){k.beginupdate();for(var c in a.newValue)k.setcolumnproperty(a.newValue.datafield,c,a.newValue[c]);k.endupdate()}else c=a.path.split("."),k.setcolumnproperty(k.columns[c[0]].datafield,a.name,a.newValue);break;case "delete":k.columns=k._columns,k.render()}});this.columngroups&&"observableArray"===this.columngroups.name&&(this.columngroups.notifier=function(a){k.render()});this._initializeColumns()}this.tableheight=null;this._pagescache=[];this._pageviews=[];this.visiblerows=[];this.hittestinfo=[];this._requiresupdate&&(this._clearcaches(),1==g&&this._initmenu());this.virtualsizeinfo=null;this.prerenderrequired=!0;(this.groupable&&0<this.groups.length&&this.rowdetails||this.rowdetails)&&this.gridcontent&&(this._rowdetailscache=[],this._rowdetailselementscache=[],this.detailboundrows=[],this.details=[],e.jqx.utilities.html(this.gridcontent,""),this.gridcontent=null);this.gridcontent&&this.editable&&this._destroyeditors&&this._destroyeditors();d?(this.filterrow&&this.filterrow.detach(),e.jqx.utilities.html(this.content,""),this.columnsheader=this.columnsheader||e('\x3cdiv style\x3d"overflow: hidden;"\x3e\x3c/div\x3e'),this.columnsheader.remove(),this.columnsheader.addClass(this.toTP("jqx-widget-header")),this.columnsheader.addClass(this.toTP("jqx-grid-header"))):this.gridcontent&&e.jqx.utilities.html(this.gridcontent,"");this.showheader?this.columnsheader&&this.columnsheader.css("display","block"):this.columnsheader.css("display","none");this.gridcontent=this.gridcontent||e('\x3cdiv style\x3d"width: 100%; overflow: hidden; position: absolute;"\x3e\x3c/div\x3e');this.gridcontent.remove();a=this.columnsheight;a=this._preparecolumngroups();this.showfilterrow&&this.filterable?(this.columnsheader.height(a+this.filterrowheight),this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&this.columnsheader.height(a+this.filterrowheight+this.everpresentrowheight)):this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?this.columnsheader.height(a+this.everpresentrowheight):this.columnsheader.height(a);this.content.append(this.columnsheader);this.content.append(this.gridcontent);this._arrange();this._initgroupsheader&&this._initgroupsheader();this.selectionarea=this.selectionarea||e("\x3cdiv style\x3d'z-index: 99999; visibility: hidden; position: absolute;'\x3e\x3c/div\x3e");this.selectionarea.addClass(this.toThemeProperty("jqx-grid-selectionarea"));this.selectionarea.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.content.append(this.selectionarea);this.tableheight=null;this.rendergridcontent(!1,d);0<this.groups.length&&this.groupable&&(a=this.vScrollBar[0].style.visibility,this.suspendgroupevents=!0,this.collapseallgroups&&(this.groupsexpandedbydefault?this.expandallgroups(!1):(this.collapseallgroups(!1),this._updatescrollbarsafterrowsprerender())),this.vScrollBar[0].style.visibility!=a&&(this._updatecolumnwidths(),this._updatecellwidths()),this.suspendgroupevents=!1);this.pageable&&this.updatepagerdetails&&(this.updatepagerdetails(),this.autoheight&&this._updatepageviews(),this.autorowheight&&(this.autoheight||this._updatepageviews(),this._renderrows(this.virtualsizeinfo)));this.showaggregates&&this._updateaggregates&&this._updateaggregates();this._addoverlayelement();"deferred"==this.scrollmode&&this._addscrollelement();this.showfilterrow&&this.filterable&&this.filterrow&&(void 0==h||1==h)&&this._updatelistfilters(!d);this.rendered&&this.rendered("full");this.__isRendered=!0}},_addoverlayelement:function(){if(this.autoheight)this._overlayElement&&this._overlayElement.remove();else{var a=e.jqx.utilities.getBrowser();if("msie"==a.browser&&9>parseInt(a.version)||this.isTouchDevice())if(this._overlayElement&&this._overlayElement.remove(),this._overlayElement=e("\x3cdiv style\x3d'visibility: hidden; position: absolute; width: 100%; height: 100%;'\x3e\x3c/div\x3e"),this._overlayElement.css("background","white"),this._overlayElement.css("z-index",18E3),this._overlayElement.css("opacity",.001),this.isTouchDevice())if("hidden"!==this.vScrollBar.css("visibility")||"hidden"!==this.hScrollBar.css("visibility")){a=0;"checkbox"==this.selectionmode&&(a+=30);(this.groupable||this.rowdetails)&&this._overlayElement.css("left",30*(this.groups.length+(this.rowdetails?1:0)));var b=this._overlayElement.css("left");this._overlayElement.css("left",b+a)}else this._overlayElement&&this._overlayElement.remove();else this.content.prepend(this._overlayElement)}this._updateTouchScrolling()},_addscrollelement:function(){this._scrollelement&&this._scrollelement.remove();this._scrollelementoverlay&&this._scrollelementoverlay.remove();this._scrollelementoverlay=e("\x3cdiv style\x3d'visibility: hidden; position: absolute; width: 100%; height: 100%;'\x3e\x3c/div\x3e");this._scrollelementoverlay.css("background","black");this._scrollelementoverlay.css("z-index",18E3);this._scrollelementoverlay.css("opacity",.1);this._scrollelement=e("\x3cspan style\x3d'visibility: hidden; top: 50%; right: 10px; position: absolute;'\x3e\x3c/span\x3e");this._scrollelement.css("z-index",18005);this._scrollelement.addClass(this.toThemeProperty("jqx-button"));this._scrollelement.addClass(this.toThemeProperty("jqx-fill-state-normal"));this._scrollelement.addClass(this.toThemeProperty("jqx-rc-all"));this._scrollelement.addClass(this.toThemeProperty("jqx-shadow"));this.content.prepend(this._scrollelement);this.content.prepend(this._scrollelementoverlay)},rendergridcontent:function(a,b){if(this.updating())return!1;if(void 0==a||null==a)a=!1;this._requiresupdate=a;var d=this.prerenderrequired;this.prerenderrequired&&this._arrange();var e=this.that;if(null==b||void 0==b)b=!0;this.tableheight=null;e.virtualsizeinfo=e.virtualsizeinfo||e._calculatevirtualheight();e.pageable&&!e.autoheight&&e.dataview.totalrows<e.pagesize&&(e._requiresupdate=!0);b?e._rendercolumnheaders():(this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn());e._renderrows(e.virtualsizeinfo);this.gridcontent&&(0!=this.gridcontent[0].scrollTop&&(this.gridcontent[0].scrollTop=0),0!=this.gridcontent[0].scrollLeft&&(this.gridcontent[0].scrollLeft=0));d&&(d=this.tableheight,this._arrange(),d!=this.tableheight&&this.autoheight&&e._renderrows(e.virtualsizeinfo));this.rtl&&this._renderhorizontalscroll();this.autosavestate&&null!=this.initializedcall&&this.savestate&&this.savestate();return!0},_updatecolumnwidths:function(){var a=this.host.width(),b=a,d="";if(void 0!=this.columns&&void 0!=this.columns.records){var g=this.that,h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(e,k){if(!this.hidden||!this.hideable)if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth){var l="hidden"==g.vScrollBar[0].style.visibility?0:g.scrollbarsize+5;g.scrollbarautoshow&&(l=0);var m=b;k=parseFloat(this.width)*m/100;l+=h;void 0!=this._percentagewidth&&(k=parseFloat(this._percentagewidth)*(m-l)/100);k<this.minwidth&&"auto"!=this.minwidth&&(k=this.minwidth);k>this.maxwidth&&"auto"!=this.maxwidth&&(k=this.maxwidth);a-=k}else"auto"==this.width||this._width?d+=this.text:a-=this.width});var l=this._gettableheight();if(!this.autoheight&&this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>l)if(this.groupable&&0<this.groups.length)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){var k=this.dataview.loadedrootgroups.length*this.rowsheight;if(this.pageable)for(var m=0;m<this.dataview.rows.length;m++)this.dataview.rows[m].group&&0===this.dataview.rows[m].level&&(k+=this.rowsheight);k>l?(a-=this.scrollbarsize+5,b-=this.scrollbarsize+5):"visible"==this.vScrollBar.css("visibility")&&(a-=this.scrollbarsize+5,b-=this.scrollbarsize+5)}else a-=this.scrollbarsize+5,b-=this.scrollbarsize+5;else"hidden"!=this.vScrollBar.css("visibility")&&(a-=this.scrollbarsize+5,b-=this.scrollbarsize+5);h=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;b-=h;if(this.columnsheader&&(l=this.columnsheader.find("#columntable"+this.element.id),0!=l.length)){var n=0;e.each(this.columns.records,function(g,h){var k=e(this.element);this.hidden||"none"!==this.element.style.display||(this.element.style.display="block");var l=!1,m=this.width;if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)m=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*b/100:parseFloat(this.width)*b/100,l=!0;"auto"==this.width||this._width||l?l?(m<this.minwidth&&"auto"!=this.minwidth&&(this.width=m=this.minwidth),m>this.maxwidth&&"auto"!=this.maxwidth&&(this.width=m=this.maxwidth),parseInt(k[0].style.width)!=m&&(k.width(m),this.width=m)):(l=Math.floor(this.text.length/d.length*a),isNaN(l)&&(l=this.minwidth),Infinity==l&&(l=0),0>l&&($element=e("\x3cspan\x3e"+this.text+"\x3c/span\x3e"),e(document.body).append($element),l=10+$element.width(),$element.remove()),l<this.minwidth&&(l=this.minwidth),l>this.maxwidth&&(l=this.maxwidth),this._width="auto",this.width=l,k.width(this.width)):parseInt(k[0].style.width)!=this.width&&k.width(this.width);parseInt(k[0].style.left)!=n&&k.css("left",n);this.hidden&&this.hideable||(n+=this.width);this._requirewidthupdate=!0});this.columnsheader.width(2+n);l.width(this.columnsheader.width());this.columnsheader[0].style.visibility=0==n?"hidden":"inherit";this._resizecolumngroups();this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui());this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui());this.autowidth&&this._arrange()}}},_rendercolumnheaders:function(){var a=this.that;if(this.prerenderrequired){this._columnsbydatafield=[];this.columnsheader.find("#columntable"+this.element.id).remove();var b=e('\x3cdiv id\x3d"columntable'+this.element.id+'" style\x3d"height: 100%; position: relative;"\x3e\x3c/div\x3e');b[0].cells=[];var d=0,g=0,h="",l=this.host.width(),k=l,m=[],n=[],p=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;e.each(this.columns.records,function(b,f){if(!this.hidden||!this.hideable)if("auto"==this.width||this._width)h+=this.text;else if(this.width<this.minwidth&&"auto"!=this.minwidth)l-=this.minwidth;else if(this.width>this.maxwidth&&"auto"!=this.maxwidth)l-=this.maxwidth;else if(-1!=this.width.toString().indexOf("%")){var d="hidden"==a.vScrollBar[0].style.visibility?0:a.scrollbarsize+5,d=d+p;f=parseFloat(this.width)*(k-d)/100;f<this.minwidth&&"auto"!=this.minwidth&&(f=this.minwidth);f>this.maxwidth&&"auto"!=this.maxwidth&&(f=this.maxwidth);l-=f}else"string"==typeof this.width&&(this.width=parseInt(this.width)),l-=this.width;this.pinned||this.grouped||this.checkboxcolumn?(a._haspinned&&(this.pinned=!0),m[m.length]=this):n[n.length]=this});if(this.rtl){var q=0;m.reverse();for(r=this.columns.records.length-1;r>=this.columns.records.length-m.length;r--)this.columns.replace(r,m[q++]);for(q=0;q<n.length;q++)this.columns.replace(q,n[q])}else{for(var r=0;r<m.length;r++)this.columns.replace(r,m[r]);for(q=0;q<n.length;q++)this.columns.replace(m.length+q,n[q])}var t=this.headerZIndex,v=a.groupable?a.groups.length:0;this.rowdetails&&this.showrowdetailscolumn&&v++;var u=a.columnsheader.height();this.showfilterrow&&(u=this.columngroups?u-this.filterrowheight:this.columnsheight);this.showeverpresentrow&&"bottom"!==this.everpresentrowposition&&(u-=this.everpresentrowheight);q=this._gettableheight();if(this.virtualsizeinfo&&this.virtualsizeinfo.virtualheight>q&&!this.scrollbarautoshow)if(this.groupable&&0<this.groups.length)if(this.dataview&&this.dataview.loadedrootgroups&&!this.groupsexpandedbydefault){r=0;if(!this.pageable)r=this.dataview.loadedrootgroups.length*this.rowsheight;else if(this.pageable)for(var w=0;w<this.dataview.rows.length;w++)this.dataview.rows[w].group&&0===this.dataview.rows[w].level&&(r+=this.rowsheight);r>q&&(l-=this.scrollbarsize+5,k-=this.scrollbarsize+5)}else l-=this.scrollbarsize+5,k-=this.scrollbarsize+5;else this.autoheight||(l-=this.scrollbarsize+5,k-=this.scrollbarsize+5);var k=k-p,x=function(b,f){var d=a.columngroupslevel*a.columnsheight;return d-=f.level*a.columnsheight},z=document.createDocumentFragment();e.each(this.columns.records,function(m,n){this.height=a.columnsheight;a.columngroups&&a.columngroups.length&&(u=this.height=x(this.datafield,this));var q=a.toTP("jqx-grid-column-header")+" "+a.toTP("jqx-widget-header");a.rtl&&(q+=" "+a.toTP("jqx-grid-column-header-rtl"));var p=a.rtl?150+t+1:150+t-1,r=a.rtl?t++:t--,w=e('\x3cdiv role\x3d"columnheader" style\x3d"z-index: '+r+';position: absolute; height: 100%;" class\x3d"'+q+'"\x3e\x3cdiv style\x3d"height: 100%; width: 100%;"\x3e\x3c/div\x3e\x3c/div\x3e');a.columngroups&&(w[0].style.height=u+"px",w[0].style.bottom="0px",this.pinned&&(w[0].style.zIndex=p));this.uielement=w;""!=this.classname&&this.classname&&w.addClass(this.classname);q=this.width;p=!1;null===this.width&&(this.width="auto");if(-1!=this.width.toString().indexOf("%")||void 0!=this._percentagewidth)q=void 0!=this._percentagewidth?parseFloat(this._percentagewidth)*k/100:parseFloat(this.width)*k/100,p=!0;if("auto"==this.width||this._width||p)if(p){q<this.minwidth&&"auto"!=this.minwidth&&(q=this.minwidth);q>this.maxwidth&&"auto"!=this.maxwidth&&(q=this.maxwidth);if(void 0==this._percentagewidth||-1!=this.width.toString().indexOf("%"))this._percentagewidth=this.width;w.width(q);this.width=q}else this.hidden||(q=Math.floor(this.text.length/h.length*l),isNaN(q)&&(q=this.minwidth),0>q&&($element=e("\x3cspan\x3e"+this.text+"\x3c/span\x3e"),e(document.body).append($element),q=10+$element.width(),$element.remove()),q<this.minwidth&&(q=this.minwidth),q>this.maxwidth&&(q=this.maxwidth),this._width="auto",q=this.width=q,w.width(this.width));else q<this.minwidth&&"auto"!=this.minwidth&&(this.width=q=this.minwidth),q>this.maxwidth&&"auto"!=this.maxwidth&&(this.width=q=this.maxwidth),w[0].style.width=parseInt(q)+"px";this.hidden&&this.hideable&&w.css("display","none");var L=e(w.children()[0]),p=a.rtl?a.toTP("jqx-grid-column-menubutton")+" "+a.toTP("jqx-grid-column-menubutton-rtl"):a.toTP("jqx-grid-column-menubutton"),p=p+(" "+a.toTP("jqx-icon-arrow-down")),p=e('\x3cdiv style\x3d"height: '+u+'px; display: none; left: 100%; top: 0%; position: absolute;"\x3e\x3cdiv class\x3d"'+p+'" style\x3d"width: 100%; height:100%;"\x3e\x3c/div\x3e\x3c/div\x3e');a.enableanimations||p.css("margin-left",-16);a.rtl&&p.css("left","0px");this.columnsmenu=p[0];b[0].cells[m]=w[0];p[0].style.width=parseInt(a.columnsmenuwidth)+"px";var r=a.columnsmenu,I=!1,N=!1,K=a.groupable&&0<v&&d<v||a.rowdetails&&d<v;a.rtl&&(K=a.groupable&&0<v&&d<v||a.rowdetails&&d<v,K&=m>a.columns.records.length-1-v);if(K)d++,r&=0,this.editable=this.sortable=!1,N=!0;else{var G=null!=this.renderer?this.renderer(this.text,this.align,u):a._rendercolumnheader(this.text,this.align,u,a);null==G&&(G=a._rendercolumnheader(this.text,this.align,u,a));null!=this.renderer&&(G=e(G));r&=1;I=!0}a.WinJS?MSApp.execUnsafeLocalFunction(function(){L.append(e(G))}):this.renderer?L.append(e(G)):G&&(L[0].innerHTML=G);if(null!=G){var E=e('\x3cdiv class\x3d"iconscontainer" style\x3d"height: '+u+'px; margin-left: -32px; display: block; position: absolute; left: 100%; top: 0%; width: 32px;"\x3e\x3cdiv class\x3d"filtericon '+a.toTP("jqx-widget-header")+'" style\x3d"height: '+u+'px; float: right; display: none; width: 16px;"\x3e\x3cdiv class\x3d"'+a.toTP("jqx-grid-column-filterbutton")+'" style\x3d"width: 100%; height:100%;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"sortasc '+a.toTP("jqx-widget-header")+'" style\x3d"height: '+u+'px; float: right; display: none; width: 16px;"\x3e\x3cdiv class\x3d"'+a.toTP("jqx-grid-column-sortascbutton")+" "+a.toTP("jqx-icon-arrow-up")+'" style\x3d"width: 100%; height:100%;"\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv class\x3d"sortdesc '+a.toTP("jqx-widget-header")+'" style\x3d"height: '+u+'px; float: right; display: none; width: 16px;"\x3e\x3cdiv class\x3d"'+a.toTP("jqx-grid-column-sortdescbutton")+" "+a.toTP("jqx-icon-arrow-down")+'" style\x3d"width: 100%; height:100%;"\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e');p.addClass(a.toTP("jqx-widget-header"));L.append(E);K=E.children();this.sortasc=K[1];this.sortdesc=K[2];this.filtericon=K[0];this.iconscontainer=E;a.rtl&&(E.css("margin-left","0px"),E.css("left","0px"),e(this.sortasc).css("float","left"),e(this.filtericon).css("float","left"),e(this.sortdesc).css("float","left"));!a.autoshowfiltericon&&this.filterable&&e(this.filtericon).css("display","block")}this.element=w[0];r&&(a._handlecolumnsmenu(a,L,w,p,this),this.menu||p.hide());z.appendChild(w[0]);if(a.groupable&&I)if(w[0].id=a.dataview.generatekey(),a._handlecolumnstogroupsdragdrop)a._handlecolumnstogroupsdragdrop(this,w);else throw Error("jqxGrid: Missing reference to jqxgrid.grouping.js.");a.columnsreorder&&this.draggable&&a._handlecolumnsdragreorder&&a._handlecolumnsdragreorder(this,w);var F=this;a.addHandler(w,"click",function(b){if(F.checkboxcolumn)return!0;if(0<a.sorttogglestates&&a._togglesort&&!a._loading){if(a.suspendClick)return!0;a._togglesort(F)}b.preventDefault();a._raiseEvent(7,{column:F.getcolumnproperties(),datafield:F.datafield,originalEvent:b})});if(F.resizable&&a.columnsresize&&!N){var V=!1,p="mousemove";a.isTouchDevice()&&!0!==a.touchmode&&(V=!0,p=e.jqx.mobile.getTouchEventName("touchstart"));a.addHandler(w,p,function(b){var f=parseInt(b.pageX),d=5,g=parseInt(w.coord().left);a.hasTransform&&(g=e.jqx.utilities.getOffset(w).left);if(a.resizing)return!0;if(a._handlecolumnsresize){if(V)return f=a.getTouches(b)[0].pageX,f>=g+F.width-40?(a.resizablecolumn={columnelement:w,column:F},w.css("cursor","col-resize")):(w.css("cursor",""),a.resizablecolumn=null),!0;b=F.width;a.rtl&&(b=0);if(f>=g+b-d){if(f<=g+b+d)return a.resizablecolumn={columnelement:w,column:F},w.css("cursor","col-resize"),!1;w.css("cursor","")}else w.css("cursor",""),f<g+b-d&&(F._animating||F._menuvisible||w.mouseenter());a.resizablecolumn=null}})}w.css("left",g);this.hidden&&this.hideable||(g+=q);F.rendered&&F.rendered(e(L[0].firstChild),F.align,u)&&null!=E&&E.hide();if(F.checkboxcolumn){E&&E.hide();if(!a.host.jqxCheckBox)throw Error("jqxGrid: Missing reference to jqxcheckbox.js");L.html('\x3cdiv style\x3d"cursor: pointer; margin-left: 5px; top: 50%; margin-top: -8px; position: relative;"\x3e\x3c/div\x3e');var R=L.find("div:first");R.jqxCheckBox({_canFocus:!1,disabled:a.disabled,disabledContainer:!0,theme:a.theme,enableContainerClick:!1,width:16,height:16,animationShowDelay:0,animationHideDelay:0});F.checkboxelement=R;E=R.data().jqxCheckBox.instance;a._checkboxcolumn=F;E.updated=function(b,f,d){a._checkboxcolumnupdating=!0;a.disabled&&(R.jqxCheckBox({disabled:a.disabled}),f=d);f?a.selectallrows():a.unselectallrows();a._checkboxcolumnupdating=!1}}});0<g?this.columnsheader.width(2+g):this.columnsheader.width(g);b[0].appendChild(z);this.columnsrow=b;a.columnsheader.append(b);this.showfilterrow&&this._updatefilterrow&&(this.columngroups?b.height(this.columngroupslevel*this.columnsheight):b.height(this.columnsheight),this.filterrow||(q=e("\x3cdiv style\x3d'position: relative !important; '\x3e\x3c/div\x3e"),q[0].id="filterrow."+this.element.id,q.height(this.filterrowheight),this.filterrow=q),this.filterrow.width(2+g),this.columnsheader.append(this.filterrow),this._updatefilterrow());this.showeverpresentrow&&"bottom"!==this.everpresentrowposition?(this.columngroups?b.height(this.columngroupslevel*this.columnsheight):b.height(this.columnsheight),this.addnewrowtop||(q=e("\x3cdiv style\x3d'position: relative !important; z-index:"+this.headerZIndex+";'\x3e\x3c/div\x3e"),q[0].id="addnewrowtop."+this.element.id,q.height(this.everpresentrowheight),this.addnewrowtop=q),this.addnewrowtop.width(2+g),"topAboveFilterRow"==this.everpresentrowposition?this.filterrow?this.addnewrowtop.insertBefore(this.filterrow):this.columnsheader.append(this.addnewrowtop):this.columnsheader.append(this.addnewrowtop),this._updateaddnewrow()):this.showeverpresentrow&&"bottom"===this.everpresentrowposition&&(this.addnewrowbottom||(q=e("\x3cdiv style\x3d'position: relative !important; z-index:"+this.headerZIndex+";'\x3e\x3c/div\x3e"),q[0].id="addnewrowbottom."+this.element.id,q.height(this.everpresentrowheight),this.addnewrowbottom=q),this.addnewrowbottom.width(2+g),this.addnewrow.append(this.addnewrowbottom),this._updateaddnewrow());b[0].style.visibility=0==g?"hidden":"inherit";b.width(g);this._handlecolumnsdragdrop&&this._handlecolumnsdragdrop();this._handlecolumnsreorder&&this._handlecolumnsreorder();this._rendersortcolumn&&this._rendersortcolumn();this._renderfiltercolumn&&this._renderfiltercolumn();this._handlecolumnsresize&&this._handlecolumnsresize();this.columngroups&&this._rendercolumngroups();this._updatecheckboxselection&&this._updatecheckboxselection()}else this._rendersortcolumn&&this._rendersortcolumn(),this._renderfiltercolumn&&this._renderfiltercolumn(),this.showfilterrow&&this.filterrow&&(this.filterrow.width(this.columnsheader.width()),this._updatefilterrowui()),this.showeverpresentrow&&("bottom"!==this.everpresentrowposition?this.addnewrowtop.width(this.columnsheader.width()):this.addnewrowbottom.width(this.columnsheader.width()),this._updateaddnewrowui())},_rendercolumngroups:function(){if(this.columngroups){for(var a=0,b=0;b<this.columns.records.length;b++)this.columns.records[b].pinned&&a++;var a=this.headerZIndex-a+this.columns.records.length,b=this.that,d=b.toTP("jqx-grid-column-header")+" "+b.toTP("jqx-grid-columngroup-header")+" "+b.toTP("jqx-widget-header");b.rtl&&(d+=" "+b.toTP("jqx-grid-columngroup-header-rtl"));var g=this.columnsheader.find("#columntable"+this.element.id);g.find("jqx-grid-columngroup-header").remove();for(var h=0;h<this.columngroupslevel-1;h++)for(b=0;b<this.columngroups.length;b++){var l=this.columngroups[b],k=l.level;if(k===h){var k=k*this.columnsheight,m=99999;if(l.groups){var n=function(a){for(var c=0,b=0;b<a.groups.length;b++){var f=a.groups[b];f.groups?c+=n(f):f.hidden||(c+=f.width,m=Math.min(parseFloat(f.element.style.left),m))}return c};l.width=n(l);l.left=m;var p=this.columnsheight,q=a--,q=e('\x3cdiv role\x3d"columnheader" style\x3d"z-index: '+q+';position: absolute;" class\x3d"'+d+'"\x3e\x3c/div\x3e'),r=e(this._rendercolumnheader(l.text,l.align,this.columnsheight,this));if(l.renderer){var r=e("\x3cdiv style\x3d'height: 100%; width: 100%;'\x3e\x3c/div\x3e"),t=l.renderer(l.text,l.align,p);r.html(t)}q.append(r);q[0].style.left=m+"px";0===m&&(q[0].style.borderLeftColor="transparent");q[0].style.top=k+"px";q[0].style.height=p+"px";q[0].style.width=-1+l.width+"px";g.append(q);l.element=q;l.rendered&&l.rendered(r,l.align,p)}}}}},_resizecolumngroups:function(){if(this.columngroups)for(var a=0;a<this.columngroups.length;a++){var b=this.columngroups[a],d=b.level*this.columnsheight,e=99999;if(b.groups){var h=function(a){for(var c=0,b=0;b<a.groups.length;b++){var f=a.groups[b];f.groups?c+=h(f):f.hidden||(c+=f.width,e=Math.min(parseFloat(f.element.style.left),e))}return c};b.width=h(b);b.left=e;var l=this.columnsheight,k=b.element;k[0].style.left=e+"px";k[0].style.top=d+"px";k[0].style.height=l+"px";k[0].style.width=-1+b.width+"px"}}},_handlecolumnsmenu:function(a,b,d,g,h){a.dragmousedown=null;g[0].id=a.dataview.generatekey();b.append(g);d[0].columnsmenu=g[0];h.element=d[0];var l=this.columnsmenuwidth+1,k=function(){if(!h.menu)return!1;if(!a.resizing){if(h._menuvisible&&a._hasOpenedMenu)return!1;h._animating=!0;if(a.menuitemsarray&&0<a.menuitemsarray.length)if(a.enableanimations)g.css("display","block"),g.stop(),h.iconscontainer.stop(),a.rtl?(g.css("margin-left",-l),g.animate({"margin-left":"0px"},"fast",function(){g.css("display","block");h._animating=!1;h._menuvisible=!0})):(g.css("margin-left","0px"),g.animate({"margin-left":-l},"fast",function(){g.css("display","block");h._animating=!1;h._menuvisible=!0})),b=a.rtl?l:-(32+l),h.iconscontainer.animate({"margin-left":b},"fast");else{g.css("display","block");var b=a.rtl?16:-48;h.iconscontainer.css("margin-left",b+"px");h._animating=!1;h._menuvisible=!0}}};b="mouseenter";a.isTouchDevice()&&(b="touchstart");a.addHandler(d,b,function(b){b=parseInt(b.pageX);var f=a.columnsresize&&h.resizable?3:0,g=parseInt(d.coord().left);a.hasTransform&&(g=e.jqx.utilities.getOffset(d).left);var l=h.width;a.rtl&&(l=0);if(0!=f&&b>=g+l-f&&b<=g+l+f)return!1;b=a.vScrollInstance.isScrolling();h.menu&&a.autoshowcolumnsmenubutton&&!b&&!a.disabled&&k()});a.autoshowcolumnsmenubutton||(g.css("display","block"),h.iconscontainer.css("margin-left",(a.rtl?16:-48)+"px"),a.rtl?g.css({"margin-left":"0px"}):g.css({"margin-left":-l}));a.addHandler(d,"mouseleave",function(b){a.menuitemsarray&&0<a.menuitemsarray.length&&h.menu&&(b=e.data(document.body,"contextmenu"+a.element.id),void 0!=b&&g[0].id==b.columnsmenu.id||!a.autoshowcolumnsmenubutton||(a.enableanimations?(a.rtl?g.css("margin-left","0px"):g.css("margin-left",-l),g.stop(),h.iconscontainer.stop(),a.rtl?g.animate({"margin-left":-l},"fast",function(){g.css("display","none");h._menuvisible=!1}):g.animate({"margin-left":0},"fast",function(){g.css("display","none");h._menuvisible=!1}),b=a.rtl?0:-32,h.iconscontainer.animate({"margin-left":b},"fast")):(g.css("display","none"),b=a.rtl?0:-32,h.iconscontainer.css("margin-left",b+"px"),h._menuvisible=!1)))});var m=!0,n="";b=e(h.filtericon);a.addHandler(g,"mousedown",function(b){a.gridmenu||a._initmenu();m=!e.data(a.gridmenu[0],"contextMenuOpened"+a.gridmenu[0].id);n=e.data(document.body,"contextmenu"+a.element.id);null!=n&&(n=n.column.datafield)});a.addHandler(b,"mousedown",function(b){a.gridmenu||a._initmenu();m=!e.data(a.gridmenu[0],"contextMenuOpened"+a.gridmenu[0].id);n=e.data(document.body,"contextmenu"+a.element.id);null!=n&&(n=n.column.datafield)});var p=function(){if(!h.menu)return!1;a.gridmenu||a._initmenu();if(a.disabled)return!1;for(var b=0;b<a.columns.records.length;b++)a.columns.records[b].datafield!=h.datafield&&(a.columns.records[b]._menuvisible=!1);var b=g.coord(!0),f=g.height();if(!m&&(m=!0,n==h.datafield))return a._closemenu(),!1;var d=a.host.coord(!0);a.hasTransform&&(d=e.jqx.utilities.getOffset(a.host),b=e.jqx.utilities.getOffset(g));d.left+a.host.width()>parseInt(b.left)+a.gridmenu.width()?a.gridmenu.jqxMenu("open",b.left,b.top+f):a.gridmenu.jqxMenu("open",g.width()+b.left-a.gridmenu.width(),b.top+f);100>a.gridmenu.width()&&a._arrangemenu();a._hasOpenedMenu=!0;var f=a._getmenuitembyindex(0),d=a._getmenuitembyindex(1),k=a._getmenuitembyindex(2),l=a._getmenuitembyindex(3),p=a._getmenuitembyindex(4),b=a._getmenuitembyindex(5);if(null!=f&&null!=d&&null!=k){var x=h.sortable&&a.sortable;a.gridmenu.jqxMenu("disable",f.id,!x);a.gridmenu.jqxMenu("disable",d.id,!x);a.gridmenu.jqxMenu("disable",k.id,!x);void 0!=h.displayfield&&(a.sortcolumn==h.displayfield?(k=a.getsortinformation(),x&&(k.sortdirection.ascending?a.gridmenu.jqxMenu("disable",f.id,!0):a.gridmenu.jqxMenu("disable",d.id,!0))):a.gridmenu.jqxMenu("disable",k.id,!0))}null!=l&&null!=p&&(a.groupable&&h.groupable?a.groups&&-1!=a.groups.indexOf(h.datafield)?(a.gridmenu.jqxMenu("disable",l.id,!0),a.gridmenu.jqxMenu("disable",p.id,!1)):(a.gridmenu.jqxMenu("disable",l.id,!1),a.gridmenu.jqxMenu("disable",p.id,!0)):(a.gridmenu.jqxMenu("disable",p.id,!0),a.gridmenu.jqxMenu("disable",l.id,!0)));null!=b&&(a.menuOwner=h,a._updatefilterpanel(a,b,h),f=0,a.sortable&&a._togglesort&&a.showsortmenuitems&&(f+=3),a.groupable&&a.addgroup&&a.showgroupmenuitems&&(f+=2),f=27*f+3,e.jqx.browser.msie&&8>e.jqx.browser.version&&(f+=20,e(b).height(190)),a.filterable&&a.showfiltermenuitems&&(h.filterable?(a.gridmenu.height(f+180),e(b).css("display","block")):(a.gridmenu.height(f),e(b).css("display","none"))));a.columnmenuopening&&!1===a.columnmenuopening(a.gridmenu,h.displayfield,a.gridmenu.height())&&a._closemenu();e.data(document.body,"contextmenu"+a.element.id,{column:h,columnsmenu:g[0]})};a.addHandler(b,"click",function(b){if(!h.menu)return!1;a.showfilterrow||("block"!=g[0].style.display&&d.trigger("mouseenter"),setTimeout(function(){"block"!=g[0].style.display&&d.trigger("mouseenter");p()},200));return!1});a.addHandler(g,"click",function(a){if(!h.menu)return!1;p();return!1});a.isTouchDevice()&&a.addHandler(g,e.jqx.mobile.getTouchEventName("touchstart"),function(b){if(!h.menu)return!1;a._hasOpenedMenu?a._closemenu():p();return!1})},_removecolumnhandlers:function(a){var b=this.that,d=e(a.element);0<d.length&&(b.removeHandler(d,"mouseenter"),b.removeHandler(d,"mouseleave"),a=e(a.filtericon),b.removeHandler(a,"mousedown"),b.removeHandler(a,"click"),b.removeHandler(d,"click"),b.removeHandler(d,"mousemove"),b.columnsreorder&&(b.removeHandler(d,"mousedown.drag"),b.removeHandler(d,"mousemove.drag")),b.removeHandler(d,"dragstart"),d[0].columnsmenu&&(d=e(d[0].columnsmenu),b.removeHandler(d,"click"),b.removeHandler(d,"mousedown"),b.removeHandler(d,e.jqx.mobile.getTouchEventName("touchstart"))))},_rendercolumnheader:function(a,b,d,e){var h="4px";e.columngroups?(h=d/2-this._columnheight/2,0>h&&(h=4),h+="px"):25!=this.columnsheight&&(h=this.columnsheight/2-this._columnheight/2,0>h&&(h=4),h+="px");return this.enableellipsis?'\x3cdiv style\x3d"padding-bottom: 2px; overflow: hidden; text-overflow: ellipsis; text-align: '+b+"; margin-left: 4px; margin-right: 2px; margin-bottom: "+h+"; margin-top: "+h+';"\x3e\x3cspan style\x3d"text-overflow: ellipsis; cursor: default;"\x3e'+a+"\x3c/span\x3e\x3c/div\x3e":"center"==b||"middle"==b?'\x3cdiv style\x3d"padding-bottom: 2px; text-align: center; margin-top: '+h+';"\x3e\x3ca href\x3d"#"\x3e'+a+"\x3c/a\x3e\x3c/div\x3e":'\x3ca style\x3d"margin-top: '+h+"; float: "+b+';" href\x3d"#"\x3e'+a+"\x3c/a\x3e"},_renderrows:function(a,b,d){var g=this.that;(this.pageable||this.groupable)&&(this.autoheight||this.autorowheight)&&null!=this.table&&null!=this.table[0].rows&&this.table[0].rows.length<this.dataview.rows.length&&(g.prerenderrequired=!0);this.pageable||!this.autoheight&&!this.autorowheight||!this.virtualmode&&!this.unboundmode||(d=this.source.totalrecords,isNaN(d)||null==this.table||null==this.table[0].rows||this.table[0].rows.length==d||(g.prerenderrequired=!0));(this.autoheight||this.autorowheight)&&!g.prerenderrequired&&this.table&&this.table[0].rows&&(this.table[0].rows.length<this.dataview.records.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?g.prerenderrequired=!0:this.pageable||(g.prerenderrequired=!0)),this.table[0].rows.length<this.dataview.cachedrecords.length&&(this.pageable&&this.table[0].rows.length<this.dataview.pagesize?g.prerenderrequired=!0:this.pageable||(g.prerenderrequired=!0)));g._prerenderrows(a);g._requiresupdate&&(g._requiresupdate=!1,g._updatepageviews());var h=function(){g._loading||(g.WinJS?MSApp.execUnsafeLocalFunction(function(){g._rendervisualrows()}):g._rendervisualrows(),g.virtualmode&&g.showaggregates&&g._updateaggregates&&g.refreshaggregates())};a=e.jqx.browser.msie&&10>e.jqx.browser.version;if(this.virtualmode)d=function(){if(g.rendergridrows){var a=g._startboundindex;void 0==a&&(a=0);var c=a+1+g.dataview.pagesize;if(null!=a&&null!=c){var d=g.source._source?!0:!1;if((d?g.source._source.recordstartindex:g.source.recordstartindex)!=a||1==b){if(d){if(c>=g.source._source.totalrecords&&(c=g.source._source.totalrecords,a=c-g.dataview.pagesize-1,0>a&&(a=0),g.source._source.recordendindex==c&&g.source._source.recordstartindex==a))return;g.source._source.recordstartindex=a;g.source._source.recordendindex=c}else g.source.recordstartindex=a,g.source.recordendindex=c;g.updatebounddata("cells")}}}},this.loadondemand&&(h(),d(),this.loadondemand=!1),d=void 0==this._browser?this._isIE10():this._browser,this.editable&&this.editcell&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()?h():this.autoheight?h():d||a||navigator&&-1!=navigator.userAgent.indexOf("Safari")?(null!=this._scrolltimer&&clearTimeout(this._scrolltimer),this._scrolltimer=setTimeout(function(){h()},5)):h();else{if("deferred"==this.scrollmode&&(this.hScrollInstance.isScrolling()||this.vScrollInstance.isScrolling())){null!=this._scrolltimer&&clearInterval(this._scrolltimer);var l=this._getfirstvisualrow();null!=l&&(a=function(a){if(null==l)return"";a="\x3ctable\x3e";var b=g.deferreddatafields;null==b&&0<g.columns.records.length&&(b=[],b.push(g.columns.records[0].displayfield));for(var c=0;c<b.length;c++){var f=g._getcolumnbydatafield(b[c]);if(f){var d=g._getcellvalue(f,l);""!=f.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(d)?d=e.jqx.dataFormat.formatdate(d,f.cellsformat,g.gridlocalization):e.jqx.dataFormat.isNumber(d)&&(d=e.jqx.dataFormat.formatnumber(d,f.cellsformat,g.gridlocalization)));a+="\x3ctr\x3e\x3ctd\x3e"+d+"\x3c/td\x3e\x3c/tr\x3e"}}return a+"\x3c/table\x3e"},a=this.scrollfeedback?this.scrollfeedback(l.bounddata):a(l.bounddata),a!=this._scrollelementcontent&&(this._scrollelementcontent=this._scrollelement[0].innerHTML=a));this._scrollelement.css("visibility","visible");this._scrollelementoverlay.css("visibility","visible");this._scrollelement.css("margin-top",-this._scrollelement.height()/2);this._scrolltimer=setInterval(function(){g.hScrollInstance.isScrolling()||g.vScrollInstance.isScrolling()||(h(),g._scrollelement.css("visibility","hidden"),g._scrollelementoverlay.css("visibility","hidden"),clearInterval(g._scrolltimer),l&&g.ensurerowvisible(l.visibleindex))},100);return}navigator&&-1==navigator.userAgent.indexOf("Chrome")&&-1!=navigator.userAgent.indexOf("Safari")&&(this._updatedelay=1);void 0!=this.touchDevice&&1==this.touchDevice&&(this._updatedelay=5);if((d=void 0==this._browser?this._isIE10():this._browser)||a)this._updatedelay=5;if(d&&this.hScrollInstance.isScrolling()){h();return}e.jqx.browser.mozilla&&0==this._updatedelay&&(this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling())&&(this._updatedelay=0);null!=this.updatedelay&&(this._updatedelay=this.updatedelay);0==this._updatedelay?h():(a=this._jqxgridrendertimer,null!=a&&clearTimeout(a),this.vScrollInstance.isScrolling()||this.hScrollInstance.isScrolling()?(this._updatedelay?a=setTimeout(function(){h()},this._updatedelay):(a=null,h()),this._jqxgridrendertimer=a):(this._jqxgridrendertimer=a,h()))}if(g.autorowheight&&!g.autoheight&&0<this._pageviews.length){var k=this._gettableheight();a=this._pageviews[0].height;a>k?(this.pageable&&this.gotopage&&(a=this._pageviews[0].height,0>a&&(a=this._pageviews[0].height)),"visible"!=this.vScrollBar.css("visibility")&&this.vScrollBar.css("visibility","visible"),(a<=k||this.autoheight)&&this.vScrollBar.css("visibility","hidden"),0<a-k?"deferred"!=this.scrollmode?(k=a-k,d=this.vScrollInstance.max,this.vScrollBar.jqxScrollBar({max:k}),Math.round(k)!=Math.round(d)&&this.vScrollBar.jqxScrollBar({value:0})):(d=this.vScrollInstance.max,this.vScrollBar.jqxScrollBar({max:a-k})):this.vScrollBar.jqxScrollBar({value:0,max:a})):(this._loading||this.vScrollBar.css("visibility","hidden"),this.vScrollBar.jqxScrollBar({value:0}));this._arrange();this.virtualsizeinfo&&(this.virtualsizeinfo.virtualheight=a)}},scrolling:function(){var a=this.vScrollInstance.isScrolling(),b=this.hScrollInstance.isScrolling();return{vertical:a,horizontal:b}},_renderhorizontalscroll:function(){var a=this.hScrollInstance,b=a.value;"hidden"===this.hScrollBar.css("visibility")&&(b=a.value=0);var d=parseInt(b);if(null!=this.table){var e=this.table[0].rows.length,h=this.columnsrow,l=this.groupable&&0<this.groups.length?this.groups.length:0,k=this.columns.records.length-l,m=this.columns.records,n=0==this.dataview.rows.length;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(d=a.max-d);if(n&&!this._haspinned){for(a=0;a<e;a++)for(var n=this.table[0].rows[a],p=0;p<l+k;p++){var q=n.cells[p];if(void 0!=q){var r=m[p];r.pinned&&(q.style.marginLeft=d+"px",0==a&&(q=h[0].cells[p],q.style.marginLeft=d+"px"))}}this.table[0].style.marginLeft=-d+"px";h[0].style.marginLeft=-d+"px"}else if(this._haspinned||void 0==this._haspinned){for(a=0;a<e;a++)for(n=this.table[0].rows[a],p=0;p<l+k;p++)if(q=n.cells[p],void 0!=q&&(r=m[p],r.pinned&&(0!=d||""!=q.style.marginLeft))){var t=r=null,v=null;this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(v=this.addnewrowtop[0].cells[p]);this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(t=this.filterrow[0].cells[p]);this.showaggregates&&this.statusbar[0].cells&&(r=this.statusbar[0].cells[p]);this.rtl?(q.style.marginLeft=-parseInt(b)+"px",0==a&&(q=h[0].cells[p],q.style.marginLeft=-parseInt(b)+"px",r&&(r.style.marginLeft=-parseInt(b)+"px"),t&&(t.style.marginLeft=-parseInt(b)+"px"),v&&(v.style.marginLeft=-parseInt(b)+"px"))):(q.style.marginLeft=d+"px",0==a&&(q=h[0].cells[p],q.style.marginLeft=d+"px",r&&(r.style.marginLeft=d+"px"),t&&(t.style.marginLeft=d+"px"),v&&(v.style.marginLeft=d+"px")))}this.table[0].style.marginLeft=-d+"px";h[0].style.marginLeft=-d+"px"}else 0==this._haspinned&&(this.table[0].style.marginLeft=-d+"px",h[0].style.marginLeft=-d+"px");this.showaggregates&&this.statusbar[0].cells&&(b=0,this.rtl&&"hidden"!=this.vScrollBar.css("visibility")&&"hidden"!=this.hScrollBar.css("visibility")&&(b=2+parseInt(this.hScrollBar.css("left"))),this.statusbar[0].style.marginLeft=-d+b+"px");this.showfilterrow&&this.filterrow&&this.filterrow[0].cells&&(this.filterrow[0].style.marginLeft=-d+"px");this.showeverpresentrow&&this.addnewrowtop&&this.addnewrowtop[0].cells&&(this.addnewrowtop[0].style.marginLeft=-d+"px")}},_updaterowdetailsvisibility:function(){if(this.rowdetails)for(var a=0;a<this._rowdetailselementscache.length;a++)e(this._rowdetailselementscache[a]).css("display","none")},_getvisualcolumnsindexes:function(a,b,d,e,h,l){if(this.rowdetails||this.rtl||this.editcell||this.width&&0<=this.width.toString().indexOf("%")||this.exporting)return{start:0,end:d+e};var k=0,m=-1,n=d+e,p=!1;if(this.autorowheight)return{start:0,end:d+e};if(!h)for(h=0;h<d+e;h++)if(p||this.columns.records[h].pinned&&l&&(p=!0),this.columns.records[h].hidden||(k+=this.columns.records[h].width),k>=a&&-1==m&&(m=h),k>b+a){n=h;break}n++;n>d+e&&(n=d+e);if(-1==m||p)m=0;return{start:m,end:n}},_getvirtualcolumnsindexes:function(a,b,d,e,h){if(this.rtl||this.editcell||this.exporting)return{start:0,end:d+e};var l=0,k=-1,m=d+e;if(this.autorowheight)return{start:0,end:d+e};if(!h)for(h=0;h<d+e;h++)if(this.columns.records[h].hidden||(l+=this.columns.records[h].width),l>=a&&-1==k&&(k=h),l>b+a){m=h;break}m++;m>d+e&&(m=d+e);-1==k&&(k=0);return{start:k,end:m}},_getfirstvisualrow:function(){var a=parseInt(this.vScrollInstance.value);0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows());"visible"!=this.vScrollBar[0].style.visibility&&(a=0);if(!this.pageable){var b=this._findvisiblerow(a,this._pageviews);if(-1==b)return null;b!=this.dataview.pagenum?(this.dataview.pagenum=b,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}a=this._findvisiblerow(a,this._pagescache[this.dataview.pagenum]);if((b=this._pagescache[this.dataview.pagenum])&&b[0])return b[a]},_rendervisualrows:function(){if(this.virtualsizeinfo){var a=this.vScrollInstance,b=this.hScrollInstance,d=b.value,g=parseInt(a.value),h=parseInt(d),l=this._gettableheight(),k=void 0!=this._hostwidth?this._hostwidth:this.host.width();"visible"==this.hScrollBar[0].style.visibility&&(l+=29);"deferred"==this.scrollmode&&0!=this._newmax&&g>this._newmax&&null!=this._newmax&&(g=this._newmax);var m=a.isScrolling()||b.isScrolling()||this._keydown,n=this.groupable&&0<this.groups.length;this.visiblerows=[];this.hittestinfo=[];this.editcell&&void 0==this.editrow&&this._hidecelleditor(!1);void 0!=this.editrow&&this._hideeditors();this.virtualmode&&!this.pageable&&(this._pagescache=[]);0==this._pagescache.length&&(this.dataview.updateview(),this._loadrows());"hidden"==this.vScrollBar[0].style.visibility&&(g=0);if(!this.pageable){b=this._findvisiblerow(g,this._pageviews);if(-1==b){this._clearvisualrows();this._renderemptyrow();this._updaterowdetailsvisibility();return}b!=this.dataview.pagenum?(this.dataview.pagenum=b,this.dataview.updateview(),this._loadrows()):this._pagescache[this.dataview.pagenum]||this._loadrows()}var p=this.groupable&&0<this.groups.length?this.groups.length:0;if(this.columns.records){var q=this.columns.records.length-p,b=this._findvisiblerow(g,this._pagescache[this.dataview.pagenum]),r=this._pagescache[this.dataview.pagenum],t=b;0>t&&(t=0);var v=0,u=0,w=0,x=0,z=this.virtualsizeinfo.visiblerecords,D=this.groupable?this.groups.length:0,C=this.toTP("jqx-grid-cell")+" "+this.toTP("jqx-item");this.rtl&&(C+=" "+this.toTP("jqx-grid-cell-rtl"));(this.autoheight||this.autorowheight)&&this.pageable&&(!this.groupable||this.groupable&&0===this.groups.length)&&(z=this.dataview.pagesize);n&&(C=" "+this.toTP("jqx-grid-group-cell"));this.isTouchDevice()&&(C+=" "+this.toTP("jqx-touch"));this.autorowheight&&(C+=" jqx-grid-cell-wrap");var J=this.rowsheight,M=this._rendercell,d=this._getvisualcolumnsindexes(h,k,p,q,n,!0),b=d.start,d=d.end,B=this._getvirtualcolumnsindexes(h,k,p,q,n),A=B.start,L=B.end;(this.autoheight||this.pageable)&&this.autorowheight&&this._pageviews[0]&&(this._oldpageviewheight=this._pageviews[0].height);this.autorowheight&&(t=0);if(0<=t){this._updaterowdetailsvisibility();this._startboundindex=null!=r?r[t].bounddata.boundindex:0;this._startvisibleindex=null!=r?r[t].bounddata.visibleindex:0;var I=this.table[0].rows;if(10<this.columns.records.length&&this.enablecolumnsvirtualization)for(var N=function(a){return a.parentNode&&"#document-fragment"!=a.parentNode.nodeName?!0:!1},K=0;K<I.length;K++){for(var B=I[K],G=0;G<A;G++){var E=G;if(!this.columns.records[E].pinned&&null!=this.columns.records[E].datafield){var F=B.cells[E];N(F)&&F.parentNode.removeChild(F);F=this.columns.records[E].element;N(F)&&this.columnsrow[0].removeChild(F);this.filterrow&&N(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].cells[E].parentNode.removeChild(this.filterrow[0].cells[E])}}for(G=L;G<this.columns.records.length;G++)E=G,this.columns.records[E].pinned||null==this.columns.records[E].datafield||(F=B.cells[E],N(F)&&F.parentNode.removeChild(F),F=this.columns.records[E].element,N(F)&&this.columnsrow[0].removeChild(F),this.filterrow&&N(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].cells[E].parentNode.removeChild(this.filterrow[0].cells[E]));for(G=A;G<L;G++)E=G,F=B.cells[E],N(F)||B.appendChild(F),F=this.columns.records[E].element,N(F)||this.columnsrow[0].appendChild(F),this.filterrow&&!N(this.filterrow[0].cells[E])&&this.columns.records[E].filterable&&this.filterrow[0].firstChild.appendChild(this.filterrow[0].cells[E])}for(K=0;K<z&&u<z;K++){I=void 0!=r?r[t+K]:null;if(null==I){t=-K;if(this._pagescache[this.dataview.pagenum+1])r=this._pagescache[this.dataview.pagenum+1],this.dataview.pagenum++;else{B=this._pageviews.length;do if(this.dataview.pagenum<this._pageviews.length-1)this.dataview.pagenum++,r=void 0,0<this._pageviews[this.dataview.pagenum].height&&(this.dataview.updateview(),this._loadrows(),r=this._pagescache[this.dataview.pagenum]);else{r=void 0;break}while(void 0==r&&this.dataview.pagenum<B)}void 0!=r&&(I=r[t+K])}if(null!=I){if(I.hidden)continue;this._endboundindex=this._startboundindex+K;this._endvisibleindex=this._startvisibleindex+K;0==K&&(B=Math.abs(g-I.top),this.table[0].style.top=-B+"px",x=-B);B=this.table[0].rows[u];if(!B)continue;parseInt(B.style.height)!=I.height&&(B.style.height=parseInt(I.height)+"px");w+=I.height;A=this.rowdetails&&I.rowdetails;L=!I.rowdetailshidden;A&&L&&(B.style.height=parseInt(I.height-I.rowdetailsheight)+"px",z++);N=this._isrowselected(!0,I);for(G=b;G<d;G++)E=G,this._rendervisualcell(M,C,N,A,L,n,D,B,I,E,u,m);void 0!=I.group&&this._rendergroup&&this._rendergroup(D,B,I,p,q,u,k);if(this.autorowheight){J=this.rowsheight;for(G=b;G<d;G++)this.editable&&this.editcell&&this.editcell.column==this.columns.records[G].datafield&&this.editcell.row==this.getboundindex(I)&&this.editcell.editor?J=Math.max(J,this.editcell.editor.height()):B.cells[G].firstChild&&(J=Math.max(J,8+parseInt(B.cells[G].firstChild.offsetHeight)));B.style.height=parseInt(J)+"px";this.heights[this._startboundindex+K]=J;A&&L&&(J+=I.rowdetailsheight);I.height=J}this.visiblerows[this.visiblerows.length]=I;this.hittestinfo[this.hittestinfo.length]={row:I,visualrow:B,details:!1};A&&L&&(u++,B=this.table[0].rows[u],this._renderrowdetails(C,B,I,p,q,u),this.visiblerows[this.visiblerows.length]=I,this.hittestinfo[this.hittestinfo.length]={row:I,visualrow:B,details:!0});if(!this.autorowheight&&w+x>=l)break}else cansetheight=!0,this._clearvisualrow(h,n,u,p,q),w+v+x<=l&&(v+=J);u++}this._horizontalvalue=h;0<v&&"visible"==this.vScrollBar[0].style.visibility&&(parseInt(this.table.css("top")),h=this._pageviews[this._pageviews.length-1],g=a.max,l=h.top+h.height-l,"visible"==this.hScrollBar.css("visibility")&&(l+=this.scrollbarsize+20),g!=l&&!this.autorowheight&&0<=l&&("deferred"!=this.scrollmode?(a.max=l,a.setPosition(a.max)):this._newmax!=l&&(this._newmax=l,this._rendervisualrows())))}if(this.autorowheight){this._pagescache=[];for(K=l=a=0;K<this.visiblerows.length;K++)for(g=this.visiblerows[K],g.top=a,a+=g.height,l+=g.height,A=this.rowdetails&&g.rowdetails,L=!g.rowdetailshidden,B=this.table[0].rows[K],A&&L&&K++,G=b;G<d;G++)h=this.columns.records[G],h.hidden||h.cellsrenderer||(k=B.cells[G],m=0,k.firstChild?(m=(g.height-parseInt(k.firstChild.offsetHeight)-8)/2,A&&L&&(m=(g.height-g.rowdetailsheight-e(k.firstChild).height()-8)/2)):m=(g.height-parseInt(e(k).height())-8)/2,0<=m&&(m=parseInt(m)+4,!k.firstChild||-1!=k.firstChild.className.indexOf("jqx-grid-groups-row")||"checkbox"==h.columntype||"button"==h.columntype||this.editable&&this.editcell&&this.editcell.column==h.datafield&&this.editcell.row==this.getboundindex(g)||(k.firstChild.style.marginTop=m+"px")));this._pageviews[0]&&(this._pageviews[0].height=l);this._arrange()}this._renderemptyrow();this.toCompile&&0<this.toCompile.length&&e.each(this.toCompile,function(a,b){if(this.compiled)return!0;var c=this.cell;if(!c)return!0;e.jqx.angularCompile&&e.jqx.angularCompile(c,"\x3cdiv\x3e"+this.value+"\x3c/div\x3e");this.compiled=!0})}}},_hideemptyrow:function(){if(this.showemptyrow&&this.table&&this.table[0].rows){var a=this.table[0].rows[0];if(a)for(var b=!1,d=0;d<a.cells.length;d++){var g=e(a.cells[d]);"none"==g.css("display")||b||g.width()!=this.host.width()&&g.text()!=this.gridlocalization.emptydatastring||(g[0].checkbox=null,g[0].button=null,b=!0,g[0].innerHTML="")}}},_renderemptyrow:function(){if(!this._loading&&0==this.dataview.records.length&&this.showemptyrow){var a=!1,b=this.toTP("jqx-grid-cell");if(this.table&&0<this.table.length&&this.table[0].rows&&0<this.table[0].rows.length){var d=this.table[0].rows[0];this.table[0].style.top="0px";for(var g=0;g<d.cells.length;g++){var h=e(d.cells[g]);if("none"!=h.css("display")&&!a){h[0].checkbox=null;h[0].button=null;h[0].className=b;a=!0;h[0].innerHTML="";var l=e("\x3cspan style\x3d'white-space: nowrap; float: left; margin-left: 50%; position: relative;'\x3e\x3c/span\x3e");l.text(this.gridlocalization.emptydatastring);h.append(l);var k=0;this.oldhscroll||(k=parseInt(this.table[0].style.marginLeft),this.rtl&&(h.css("z-index",999),h.css("overflow","visible")));l.css("left",-k-l.width()/2);l.css("top",this._gettableheight()/2-l.height()/2);e.jqx.browser.msie&&8>e.jqx.browser.version&&(l.css("margin-left","0px"),l.css("left",this.host.width()/2-l.width()/2));l=Math.abs(parseInt(this.table[0].style.top));isNaN(l)&&(l=0);e(d).height(this._gettableheight()+l);h.css("margin-left","0px");h.width(this.host.width());this.table.width()<this.host.width()&&this.table.width(this.host.width())}h.addClass(this.toThemeProperty("jqx-grid-empty-cell"))}}}},_clearvisualrows:function(){var a=this.virtualsizeinfo.visiblerecords,b=parseInt(this.hScrollInstance.value),d=this.groupable&&0<this.groups.length;if(this.columns.records)for(var e=0;e<a;e++)this._clearvisualrow(b,d,e,0,this.columns.records.length)},_iscellselected:function(a,b,d){var e=!1,h=0;this.virtualmode&&this.pageable&&this.groupable&&0<this.groups.length&&(h=this.dataview.pagesize*this.dataview.pagenum);if(0<this.groups.length&&this.pageable&&this.groupable){a=this.getrowboundindexbyid(b.bounddata.uid);for(var l in this.selectedcells)l==a+"_"+d&&(e=!0);return e}if(a&&null!=b.bounddata)if("singlerow"!=this.selectionmode)if(0<this.dataview.filters.length)if(this.virtualmode||void 0==b.bounddata.dataindex)for(l in this.selectedcells)l==h+b.bounddata.boundindex+"_"+d&&(e=!0);else for(l in this.selectedcells)l==h+b.bounddata.dataindex+"_"+d&&(e=!0);else for(l in this.selectedcells){if(l==h+b.bounddata.boundindex+"_"+d){e=!0;break}}else if(0<this.dataview.filters.length)if(!this.virtualmode&&void 0!=b.bounddata.dataindex)for(l in this.selectedcells){if(l==h+b.bounddata.dataindex+"_"+d){e=!0;break}}else for(l in this.selectedcells){if(l==h+b.bounddata.boundindex+"_"+d){e=!0;break}}else for(l in this.selectedcells)if(l==h+b.bounddata.boundindex==this.selectedrowindex){e=!0;break}return e},_isrowselected:function(a,b){var d=!1,e=0;this.virtualmode&&this.pageable&&this.groupable&&0<this.groups.length&&(e=this.dataview.pagesize*this.dataview.pagenum);if(this.groupable&&0<this.groups.length&&this.pageable){e=this.getrowboundindexbyid(b.bounddata.uid);if(void 0==e||-1==e)return!1;-1!=this.selectedrowindexes.indexOf(e)&&(d=!0);d||(d=e==this.selectedrowindex&&-1!=this.selectedrowindex);return d}a&&null!=b.bounddata&&("singlerow"!=this.selectionmode?0<this.dataview.filters.length?this.virtualmode||void 0==b.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(e+b.bounddata.boundindex)&&(d=!0):-1!=this.selectedrowindexes.indexOf(e+b.bounddata.dataindex)&&(d=!0):-1!=this.selectedrowindexes.indexOf(e+b.bounddata.boundindex)&&(d=!0):0<this.dataview.filters.length?this.virtualmode||void 0==b.bounddata.dataindex?-1!=this.selectedrowindexes.indexOf(e+b.bounddata.boundindex)&&(d=!0):-1!=this.selectedrowindexes.indexOf(e+b.bounddata.dataindex)&&(d=!0):e+b.bounddata.boundindex==this.selectedrowindex&&(d=!0));return d},_rendervisualcell:function(a,b,d,g,h,l,k,m,n,p,q,r){var t=this.columns.records[p];if(t.hidden)q=m.cells[p],q.innerHTML="";else{cellvalue=this._getcellvalue(t,n);q=m.cells[p];-1!=this.selectionmode.indexOf("cell")&&(d=0<this.dataview.filters.length?this.selectedcells[n.bounddata.dataindex+"_"+t.datafield]?!0:!1:this.selectedcells[n.boundindex+"_"+t.datafield]?!0:!1,this.editcell&&this.editcell.row===n.boundindex&&this.editcell.column===t.datafield&&"checkbox"!==t.columntype&&(d=!1),this.virtualmode||this.groupable&&0<this.groups.length&&this.pageable)&&(d=this._iscellselected(!0,n,t.datafield));if(""!=t.cellclassname&&t.cellclassname)if("string"==typeof t.cellclassname)b+=" "+t.cellclassname;else{var v=t.cellclassname(this.getboundindex(n),t.datafield,cellvalue,n.bounddata);v&&(b+=" "+v)}(v=this.showsortcolumnbackground&&this.sortcolumn&&t.displayfield==this.sortcolumn)&&(b+=" "+this.toTP("jqx-grid-cell-sort"));t.filter&&this.showfiltercolumnbackground&&(b+=" "+this.toTP("jqx-grid-cell-filter"));if(t.pinned&&this.showpinnedcolumnbackground||t.grouped)b+=" "+this.toTP("jqx-grid-cell-pinned");if(this.altrows&&void 0==n.group){var u=n.visibleindex;u>=this.altstart&&0==(this.altstart+u)%(1+this.altstep)&&(b=v?b+(" "+this.toTP("jqx-grid-cell-sort-alt")):b+(" "+this.toTP("jqx-grid-cell-alt")),t.filter&&this.showfiltercolumnbackground&&(b+=" "+this.toTP("jqx-grid-cell-filter-alt")),t.pinned&&this.showpinnedcolumnbackground&&(b+=" "+this.toTP("jqx-grid-cell-pinned-alt")))}if(p<=k){if(l||this.rowdetails)v=e(q),u=this.columns.records[p].width,q.style.width!=parseInt(u)+"px"&&v.width(u)}else(l||this.rowdetails)&&this._hiddencolumns&&(v=e(q),u=this.columns.records[p].width,parseInt(q.style.width)!=u&&v.width(u));if(this.rowdetails&&g&&(h&&!l?b+=" "+this.toTP("jqx-grid-details-cell"):l&&(b+=" "+this.toTP("jqx-grid-group-details-cell")),this.showrowdetailscolumn))if(!this.rtl){if(void 0==n.group&&p==k){a=this.toThemeProperty("jqx-icon-arrow-down");h?b+=" "+this.toTP("jqx-grid-group-expand"):(b+=" "+this.toTP("jqx-grid-group-collapse"),a=this.toThemeProperty("jqx-icon-arrow-right"));b+=" "+a;q.title="";q.innerHTML="";q.className!=b&&(q.className=b);return}}else if(void 0==n.group&&p==m.cells.length-k-1){a=this.toThemeProperty("jqx-icon-arrow-down");h?b+=" "+this.toTP("jqx-grid-group-expand-rtl"):(b+=" "+this.toTP("jqx-grid-group-collapse-rtl"),a=this.toThemeProperty("jqx-icon-arrow-left"));b+=" "+a;q.title="";q.innerHTML="";q.className!=b&&(q.className=b);return}d&&p>=k&&(b+=" "+this.toTP("jqx-grid-cell-selected"),b+=" "+this.toTP("jqx-fill-state-pressed"));q.className!=b&&(q.className=b);void 0!=n.group?(cellvalue="",q.title="",q.innerHTML=""):a(this,t,n,cellvalue,q,r)}},_rendercell:function(a,b,d,g,h,l){var k=g+"_"+b.visibleindex;if("number"==b.columntype||null!=b.cellsrenderer)k=d.uniqueid+"_"+b.visibleindex;"number"==b.columntype&&(g=d.visibleindex);if(a.editcell&&void 0==a.editrow)if("selectedrow"==a.editmode&&b.editable&&a.editable){if(a.editcell.row==a.getboundindex(d)&&a._showcelleditor){a.hScrollInstance.isScrolling()||a.vScrollInstance.isScrolling()?a._showcelleditor(a.editcell.row,b,h,!1,!1):a._showcelleditor(a.editcell.row,b,h,a.editcell.init);return}}else if(a.editcell.row==a.getboundindex(d)&&a.editcell.column==b.datafield&&(a.editcell.element=h,a.editcell.editing&&a._showcelleditor)){a.hScrollInstance.isScrolling()||a.vScrollInstance.isScrolling()?a._showcelleditor(a.editcell.row,b,a.editcell.element,a.editcell.init,!1):a._showcelleditor(a.editcell.row,b,a.editcell.element,a.editcell.init);return}var m=a._defaultcellsrenderer(g,b),n=a._cellscache[k];if(n)if("inline"==b.columntype)a._renderinlinecell(a,h,b,d,g),null!=b.cellsrenderer&&(a=b.cellsrenderer(a.getboundindex(d),b.datafield,g,m,b.getcolumnproperties(),d.bounddata),void 0!=a&&(h.innerHTML=a));else{if("checkbox"==b.columntype){if(a.host.jqxCheckBox){""===g&&(g=null);n=0==h.innerHTML.toString().length;!h.checkbox||a.groupable||n?a._rendercheckboxcell(a,h,b,d,g):(h.checkboxrow=a.getboundindex(d),""==g&&(g=!1),"1"==g&&(g=!0),"0"==g&&(g=!1),1==g&&(g=!0),0==g&&(g=!1),"true"==g&&(g=!0),"false"==g&&(g=!1),null!=g||b.threestatecheckbox||(g=!1),b.checkboxcolumn&&(g=!1,0<a.dataview.filters.length&&!a.virtualmode&&void 0!=d.bounddata.dataindex?-1!=a.selectedrowindexes.indexOf(d.bounddata.dataindex)&&(g=!0):-1!=a.selectedrowindexes.indexOf(d.bounddata.boundindex)&&(g=!0)),a.disabled||(h.checkboxinstance?h.checkboxinstance._setState(g):h.checkbox.jqxCheckBox("_setState",g)));null!=b.cellsrenderer&&(a=b.cellsrenderer(a.getboundindex(d),b.datafield,g,m,b.getcolumnproperties(),d.bounddata),void 0!=a&&(h.innerHTML=a));return}}else if("button"==b.columntype&&a.host.jqxButton){""==g&&(g=!1);null!=b.cellsrenderer&&(g=b.cellsrenderer(a.getboundindex(d),b.datafield,g,m,b.getcolumnproperties(),d.bounddata));""==h.innerHTML&&(h.buttonrow=a.getboundindex(d),h.button=null,a._renderbuttoncell(a,h,b,d,g));h.button&&!a.groupable?(h.buttonrow=a.getboundindex(d),h.button.val(g)):a._renderbuttoncell(a,h,b,d,g);return}var p=n.element;null!=b.cellsrenderer||h.childNodes&&0==h.childNodes.length||a.groupable||a.rowdetails?h.innerHTML!=p&&(h.innerHTML=p):0<=h.innerHTML.indexOf("editor")?h.innerHTML=p:l?(g=p.indexOf("\x3e"),d=p.indexOf("\x3c/"),d=p.substring(g+1,d),g=h.childNodes[0],0<=d.indexOf("\x3e")?h.innerHTML=p:g.childNodes[0]?d!=g.childNodes[0].nodeValue&&(0<=d.indexOf("\x26")?h.innerHTML=p:g.childNodes[0].nodeValue=d):(p=document.createTextNode(d),g.appendChild(p))):h.innerHTML!=p&&(h.innerHTML=p);a.enabletooltips&&b.enabletooltips&&(h.title=n.title)}else if("checkbox"==b.columntype)a._rendercheckboxcell(a,h,b,d,g),a._cellscache[k]={element:"",title:g},a.enabletooltips&&b.enabletooltips&&(h.title=g);else if("button"==b.columntype)null!=b.cellsrenderer&&(g=b.cellsrenderer(a.getboundindex(d),b.datafield,g,m,b.getcolumnproperties(),d.bounddata)),a._renderbuttoncell(a,h,b,d,g),a._cellscache[k]={element:"",title:g},a.enabletooltips&&b.enabletooltips&&(h.title=g);else{if("number"==b.columntype)g=d.visibleindex;else if("inline"==b.columntype){a._renderinlinecell(a,h,b,d,g);a._cellscache[k]={element:"",title:g};a.enabletooltips&&b.enabletooltips&&(h.title=g);return}if(null!=b.cellsrenderer){if((p=b.cellsrenderer(a.getboundindex(d),b.datafield,g,m,b.getcolumnproperties(),d.bounddata))&&(0<=p.indexOf("\x3cjqx-")||0<=p.indexOf(" ng-"))){a.toCompile&&a.toCompile.push({cell:h,value:p,row:a.getboundindex(d)});return}}else p=m;null==p&&(p=m);n=g;a.enabletooltips&&b.enabletooltips&&(""!=b.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(g)?n=e.jqx.dataFormat.formatdate(n,b.cellsformat,a.gridlocalization):e.jqx.dataFormat.isNumber(g)&&(n=e.jqx.dataFormat.formatnumber(n,b.cellsformat,a.gridlocalization))),h.title=n);a.WinJS?e(h).html(p):h.innerHTML=p;a._cellscache[k]={element:h.innerHTML,title:n};return!0}},_isIE10:function(){if(void 0==this._browser){var a=e.jqx.utilities.getBrowser();"msie"==a.browser&&9<parseInt(a.version)?this._browser=!0:(this._browser=!1,"msie"==a.browser&&(a="Browser CodeName: "+navigator.appCodeName+"",a+="Browser Name: "+navigator.appName+"",a+="Browser Version: "+navigator.appVersion+"",a+="Platform: "+navigator.platform+"",a+="User-agent header: "+navigator.userAgent+"",-1!=a.indexOf("Zune 4.7")&&(this._browser=!0)))}return this._browser},_renderinlinecell:function(a,b,d,g,h){e(b);b.innerHTML='\x3cdiv style\x3d"position: absolute;"\x3e\x3c/div\x3e'},_rendercheckboxcell:function(a,b,d,g,h){if(a.host.jqxCheckBox){var l=e(b);""===h&&(h=d.threestatecheckbox?null:!1);"1"==h&&(h=!0);"0"==h&&(h=!1);1==h&&(h=!0);0==h&&(h=!1);"true"==h&&(h=!0);"false"==h&&(h=!1);if(d.checkboxcolumn){h=!1;var k=this.getboundindex(g);-1!=this.selectedrowindexes.indexOf(k)&&(h=!0)}0==l.find(".jqx-checkbox").length?(b.innerHTML='\x3cdiv style\x3d"position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"\x3e\x3c/div\x3e',e(b.firstChild).jqxCheckBox({disabled:a.disabled,_canFocus:!1,hasInput:!1,hasThreeStates:d.threestatecheckbox,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,locked:!0,theme:a.theme,checked:h}),this.editable&&d.editable&&e(b.firstChild).jqxCheckBox({locked:!1}),d.checkboxcolumn&&e(b.firstChild).jqxCheckBox({locked:!1}),b.checkbox=e(b.firstChild),b.checkboxinstance=b.checkbox.data().jqxCheckBox.instance,b.checkboxrow=this.getboundindex(g),e.data(b.firstChild,"jqxCheckBox").instance.updated=function(g,h,k){if(a.disabled){h=k;g=a.table[0].rows.length;for(var l=a._getcolumnindex(d.datafield),r=0;r<g;r++){var t=a.table[0].rows[r].cells[l].firstChild;t&&e(t).jqxCheckBox({disabled:a.disabled})}}if(d.editable&&!a.disabled){if(g=a.table[0].rows.length,l=a._getcolumnindex(d.datafield),void 0==a.editrow)if(d.cellbeginedit&&0==d.cellbeginedit(b.checkboxrow,d.datafield,d.columntype,!h))a.setcellvalue(b.checkboxrow,d.datafield,!h,!0);else{d.cellvaluechanging&&(r=d.cellvaluechanging(b.checkboxrow,d.datafield,d.columntype,k,h),void 0!=r&&(h=r));if("selectedrow"!==a.editmode)for(r=0;r<g;r++)(t=a.table[0].rows[r].cells[l].firstChild)&&e(t).jqxCheckBox("destroy");a.editcell&&0==a.editcell.validated?a.setcellvalue(b.checkboxrow,d.datafield,!h,!0):"selectedrow"!==a.editmode||null==a.editcell?(g=a.getrowdata(b.checkboxrow),a._raiseEvent(17,{rowindex:b.checkboxrow,row:g,datafield:d.datafield,value:k,columntype:d.columntype}),a.setcellvalue(b.checkboxrow,d.datafield,h,!0),a._raiseEvent(18,{rowindex:b.checkboxrow,row:g,datafield:d.datafield,oldvalue:k,value:h,columntype:d.columntype})):a.setcellvalue(b.checkboxrow,d.datafield,h,!1,!1);d.cellendedit&&d.cellendedit(b.checkboxrow,d.datafield,d.columntype,h)}}else d.checkboxcolumn&&(a.editcell&&a.endcelledit(a.editcell.row,a.editcell.column,!1,!0),a.disabled||(h?a.selectrow(b.checkboxrow):a.unselectrow(b.checkboxrow),a.autosavestate&&a.savestate&&a.savestate()))}):(b.checkboxrow=this.getboundindex(g),e(b.firstChild).jqxCheckBox("_setState",h,!(this.editable&&d.editable)&&!d.checkboxcolumn))}},_renderbuttoncell:function(a,b,d,g,h){if(a.host.jqxButton){var l=e(b);""==h&&(h=!1);0==l.find(".jqx-button").length?(b.innerHTML='\x3cinput type\x3d"button" style\x3d"opacity: 0.99; position: absolute; top: 0%; left: 0%; padding: 0px; margin-top: 2px; margin-left: 2px;"/\x3e',e(b.firstChild).val(h),e(b.firstChild).attr("hideFocus","true"),e(b.firstChild).jqxButton({disabled:a.disabled,theme:a.theme,height:a.rowsheight-4,width:d.width-4}),b.button=e(b.firstChild),b.buttonrow=a.getboundindex(g),this.isTouchDevice()?(g=e.jqx.mobile.getTouchEventName("touchend"),a.addHandler(e(b.firstChild),g,function(a){d.buttonclick&&d.buttonclick(b.buttonrow,a)})):a.addHandler(e(b.firstChild),"click",function(a){d.buttonclick&&d.buttonclick(b.buttonrow,a)})):(b.buttonrow=a.getboundindex(g),e(b.firstChild).val(h))}},_clearvisualrow:function(a,b,d,g,h){var l=this.toTP("jqx-grid-cell");b&&(l=" "+this.toTP("jqx-grid-group-cell"));l+=" "+this.toTP("jqx-grid-cleared-cell");b=this.table[0].rows;for(var k=0;k<g+h;k++)if(b[d]){var m=b[d].cells[k];m.className!=l&&(m.className=l);var n=this.columns.records[k];this._horizontalvalue==a||n.pinned||1!=this.oldhscroll||(m.style.marginLeft=-a+"px");var p=n.width;p<n.minwidth&&(p=n.minwidth);p>n.maxwidth&&(p=n.maxwidth);parseInt(m.style.width)!=p&&("auto"!=p?e(m)[0].style.width=p+"px":e(m)[0].style.width=p);""!=m.title&&(m.title="");""!=m.innerHTML&&(m.innerHTML="")}b[d]&&parseInt(b[d].style.height)!=this.rowsheight&&(b[d].style.height=parseInt(this.rowsheight)+"px")},_findgroupstate:function(a){a=this._findgroup(a);return null==a?!1:a.expanded},_findgroup:function(a){return this.expandedgroups[a]?this.expandedgroups[a]:null},_clearcaches:function(){this._columnsbydatafield=[];this._pagescache=[];this._pageviews=[];this._cellscache=[];this.heights=[];this.hiddens=[];this.hiddenboundrows=[];this.heightboundrows=[];this.detailboundrows=[];this.details=[];this.expandedgroups=[];this._rowdetailscache=[];this._rowdetailselementscache=[];e.jqx.dataFormat&&e.jqx.dataFormat.cleardatescache();this.tableheight=null},_getColumnText:function(a){void 0==this._columnsbydatafield&&(this._columnsbydatafield=[]);if(this._columnsbydatafield[a])return this._columnsbydatafield[a];var b=a,d=null;e.each(this.columns.records,function(){if(this.datafield==a||this.displayfield==a)return b=this.text,d=this,!1});this._columnsbydatafield[a]={label:b,column:d};return this._columnsbydatafield[a]},_getcolumnbydatafield:function(a){void 0==this.__columnsbydatafield&&(this.__columnsbydatafield=[]);if(this.__columnsbydatafield[a])return this.__columnsbydatafield[a];var b=null;e.each(this.columns.records,function(){if(this.datafield==a||this.displayfield==a)return b=this,!1});this.__columnsbydatafield[a]=b;return this.__columnsbydatafield[a]},isscrollingvertically:function(){return this.vScrollBar.jqxScrollBar("isScrolling")},_renderrowdetails:function(a,b,d,g,h,l){if(void 0!=b){var k=e(b);l=this.rowdetails&&this.showrowdetailscolumn?(1+this.groups.length)*this.groupindentwidth:this.groups.length*this.groupindentwidth;if(this.groupable&&0<this.groups.length)for(var m=0;m<=h;m++){var n=e(b.cells[m]);n[0].innerHTML="";n[0].className="jqx-grid-details-cell"}n=e(b.cells[0]);if("none"==n[0].style.display){n=b.cells[0];for(m=2;void 0!=n&&"none"==n.style.display&&10>m;)n=b.cells[0+m-1],m++;n=e(n)}if(this.rtl)for(;g<h;g++)b.cells[g].innerHTML="",b.cells[g].className="jqx-grid-details-cell";n.css("width","100%");k.height(d.rowdetailsheight);n[0].className=a;a=this.getboundindex(d);h=a+"_";this._rowdetailscache[h]?(b=this._rowdetailscache[h].html,this.initrowdetails?this._rowdetailscache[h].element&&(b=this._rowdetailscache[h].element,n=n.coord(),g=this.gridcontent.coord(),d=parseInt(n.top)-parseInt(g.top),n=parseInt(n.left)-parseInt(g.left),this.rtl&&(n=0),e(b).css("top",d),e(b).css("left",n),e(b).css("display","block"),e(b).width(this.host.width()-l),this.layoutrowdetails&&this.layoutrowdetails(a,b,this.element,this.getrowdata(a))):n[0].innerHTML=b):(n[0].innerHTML="",this.enablerowdetailsindent||(l=0),g='\x3cdiv class\x3d"jqx-enableselect" role\x3d"rowgroup" style\x3d"border: none; overflow: hidden; width: 100%; height: 100%; margin-left: '+l+'px;"\x3e'+d.rowdetails+"\x3c/div\x3e",this.rtl&&(g='\x3cdiv class\x3d"jqx-enableselect" role\x3d"rowgroup" style\x3d"border: none; overflow: hidden; width: 100%; height: 100%; margin-left: 0px; margin-right: '+l+'px;"\x3e'+d.rowdetails+"\x3c/div\x3e"),this._rowdetailscache[h]={id:b.id,html:g},this.initrowdetails?(b=e(g)[0],e(this.gridcontent).prepend(e(b)),e(b).css("position","absolute"),e(b).width(this.host.width()-l),e(b).height(n.height()),n.coord(),e(b).css("z-index",9999),this.isTouchDevice()&&e(b).css("z-index",99999),e(b).addClass(this.toThemeProperty("jqx-widget-content")),n=n.coord(),g=this.gridcontent.coord(),d=parseInt(n.top)-parseInt(g.top),n=parseInt(n.left)-parseInt(g.left),e(b).css("top",d),e(b).css("left",n),this.content[0].scrollTop=0,this.content[0].scrollLeft=0,l=e(e(b).children()[0]),""!=l[0].id&&(l[0].id+=a),this.initrowdetails(a,b,this.element,this.getrowdata(a)),this._rowdetailscache[h].element=b,this._rowdetailselementscache[a]=b):n[0].innerHTML=g)}},_defaultcellsrenderer:function(a,b){""!=b.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(a)?a=e.jqx.dataFormat.formatdate(a,b.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(a)&&(a=e.jqx.dataFormat.formatnumber(a,b.cellsformat,this.gridlocalization)));var d="4px";25!=this.rowsheight&&(d=this.rowsheight/2-this._cellheight/2,0>d&&(d=4),d+="px");if(this.enableellipsis){if("center"==b.cellsalign||"middle"==b.cellsalign)return'\x3cdiv style\x3d"text-overflow: ellipsis; overflow: hidden; padding-bottom: 2px; text-align: center; margin-top: '+d+';"\x3e'+a+"\x3c/div\x3e";if("left"==b.cellsalign)return'\x3cdiv style\x3d"overflow: hidden; text-overflow: ellipsis; padding-bottom: 2px; text-align: left; margin-right: 2px; margin-left: 4px; margin-top: '+d+';"\x3e'+a+"\x3c/div\x3e";if("right"==b.cellsalign)return'\x3cdiv style\x3d"overflow: hidden;  text-overflow: ellipsis; padding-bottom: 2px; text-align: right; margin-right: 2px; margin-left: 4px; margin-top: '+d+';"\x3e'+a+"\x3c/div\x3e"}return"center"==b.cellsalign||"middle"==b.cellsalign?'\x3cdiv style\x3d"text-align: center; margin-top: '+d+';"\x3e'+a+"\x3c/div\x3e":'\x3cspan style\x3d"margin-left: 4px; margin-right: 2px; margin-top: '+d+"; float: "+b.cellsalign+';"\x3e'+a+"\x3c/span\x3e"},getcelltext:function(a,b){if(null==a||null==b)return null;var d=this.getcellvalue(a,b),g=this.getcolumn(b);g&&""!=g.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(d)?d=e.jqx.dataFormat.formatdate(d,g.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(d)&&(d=e.jqx.dataFormat.formatnumber(d,g.cellsformat,this.gridlocalization)));return d},getcelltextbyid:function(a,b){if(null==a||null==b)return null;var d=this.getcellvaluebyid(a,b),g=this.getcolumn(b);g&&""!=g.cellsformat&&e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(d)?d=e.jqx.dataFormat.formatdate(d,g.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(d)&&(d=e.jqx.dataFormat.formatnumber(d,g.cellsformat,this.gridlocalization)));return d},_getcellvalue:function(a,b){var d=null,d=b.bounddata[a.datafield];null!=a.displayfield&&(d=b.bounddata[a.displayfield]);null==d&&(d="");return d},getcell:function(a,b){if(null==a||null==b)return null;var d=parseInt(a),e=a,h="";isNaN(d)||(e=this.getrowdata(d));null!=e&&(h=e[b]);return this._getcellresult(h,a,b)},getrenderedcell:function(a,b){if(null==a||null==b)return null;var d=parseInt(a),e=a,h="";isNaN(d)||(e=this.getrenderedrowdata(d));null!=e&&(h=e[b]);return this._getcellresult(h,a,b)},_getcellresult:function(a,b,d){var e=this.getcolumn(d);if(null==e||void 0==e)return null;var h=e.getcolumnproperties(),e=h.hidden,l=h.width,k=h.pinned,m=h.cellsalign,h=h.cellsformat,n=this.getrowheight(b);return 0==n?null:{value:a,row:b,column:d,datafield:d,width:l,height:n,hidden:e,pinned:k,align:m,format:h}},setcellvaluebyid:function(a,b,d,e,h){a=this.getrowboundindexbyid(a);return this.setcellvalue(a,b,d,e,h)},getcellvaluebyid:function(a,b){var d=this.getrowboundindexbyid(a);return this.getcellvalue(d,b)},setcellvalue:function(a,b,d,g,h){if(null==a||null==b)return!1;var l=parseInt(a),k=a;isNaN(l)||(k=this.getrowdata(l));var m=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(m=!0);this.virtualmode&&(this._pagescache=[]);this.sortcache&&(this.sortcache={});var n="",p="";if(null!=k&&k[b]!==d){if(null===k[b]&&""===d)return;var q=this._getcolumnbydatafield(b),r="string",t=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(t){var v="";e.each(t,function(){if(this.name==q.displayfield)return this.type&&(v=this.type),!1});v&&(r=v);p=k[q.displayfield]}n=k[b];if(!q.nullable||null!=d&&""!==d&&q.nullable&&void 0===d.label)if(e.jqx.dataFormat.isNumber(n)||"number"==r||"float"==r||"int"==r||"decimal"==r&&"date"!=r?(this.gridlocalization&&","==this.gridlocalization.decimalseparator&&d&&d.indexOf&&0<=d.indexOf(",")&&(d=d.replace(",",".")),d=new Number(d),d=parseFloat(d),isNaN(d)&&(d=0)):!e.jqx.dataFormat.isDate(n)&&"date"!=r||""==d||(t=new Date(d),"Invalid Date"!=t&&null!=t?d=t:"Invalid Date"==t&&(d=t=new Date)),k[b]===d){this._updating||0==g||this._renderrows(this.virtualsizeinfo);return}t=this.source&&this.source._source.localdata&&"observableArray"===this.source._source.localdata.name;k[b]=d;if(t){var u=this.source._source.localdata;u._updating||(u._updating=!0,u[a][b]=d,u._updating=!1)}r=this.getrenderedrowdata(l,!0);if(!r)return;r[b]=d;null!=d&&null!=d.label&&(q=this._getcolumnbydatafield(b),k[q.displayfield]=d.label,r[q.displayfield]=d.label,k[b]=d.value,r[b]=d.value,t&&!u._updating&&(u._updating=!0,u[a][b]=d.value,u[a][q.displayfield]=d.label,u._updating=!1));m&&void 0!=k.dataindex&&(this.dataview.cachedrecords[k.dataindex][b]=d,null!=d&&void 0!=d.label&&(this.dataview.cachedrecords[k.dataindex][b]=d.value,this.dataview.cachedrecords[k.dataindex][q.displayfield]=d.label))}else return this._updating||0==g||this._renderrows(this.virtualsizeinfo),!1;if(this.source&&this.source._knockoutdatasource&&!this._updateFromAdapter&&this.autokoupdates&&this.source._source._localdata){u=l;m&&void 0!=k.dataindex&&(u=k.dataindex);u=this.source._source._localdata()[u];this.source.suspendKO=!0;if(u[b]&&u[b].subscribe)if(null!=d&&null!=d.label)u[q.displayfield](d.label),u[b](d.value);else u[b](d);else{var t=this.source._source.datafields,w=null;t&&e.each(t,function(){if(this.name==b)return w=this.map,!1});if(null==w)null!=d&&null!=d.label?(u[b]=d.value,u[q.displayfield]=d.label):u[b]=d;else if(t=w.split(this.source.mapChar),0<t.length){for(var r=u,x=0;x<t.length-1;x++)r=r[t[x]];r[t[t.length-1]]=d}this.source._source._localdata.replace(u,e.extend({},u))}this.source.suspendKO=!1}this.sortcolumn&&this.dataview.sortby&&!this._updating?(u=this.getsortinformation(),this.sortcolumn==b&&(this.dataview.clearsortdata(),this.dataview.sortby(u.sortcolumn,u.sortdirection.ascending))):this._updating||this.dataview.sortby&&this.dataview.sortcache[b]&&(this.dataview.sortcache[b]=null);this._cellscache=[];this._pagescache=[];if(this.source.updaterow&&(void 0==h||1==h)){h=!1;var z=this.that,u=function(d){0==d&&(z.setcellvalue(a,b,n,!0,!1),n!=p&&z.setcellvalue(a,z.getcolumn(b).displayfield,p,!0,!1))};try{var D=this.getrowid(l);h=this.source.updaterow(D,k,u);void 0==h&&(h=!0)}catch(C){h=!1;z.setcellvalue(a,b,n,!0,!1);n!=p&&z.setcellvalue(a,z.getcolumn(b).displayfield,p,!0,!1);return}}l=this.vScrollInstance.value;this._updating&&1!=g&&(g=!1);if(1==g||void 0==g)if(z=this.that,g=function(){z.pageable&&z.updatepagerdetails&&(z.updatepagerdetails(),(z.autoheight||z.autorowheight)&&z._updatepageviews())},k=this.groupable&&0<this.groups.length,m&&!k){if(this.autoheight||this.autorowheight)this.prerenderrequired=!0;this.dataview.refresh();this.rendergridcontent(!0,!1);g();this._renderrows(this.virtualsizeinfo)}else if(this.sortcolumn&&!k){if(this.autoheight||this.autorowheight)this.prerenderrequired=!0;this.dataview.reloaddata();this.rendergridcontent(!0,!1);g();this._renderrows(this.virtualsizeinfo)}else if(this.groupable&&0<this.groups.length){if(this.autoheight||this.autorowheight)this.prerenderrequired=!0;this.pageable?-1!=this.groups.indexOf(b)?(this._pagescache=[],this._cellscache=[],this.dataview.refresh(),this._render(!0,!0,!1,!1)):(this._pagescache=[],this._cellscache=[],this.dataview.updateview(),this._renderrows(this.virtualsizeinfo)):(this._pagescache=[],this._cellscache=[],this.dataview.updateview(),this._renderrows(this.virtualsizeinfo))}else this.dataview.updateview(),this._renderrows(this.virtualsizeinfo);this.vScrollInstance.setPosition(l);this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates();this.showfilterrow&&this.filterable&&this.filterrow&&(m=this.getcolumn(b).filtertype,"list"!=m&&"checkedlist"!=m||this._updatelistfilters(!0));this._raiseEvent(19,{rowindex:a,datafield:b,newvalue:d,value:d,oldvalue:n});return!0},getcellvalue:function(a,b){if(null==a||null==b)return null;var d=parseInt(a),e=a;isNaN(d)||(e=this.getrowdata(d));return null!=e?e[b]:null},getrows:function(){var a=this.dataview.records.length;if(this.virtualmode){for(var b=[],d=0;d<this.dataview.records.length;d++)(a=this.dataview.records[d])&&b.push(a);void 0===this.dataview.records.length&&e.each(this.dataview.records,function(){this&&b.push(this)});d=0;this.pageable&&(d=this.dataview.pagenum*this.dataview.pagesize);return b.length>this.source._source.totalrecords-d?b.slice(0,this.source._source.totalrecords-d):b}if(this.dataview.sortdata){b=[];for(d=0;d<a;d++){var g={},g=e.extend({},this.dataview.sortdata[d].value);b[d]=g}return b}return this.dataview.records},getrowboundindexbyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b&&b.boundindex)return this.getboundindex(b);for(var b=this.getboundrows(),d=0;d<b.length;d++)if(b[d]&&b[d].uid==a)return d;return-1},getrowdatabyid:function(a){var b=this.dataview.recordsbyid["id"+a];if(b)return b;a=this.getrowboundindexbyid(a);return this.getboundrows()[a]},getrowdata:function(a){void 0==a&&(a=0);return this.virtualmode?this.dataview.records[a]:this.getboundrows()[a]},getrenderedrowdata:function(a,b){void 0==a&&(a=0);if(this.virtualmode){var d=this.getrowvisibleindex(a);return d=this.dataview.loadedrecords[d]}d=this.getrowvisibleindex(a);return 0<=d?(this.groupable&&0<this.groups.length?d=this.dataview.loadedrecords[d]:(d=this.dataview.loadedrecords[d],!this.pageable||void 0!=b&&0!=b||(d=this.dataview.loadedrecords[this.dataview.pagesize*this.dataview.pagenum+a])),d):null},getboundrows:function(){return this.dataview.cachedrecords},getrowdisplayindex:function(a){for(var b=this.getdisplayrows(),d=0;d<b.length;d++)if(b[d])if(void 0!==b[d].dataindex){if(b[d].dataindex==a)return b[d].visibleindex}else if(b[d].boundindex==a)return b[d].visibleindex;return-1},getboundindex:function(a){var b=a.boundindex;this.groupable&&0<this.groups.length&&this.pageable&&a.bounddata&&(b=this.getrowboundindexbyid(a.bounddata.uid));0<this.dataview.filters.length&&(a.bounddata?void 0!==a.bounddata.dataindex&&(b=a.bounddata.dataindex):void 0!==a.dataindex&&(b=a.dataindex));return b},getrowboundindex:function(a){return(a=this.getdisplayrows()[a])?void 0!==a.dataindex?a.dataindex:a.boundindex:-1},getdisplayrows:function(){return this.dataview.loadedrecords},getloadedrows:function(){return this.getdisplayrows()},getvisiblerowdata:function(a){var b=this.getvisiblerows();return b?b[a]:null},getloadedrowdata:function(a){var b=this.getloadedrows();return b?b[a]:null},getvisiblerows:function(){if(this.virtualmode)return this.dataview.loadedrecords;if(this.pageable){for(var a=[],b=0;b<this.dataview.pagesize;b++){var d=this.dataview.loadedrecords[b+this.dataview.pagesize*this.dataview.pagenum];if(void 0==d)break;a.push(d)}return a}if(void 0!=this._startboundindex&&void 0!=this._endboundindex){a=[];for(b=this._startvisibleindex;b<=this._endvisibleindex;b++){d=this.dataview.loadedrecords[b];if(void 0==d)break;a.push(d)}return a}return this.dataview.loadedrecords},getrowid:function(a){void 0==a&&(a=0);if(this.virtualmode){var b=this.getrowvisibleindex(a);if(b=this.dataview.loadedrecords[b])return b.uid}else if(b=0<this.dataview.filters.length,0<=a&&a<this.dataview.bounditems.length&&!b&&(b=this.getrowvisibleindex(a),b=this.dataview.loadedrecords[b])||0<this.dataview.filters.length&&(b=this.getboundrows()[a])&&null!=b.uid)return b.uid;return null},_updateGridData:function(a){var b=!1;this.filterable&&this._initfilterpanel&&this.dataview.filters.length&&(b=!0);b?(this.dataview.refresh(),"updaterow"==a?(this._render(!0,!0,!1,!1,!1),this.invalidate()):this.render()):this.sortcolumn||this.groupable&&0<this.groups.length?(this.dataview.reloaddata(),this.render()):(this._cellscache=[],this._pagescache=[],this._renderrows(this.virtualsizeinfo));this.showfilterrow&&this.filterable&&this.filterrow&&this._updatelistfilters(!0)},updaterow:function(a,b,d){if(void 0!=a&&void 0!=b){var g=this.that,h=!1;g._datachanged=!0;var l=function(a,b,c){if(a._loading)throw Error("jqxGrid: "+a.loadingerrormessage);var f=!1;e.isArray(b)?(e.each(b,function(b,d){f=a.dataview.updaterow(this,c[b],!1)}),a._cellscache=[],a._pagescache=[],a.dataview.refresh()):f=a.dataview.updaterow(b,c);var g=a.vScrollInstance.value;if(void 0==d||1==d)void 0!=a._updating&&0!=a._updating||a._updateGridData("updaterow");a.showaggregates&&a._updatecolumnsaggregates&&a._updatecolumnsaggregates();if(a.source&&a.source._knockoutdatasource&&!a._updateFromAdapter&&a.autokoupdates&&a.source._source._localdata){var h=a.dataview.recordsbyid["id"+b],k=a.dataview.records.indexOf(h),k=a.source._source._localdata()[k];a.source.suspendKO=!0;a.source._source._localdata.replace(k,e.extend({},h));a.source.suspendKO=!1}a.source&&a.source._source.localdata&&"observableArray"===a.source._source.localdata.name&&!a.source._source.localdata._updating&&(a.source._source.localdata._updating=!0,b=a.getrowboundindexbyid(b),a.source._source.localdata.set(b,c),a.source._source.localdata._updating=!1);a.vScrollInstance.setPosition(g);return f};if(this.source.updaterow){var k=function(d){1==d||void 0==d?l(g,a,b):h=!1};try{h=this.source.updaterow(a,b,k),void 0==h&&(h=!0)}catch(m){h=!1}}else h=l(g,a,b);return h}return!1},deleterow:function(a,b){if(void 0!=a){this._datachanged=!0;var d=!1,g=this.that,h=this.getrowboundindexbyid(a),l=[];if(void 0!=h&&(0<=this.selectedrowindexes.indexOf(h)&&this.selectedrowindexes.splice(this.selectedrowindexes.indexOf(h),1),this.selectedrowindex==h&&(this.selectedrowindex=-1),!this.virtualmode))if(0<=g.selectionmode.indexOf("row"))e.each(this.selectedrowindexes,function(){var a=g.getrowid(this);l.push(a)}),this.selectedrowindexes=[],this.selectedrowindex=-1;else if(0<=g.selectionmode.indexOf("cell"))for(var k in g.selectedcells){var m=g.selectedcells[k],n=g.getrowid(m.rowindex);m.rowid=n}var p=function(a,c){if(a._loading)throw Error("jqxGrid: "+a.loadingerrormessage);var d=!1,g=a.vScrollInstance.value;e.isArray(c)?(e.each(c,function(){d=a.dataview.deleterow(this,!1)}),a._cellscache=[],a._pagescache=[],a.dataview.refresh()):d=a.dataview.deleterow(c);if(!a.virtualmode)if(0<=a.selectionmode.indexOf("row"))e.each(l,function(){var b=a.getrowboundindexbyid(this);-1!=b&&a.selectrow(b,!1)});else{var k=[],m;for(m in a.selectedcells){var n=a.selectedcells[m],p=a.getrowboundindexbyid(n.rowid);-1!=p&&(n.rowindex=p,k[p+"_"+n.datafield]=n)}a.selectedcells=k}if(void 0==a._updating||0==a._updating)if(void 0==b||1==b)a._render(!0,!0,!1,!1),"visible"!=a.vScrollBar.css("visibility")&&(a._arrange(),a._updatecolumnwidths(),a._updatecellwidths(),a._renderrows(a.virtualsizeinfo));a.source&&a.source._knockoutdatasource&&!a._updateFromAdapter&&a.autokoupdates&&a.source._source._localdata&&(a.source.suspendKO=!0,a.source._source._localdata.pop(rowdata),a.source.suspendKO=!1);a.source&&a.source._source.localdata&&"observableArray"===a.source._source.localdata.name&&!a.source._source.localdata._updating&&(a.source._source.localdata._updating=!0,a.source._source.localdata.splice(h,1),a.source._source.localdata._updating=!1);a.dataview.sortby&&(k=a.getsortinformation(),a.dataview.clearsortdata(),a.dataview.sortby(k.sortcolumn,k.sortdirection?k.sortdirection.ascending:null));a.vScrollInstance.setPosition(g);return d};if(this.source.deleterow){k=function(b){1!=b&&void 0!=b||p(g,a)};try{this.source.deleterow(a,k),void 0==d&&(d=!0)}catch(q){d=!1}}else d=p(g,a);return d}return!1},addrow:function(a,b,d){if(void 0!=b){this._datachanged=!0;void 0==d&&(d="last");var g=!1,h=this.that;if(null==a){var l=this.dataview.filters&&0<this.dataview.filters.length?this.dataview.cachedrecords.length:this.dataview.totalrecords;if(e.isArray(b)){var k=[];e.each(b,function(a,c){var d=h.dataview.getid(h.dataview.source.id,b[a],l+a);k.push(d)});a=k}else for(a=this.dataview.getid(this.dataview.source.id,b,l);null!=this.dataview.recordsbyid["id"+a];)a++}var m=function(a,b,c,d){if(a._loading)throw Error("jqxGrid: "+a.loadingerrormessage);var f=a.vScrollInstance.value,g=!1;e.isArray(c)?(e.each(c,function(c,f){void 0!=this.dataindex&&delete this.dataindex;var e=null;null!=b&&null!=b[c]&&(e=b[c]);g=a.dataview.addrow(e,this,d,!1)}),a._cellscache=[],a._pagescache=[],a.dataview.refresh()):(void 0!=c&&void 0!=c.dataindex&&delete c.dataindex,g=a.dataview.addrow(b,c,d));if(void 0==a._updating||0==a._updating)a._render(!0,!0,!1,!1),a.invalidate();a.source&&a.source._knockoutdatasource&&!a._updateFromAdapter&&a.autokoupdates&&a.source._source._localdata&&(a.source.suspendKO=!0,a.source._source._localdata.push(c),a.source.suspendKO=!1);if(a.source&&a.source._source.localdata&&"observableArray"===a.source._source.localdata.name&&!a.source._source.localdata._updating){a.source._source.localdata._updating=!0;var h=a.getrowboundindexbyid(b);a.source._source.localdata.set(h,c);a.source._source.localdata._updating=!1}"deferred"!=a.scrollmode?a.vScrollInstance.setPosition(f):a.vScrollInstance.setPosition(0);return g};if(this.source.addrow){var n=function(e,g){if(1==e||void 0==e)void 0!=g&&(a=g),m(h,a,b,d)};try{g=this.source.addrow(a,b,d,n),void 0==g&&(g=!0)}catch(p){g=!1}if(0==g)return!1}else m(this,a,b,d);return g}return!1},_findvisiblerow:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var d=0;if(void 0==b||null==b)b=this.rows.records;for(var e=b.length;d<=e;){mid=parseInt((d+e)/2);var h=b[mid];if(void 0==h)break;if(h.top>a&&h.top+h.height>a)e=mid-1;else if(h.top<a&&h.top+h.height<a)d=mid+1;else return mid}return-1},_updatecellwidths:function(){var a=this.virtualsizeinfo;if(a){var b=this.that;if(void 0!=b.gridcontent){void 0==b.table&&(b.table=b.gridcontent.find("#contenttable"+b.element.id));var d=b.groupable&&0<b.groups.length,e=0,a=a.visiblerecords;b.pageable&&(b.autoheight||b.autorowheight)&&(a=b.dataview.pagesize,b.groupable&&(b.dataview.updateview(),a=b.dataview.rows.length));b.groupable||b.pageable||!b.autoheight&&!b.autorowheight||(a=b.dataview.totalrecords);b.rowdetails&&(a+=b.dataview.pagesize);if(b.columns.records){for(var h=b.columns.records.length,l=b.table[0].rows,k=0;k<a;k++){var m=l[k];if(!m)break;for(var m=m.cells,n=0,p=0;p<h;p++){var q=b.columns.records[p],r=q.width,t=m[p];parseInt(t.style.left)!=n&&(t.style.left=n+"px");parseInt(t.style.width)!=r&&(t.style.width=r+"px");q.hidden&&q.hideable?t.style.display="none":n+=parseFloat(r)}0==e&&(b.table.width(parseFloat(n)+2),e=n)}b.showaggregates&&b._updateaggregates&&b._updateaggregates();b.showfilterrow&&b.filterable&&b._updatefilterrowui&&b._updatefilterrowui();b.showeverpresentrow&&b._updateaddnewrowui();b._updatescrollbarsafterrowsprerender();d&&b._renderrows(b.virtualsizeinfo)}}}},_updatescrollbarsafterrowsprerender:function(){var a=this.that,b=a.hScrollBar[0].style.visibility,d=0,e=a.vScrollBar[0].style.visibility;"visible"==e&&(d=a.scrollbarsize+3);a.scrollbarautoshow&&(d=0);var h=a.element.style.width,h=0<=h.toString().indexOf("%")?a.host.width():parseInt(h);parseInt(a.table[0].style.width)-2>h-d?("visible"!=b&&(a.autowidth||(a.hScrollBar[0].style.visibility="visible"),a._arrange()),"visible"==e?"deferred"==a.scrollmode||a.virtualmode?a._updatevscrollbarmax():a.virtualsizeinfo&&(e=a.virtualsizeinfo.virtualheight-a._gettableheight(),!isNaN(e)&&0<e&&("hidden"!=b?a.vScrollBar.jqxScrollBar("max",e+a.scrollbarsize+4):a.vScrollBar.jqxScrollBar("max",e))):d=-2,a.hScrollBar.jqxScrollBar("max",d+a.table.width()-a.host.width())):"hidden"!=b&&(a.hScrollBar.css("visibility","hidden"),a._arrange());a._renderhorizontalscroll()},_prerenderrows:function(a){var b=this.that;if(1==b.prerenderrequired&&(b.prerenderrequired=!1,b.editable&&b._destroyeditors&&b._destroyeditors(),void 0!=b.gridcontent)){b.gridcontent.find("#contenttable"+b.element.id).remove();null!=b.table&&(b.table.remove(),b.table=null);b.table=e('\x3cdiv id\x3d"contenttable'+b.element.id+'" style\x3d"overflow: hidden; position: relative;"\x3e\x3c/div\x3e');b.gridcontent.addClass(b.toTP("jqx-grid-content"));b.gridcontent.addClass(b.toTP("jqx-widget-content"));b.gridcontent.append(b.table);var d=b.groupable&&0<b.groups.length,g=0;b.table[0].rows=[];var h=b.toTP("jqx-grid-cell");d&&(h=" "+b.toTP("jqx-grid-group-cell"));a=a.visiblerecords;b.pageable&&(b.autoheight||b.autorowheight)&&(a=b.dataview.pagesize,b.groupable&&(b.dataview.updateview(),a=b.dataview.rows.length,a<b.dataview.pagesize&&(a=b.dataview.pagesize)));b.pageable||!b.autoheight&&!b.autorowheight||(a=b.dataview.totalrecords);b.groupable&&0<b.groups.length&&(b.autoheight||b.autorowheight)&&!b.pageable&&(a=b.dataview.rows.length);b.rowdetails&&(a=b.autoheight||b.autorowheight?a+b.dataview.pagesize:a+a);if(b.columns.records){d=b.columns.records.length;e.jqx.browser.msie&&8<e.jqx.browser.version&&b.table.css("opacity","0.99");-1!=navigator.userAgent.indexOf("Safari")&&b.table.css("opacity","0.99");var l=e.jqx.browser.msie&&8>e.jqx.browser.version;l&&b.host.attr("hideFocus","true");var k=b.tableZIndex;a*d>k&&(k=a*d);b.isTouchDevice();var m="";b._hiddencolumns=!1;for(var n=0;n<a;n++){var p='\x3cdiv role\x3d"row" style\x3d"position: relative; height:'+b.rowsheight+'px;" id\x3d"row'+n+b.element.id+'"\x3e';l&&(p='\x3cdiv role\x3d"row" style\x3d"position: relative; z-index: '+k+"; height:"+b.rowsheight+'px;" id\x3d"row'+n+b.element.id+'"\x3e',k--);for(var q=0,r=0;r<d;r++){var t=b.columns.records[r],v=t.width;v<t.minwidth&&(v=t.minwidth);v>t.maxwidth&&(v=t.maxwidth);if(b.rtl){var u='\x3cdiv role\x3d"gridcell" style\x3d"left: '+q+"px; z-index: "+(k-d+2*r)+"; width:"+v+"px;";k--}else u='\x3cdiv role\x3d"gridcell" style\x3d"left: '+q+"px; z-index: "+k--+"; width:"+v+"px;";t.hidden&&t.hideable?(u+="display: none;",b._hiddencolumns=!0,k++):q+=v;u+='" class\x3d"'+h+'"\x3e\x3c/div\x3e';p+=u}0==g&&(b.table.width(parseInt(q)+2),g=q);p+="\x3c/div\x3e";m+=p}b.WinJS?MSApp.execUnsafeLocalFunction(function(){b.table.html(m)}):b.table[0].innerHTML=m;b.table[0].rows=[];g=b.table.children();for(n=0;n<a;n++)for(l=g[n],b.table[0].rows.push(l),l.cells=[],q=e(l).children(),r=0;r<d;r++)l.cells.push(q[r]);if(0==a){q=0;b.showemptyrow&&(p=e('\x3cdiv style\x3d"position: relative;" id\x3d"row0'+b.element.id+'"\x3e\x3c/div\x3e'),b.table.append(p),p.height(b.rowsheight),b.table[0].rows[0]=p[0],b.table[0].rows[0].cells=[]);for(r=0;r<d;r++)t=b.columns.records[r],v=t.width,b.showemptyrow&&(u=e('\x3cdiv style\x3d"position: absolute; height: 100%; left: '+q+"px; z-index: "+k--+"; width:"+v+'px;" class\x3d"'+h+'"\x3e\x3c/div\x3e'),u.height(b.rowsheight),p.append(u),b.table[0].rows[0].cells[r]=u[0]),v<t.minwidth&&(v=t.minwidth),v>t.maxwidth&&(v=t.maxwidth),t.hidden&&t.hideable||(q+=v);b.table.width(parseInt(q)+2);g=q}b._updatescrollbarsafterrowsprerender();b.rendered&&b.rendered("rows");b.toCompile=[];b._addoverlayelement()}}},_groupsheader:function(){return this.groupable&&this.showgroupsheader},_arrange:function(){var a=null,b=null;this.tableheight=null;var d=this.that,e=!1,h=!1;null!=d.width&&-1!=d.width.toString().indexOf("px")?a=d.width:void 0==d.width||isNaN(d.width)||(a=d.width);null!=d.width&&-1!=d.width.toString().indexOf("%")&&(a=d.width,e=!0);d.scrollbarautoshow&&(d.vScrollBar[0].style.display="none",d.hScrollBar[0].style.display="none",d.vScrollBar[0].style.zIndex=d.tableZIndex+d.headerZIndex,d.hScrollBar[0].style.zIndex=d.tableZIndex+d.headerZIndex);if(d.autowidth){for(var l=a=0;l<d.columns.records.length;l++){var k=d.columns.records[l].width;"auto"==k&&(k=d._measureElementWidth(d.columns.records[l].text));a+=k}"hidden"!=d.vScrollBar.css("visibility")&&(a+=d.scrollbarsize+4);d.width=a}null!=d.height&&-1!=d.height.toString().indexOf("px")?b=d.height:void 0==d.height||isNaN(d.height)||(b=d.height);null!=d.height&&-1!=d.height.toString().indexOf("%")&&(b=d.height,h=!0);l=function(){var a=0,b=d.showheader?null!=d.columnsheader?d.columnsheader.height()+2:0:0,a=a+b;d.pageable&&(a+=d.pagerheight);d._groupsheader()&&(a+=d.groupsheaderheight);d.showtoolbar&&(a+=d.toolbarheight);d.showstatusbar&&(a+=d.statusbarheight);d.showeverpresentrow&&"bottom"===d.everpresentrowposition&&(a+=d.everpresentrowheight);"visible"==d.hScrollBar[0].style.visibility&&(a+=20);return a};d.autoheight&&d.virtualsizeinfo?d.pageable&&d.gotopage?(b=0+(d._pageviews[0]?d._pageviews[0].height:0),b+=l(),d.showemptyrow&&0==d.dataview.totalrecords&&(b+=d.rowsheight)):(b=d.host.height()-d._gettableheight(),0<d._pageviews.length?(b=b+d._pageviews[d._pageviews.length-1].height+d._pageviews[d._pageviews.length-1].top,d.vScrollBar[0].style.visibility="hidden"):(b=l(),d.showemptyrow&&(b+=d.rowsheight))):d.autoheight&&(b=d.dataview.totalrecords*d.rowsheight,d.pageable&&d.gotopage&&(b=d.pagesize*d.rowsheight),d._loading&&(b=250,d.dataloadelement.height(b)),b+=l(),1E4<b&&(b=1E4));null!=a?(a=parseInt(a),e?d.element.style.width=d.width:d.element.style.width!=parseInt(d.width)+"px"&&(d.element.style.width=parseInt(d.width)+"px"),e&&(a=d.host.width(),2>=a&&(a=600,d.host.width(a)),d._oldWidth||(d._oldWidth=a))):d.host.width(250);null!=b?(h||(b=parseInt(b)),h?d.element.style.height=d.height:d.element.style.height!=parseInt(b)+"px"&&(d.element.style.height=parseInt(b)+"px"),h&&!d.autoheight&&(b=d.host.height(),0==b&&(b=400,d.host.height(b)),d._oldHeight||(d._oldHeight=b))):d.host.height(250);d.autoheight&&(d.tableheight=null,d._gettableheight());e=0;d.showtoolbar?(d.toolbar.width(a),d.toolbar.height(d.toolbarheight-1),d.toolbar.css("top",0),e+=d.toolbarheight,b-=parseInt(d.toolbarheight)):d.toolbar[0].style.height="0px";d.showstatusbar?(d.showaggregates?d.statusbar.width(d.table?Math.max(a,d.table.width()):a):d.statusbar.width(a),d.statusbar.height(-1+d.statusbarheight)):d.statusbar[0].style.height="0px";d.showeverpresentrow&&"bottom"===d.everpresentrowposition?(d.addnewrow.width(a),d.addnewrow.height(d.everpresentrowheight)):d.addnewrow[0].style.height="0px";d._groupsheader()?(d.groupsheader.width(a),d.groupsheader.height(d.groupsheaderheight),d.groupsheader.css("top",e),h=d.groupsheader.height()+1,e+=h,b>h&&(b-=parseInt(h))):(d.groupsheader[0].style.width!=a+"px"&&(d.groupsheader[0].style.width=parseInt(a)+"px"),d.groupsheader[0].style.height="0px",d.groupsheader[0].style.top!=e+"px"&&d.groupsheader.css("top",e),h=d.showgroupsheader&&d.groupable?d.groupsheaderheight:0,d.content[0].style.top!=e+h+"px"&&d.content.css("top",e+d.groupsheaderheight));var m=d.scrollbarsize;isNaN(m)&&(m=parseInt(m),m=isNaN(m)?"17px":m+"px");m=parseInt(m);k=2;h=0;"visible"==d.vScrollBar[0].style.visibility&&(h=m+4);"visible"==d.hScrollBar[0].style.visibility&&(k=m+4+2);l=0;d.pageable&&(l=d.pagerheight,k+=d.pagerheight);d.showstatusbar&&(k+=d.statusbarheight,l+=d.statusbarheight);d.showeverpresentrow&&"bottom"===d.everpresentrowposition&&(k+=d.everpresentrowheight,l+=d.everpresentrowheight);d.hScrollBar[0].style.height!=m+"px"&&(d.hScrollBar[0].style.height=parseInt(m)+"px");d.hScrollBar[0].style.top==e+b-4-m-l+"px"&&"0px"==d.hScrollBar[0].style.left||d.hScrollBar.css({top:e+b-4-m-l+"px",left:"0px"});var n=d.hScrollBar[0].style.width,p=!1,q=!1;0==h?n!=a-2+"px"&&(d.hScrollBar.width(a-2),p=!0):n!=a-m-4+"px"&&(d.hScrollBar.width(a-m-4+"px"),p=!0);d.autoheight||(d.vScrollBar[0].style.width!=m+"px"&&(d.vScrollBar.width(m),q=!0),d.vScrollBar[0].style.height!=parseInt(b)-k+"px"&&(d.vScrollBar.height(parseInt(b)-k+"px"),q=!0),d.vScrollBar[0].style.left==parseInt(a)-parseInt(m)-4+"px"&&d.vScrollBar[0].style.top==e+"px"||d.vScrollBar.css({left:parseInt(a)-parseInt(m)-4+"px",top:e}));d.rtl&&(d.vScrollBar.css({left:"0px",top:e}),"hidden"!=d.vScrollBar.css("visibility")&&d.hScrollBar.css({left:m+2}));n=d.vScrollInstance;n.disabled=d.disabled;d.autoheight||q&&n.refresh();q=d.hScrollInstance;q.disabled=d.disabled;p&&q.refresh();d.autowidth&&(d.hScrollBar[0].style.visibility="hidden");d.statusbarheight=parseInt(d.statusbarheight);d.toolbarheight=parseInt(d.toolbarheight);p=function(a){if("visible"==a.vScrollBar[0].style.visibility&&"visible"==a.hScrollBar[0].style.visibility){a.bottomRight[0].style.visibility="visible";a.bottomRight.css({left:1+parseInt(a.vScrollBar.css("left")),top:parseInt(a.hScrollBar.css("top"))});a.rtl&&a.bottomRight.css("left","0px");a.bottomRight.width(parseInt(m)+3);a.bottomRight.height(parseInt(m)+4);var b=a.showeverpresentrow&&"bottom"==a.everpresentrowposition?a.everpresentrowheight:0;0<b&&!a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(m)+4+b),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-b}));a.showaggregates&&(a.bottomRight.css("z-index",99),a.bottomRight.height(parseInt(m)+4+a.statusbarheight+b),a.bottomRight.css({top:parseInt(a.hScrollBar.css("top"))-a.statusbarheight-b}))}else a.bottomRight[0].style.visibility="hidden"};p(this);d.content[0].style.width!=a-h+"px"&&d.content.width(a-h);d.content[0].style.height!=b-k+3+"px"&&d.content.height(b-k+3);d.scrollbarautoshow&&(d.content[0].style.width!=a+"px"&&d.content.width(a),d.content[0].style.height!=b+"px"&&d.content.height(b));d.content[0].style.top!=e+"px"&&d.content.css("top",e);d.rtl&&(d.content.css("left",h),d.scrollbarautoshow&&d.content.css("left","0px"),d.table&&(k=d.table.width(),k<a-h&&d.content.css("left",a-k)));d.showstatusbar&&(d.statusbar.css("top",e+b-d.statusbarheight-(d.pageable?d.pagerheight:0)),d.showaggregates&&("visible"==d.hScrollBar.css("visibility")&&(d.hScrollBar.css({top:e+b-4-m-l+d.statusbarheight+"px"}),d.statusbar.css("top",1+e+b-m-5-d.statusbarheight-(d.pageable?d.pagerheight:0))),p(this)),d.rtl&&("visible"!=d.hScrollBar.css("visibility")?d.statusbar.css("left",d.content.css("left")):d.statusbar.css("left","0px")));d.showeverpresentrow&&"bottom"===d.everpresentrowposition&&(d.addnewrow.css("top",e+b-(d.showstatusbar?d.statusbarheight:0)-(d.pageable?d.pagerheight:0)-d.everpresentrowheight),d.rtl&&("visible"!=d.hScrollBar.css("visibility")?d.addnewrow.css("left",d.content.css("left")):d.addnewrow.css("left","0px")));d.pageable?(d.pager.width(a),d.pager.height(d.pagerheight),d.pager.css("top",e+b-d.pagerheight-1)):d.pager[0].style.height="0px";null!=d.table&&(e=-2,"visible"==d.vScrollBar[0].style.visibility&&(e=d.scrollbarsize+3),"visible"==d.hScrollBar[0].style.visibility&&(e=e+d.table.width()-d.host.width(),0<=e&&d.hScrollBar.jqxScrollBar("max",e),"visible"==d.hScrollBar[0].style.visibility&&0==e&&(d.hScrollBar[0].style.visibility="hidden",d._arrange())));a!=parseInt(d.dataloadelement[0].style.width)&&(d.dataloadelement[0].style.width=d.element.style.width);b!=parseInt(d.dataloadelement[0].style.height)&&(d.dataloadelement[0].style.height=d.element.style.height);d._hostwidth=a},destroy:function(){delete e.jqx.dataFormat.datescache;delete this.gridlocalization;e.jqx.utilities.resize(this.host,null,!0);if(this.table&&this.table[0]){for(var a=this.table[0].rows.length,b=0;b<a;b++){for(var d=this.table[0].rows[b],g=d.cells.length,h=0;h<g;h++)e(d.cells[h]).remove(),d.cells[h]=null,delete d.cells[h];d.cells=null;d.cells&&delete d.cells;e(this.table[0].rows[b]).remove();this.table[0].rows[b]=null}try{delete this.table[0].rows}catch(l){}this.table.remove();delete this.table}if(this.columns&&this.columns.records){for(b=0;b<this.columns.records.length;b++)a=this.columns.records[b],a.addnewrowwidget&&a.destroyeverpresentrowwidget&&a.destroyeverpresentrowwidget(a.addnewrowwidget),this._removecolumnhandlers(this.columns.records[b]),a.element&&(e(a.element).remove(),e(a.sortasc).remove(),e(a.sortdesc).remove(),e(a.filtericon).remove(),e(a.menu).remove(),a.element=null,a.uielement=null,a.sortasc=null,a.sortdesc=null,a.filtericon=null,a.menu=null,delete a.element,delete a.uielement,delete a.sortasc,delete a.sortdesc,delete a.filtericon,delete a.menu,delete this.columnsrow[0].cells[b]);try{delete this.columnsrow[0].cells}catch(l){}delete this.columnsrow}e.removeData(document.body,"contextmenu"+this.element.id);this.host.jqxDropDownList&&this._destroyfilterpanel&&this._destroyfilterpanel();this.editable&&this._destroyeditors&&this._destroyeditors();this.filterable&&this._destroyedfilters&&this.showfilterrow&&this._destroyedfilters();this.host.jqxMenu&&this.gridmenu&&(this.removeHandler(e(document),"click.menu"+this.element.id),this.removeHandler(this.gridmenu,"keydown"),this.removeHandler(this.gridmenu,"closed"),this.removeHandler(this.gridmenu,"itemclick"),this.gridmenu.jqxMenu("destroy"),this.gridmenu=null);this.pagershowrowscombo&&(this.pagershowrowscombo.jqxDropDownList("destroy"),this.pagershowrowscombo=null);this.pagerrightbutton&&(this.removeHandler(this.pagerrightbutton,"mousedown"),this.removeHandler(this.pagerrightbutton,"mouseup"),this.removeHandler(this.pagerrightbutton,"click"),this.pagerrightbutton.jqxButton("destroy"),this.pagerrightbutton=null);this.pagerleftbutton&&(this.removeHandler(this.pagerleftbutton,"mousedown"),this.removeHandler(this.pagerleftbutton,"mouseup"),this.removeHandler(this.pagerleftbutton,"click"),this.pagerleftbutton.jqxButton("destroy"),this.removeHandler(e(document),"mouseup.pagerbuttons"+this.element.id),this.pagerleftbutton=null);this.removeHandler(e(document),"selectstart."+this.element.id);this.removeHandler(e(document),"mousedown.resize"+this.element.id);this.removeHandler(e(document),"mouseup.resize"+this.element.id);this.removeHandler(e(document),"mousemove.resize"+this.element.id);this.isTouchDevice()&&(b=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id,this.removeHandler(e(document),b),this.removeHandler(e(document),a),this.removeHandler(e(document),d));this.removeHandler(e(document),"mousedown.reorder"+this.element.id);this.removeHandler(e(document),"mouseup.reorder"+this.element.id);this.removeHandler(e(document),"mousemove.reorder"+this.element.id);this.isTouchDevice()&&(b=e.jqx.mobile.getTouchEventName("touchmove")+".reorder"+this.element.id,a=e.jqx.mobile.getTouchEventName("touchstart")+".reorder"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".reorder"+this.element.id,this.removeHandler(e(document),b),this.removeHandler(e(document),a),this.removeHandler(e(document),d));this.removeHandler(e(window),"resize."+this.element.id);this.groupable&&(b="mousemove.grouping"+this.element.id,a="mousedown.grouping"+this.element.id,d="mouseup.grouping"+this.element.id,this.removeHandler(e(document),b),this.removeHandler(e(document),a),this.removeHandler(e(document),d));this.columnsreorder&&(b="mousemove.reorder"+this.element.id,a="mousedown.reorder"+this.element.id,d="mouseup.reorder"+this.element.id,this.removeHandler(e(document),b),this.removeHandler(e(document),a),this.removeHandler(e(document),d),delete this.columnsbounds);this.content&&(this.removeHandler(this.content,"mousedown"),this.removeHandler(this.content,"scroll"));this._removeHandlers();this.hScrollInstance.destroy();this.vScrollInstance.destroy();this.hScrollBar.remove();this.vScrollBar.remove();this._clearcaches();delete this.hScrollInstance;delete this.vScrollInstance;delete this.visiblerows;delete this.hittestinfo;delete this.rows;delete this.columns;delete this.columnsbydatafield;delete this.pagescache;delete this.pageviews;delete this.cellscache;delete this.heights;delete this.hiddens;delete this.hiddenboundrows;delete this.heightboundrows;delete this.detailboundrows;delete this.details;delete this.expandedgroups;delete this._rowdetailscache;delete this._rowdetailselementscache;delete this.columnsmenu;this.columnsheader&&(this.columnsheader.remove(),delete this.columnsheader);this.selectionarea&&(this.selectionarea.remove(),delete this.selectionarea);if(this.menuitemsarray&&this.menuitemsarray.length)for(a=this.menuitemsarray.length,b=0;b<a;b++)e(this.menuitemsarray[b]).remove();delete this.menuitemsarray;this.dataview._clearcaches();this.content.removeClass();this.content.remove();this.content=null;delete this.content;this.hScrollBar=this.vScrollBar=null;delete this.hScrollBar;delete this.hScrollBar;this.gridcontent&&(this.gridcontent.remove(),delete this.gridcontent);this.gridmenu&&(this.gridmenu=null,delete this.gridmenu);delete this._mousemovefunc;delete this._mousewheelfunc;this.dataview.destroy();delete this.dataview;this.bottomRight.remove();delete this.bottomRight;this.wrapper.remove();delete this.wrapper;this.pagerdiv&&(this.pagerdiv.remove(),delete this.pagerdiv);this.pagerpageinput&&(this.pagerpageinput.remove(),delete this.pagerpageinput);this.pagergoto&&(this.pagergoto.remove(),delete this.pagergoto);this.pagershowrows&&(this.pagershowrows.remove(),delete this.pagershowrows);this.pagerfirstbutton&&(this.pagerfirstbutton.remove(),delete this.pagerfirstbutton);this.pagerlastbutton&&(this.pagerlastbutton.remove(),delete this.pagerlastbutton);this.pagerbuttons&&(this.pagerbuttons.remove(),delete this.pagerbuttons);this.pagerdetails&&(this.pagerdetails.remove(),delete this.pagerdetails);this.pagergotoinput&&(this.pagergotoinput.remove(),delete this.pagergotoinput);this.pager.remove();delete this.pager;this.groupsheader.remove();delete this.groupsheader;this.dataloadelement.remove();delete this.dataloadelement;this.toolbar.remove();delete this.toolbar;this.statusbar.remove();delete this.statusbar;this.host.removeData();this.host.removeClass();this.host.remove();this.host=null;delete this.host;delete this.element;delete this.set;delete this.get;delete this.that;delete this.call},_initializeColumns:function(){var b=this.source?this.source.datafields:null;null==b&&this.source&&this.source._source&&(b=this.source._source.datafields);var f=b?0<b.length:!1;if(this.autogeneratecolumns){var d=[];if(b)e.each(b,function(){d.push({datafield:this.name,text:this.text||this.name,cellsformat:this.format||""})});else if(0<this.source.records.length)for(obj in b=this.source.records[0],b)"uid"!=obj&&(b={width:100,datafield:obj,text:obj},d.push(b));this.columns=d}if(this.columns&&this.columns.records)for(b=0;b<this.columns.records.length;b++)this._removecolumnhandlers(this.columns.records[b]);var g=this.that,h=new e.jqx.collection(this.element),l=0;this._haspinned=!1;this._columns?this.columns=this._columns:this._columns=this.columns;this.groupable&&e.each(this.groups,function(b){b=new a(g,this);b.visibleindex=l++;b.width=g.groupindentwidth;h.add(b);b.grouped=!0;b.filterable=!1;b.sortable=!1;b.editable=!1;b.resizable=!1;b.draggable=!1});this.rowdetails&&this.showrowdetailscolumn&&(b=new a(g,this),b.visibleindex=l++,b.width=g.groupindentwidth,b.pinned=!0,b.editable=!1,b.filterable=!1,b.draggable=!1,b.groupable=!1,b.resizable=!1,h.add(b),g._haspinned=!0);"checkbox"==this.selectionmode&&(b=new a(g,null),b.visibleindex=l++,b.width=g.groupindentwidth,b.checkboxcolumn=!0,b.editable=!1,b.columntype="checkbox",b.groupable=!1,b.draggable=!1,b.filterable=!1,b.resizable=!1,b.datafield="_checkboxcolumn",h.add(b));var k=[];e.each(this.columns,function(b){if(void 0!=g.columns[b]){var c=new a(g,this);c.visibleindex=l++;void 0!=this.dataField&&(this.datafield=this.dataField);this.pinned&&(g._haspinned=!0);!g.showeverpresentrow||"addButtonColumn"!==this.datafield&&"resetButtonColumn"!==this.datafield&&"updateButtonColumn"!==this.datafield&&"deleteButtonColumn"!==this.datafield||(c.editable=!1,c.groupable=!1,c.draggable=!1,c.filterable=!1,c.resizable=!1,c.menu=!1);if(null==this.datafield)g.source&&g.source._source&&"array"==g.source._source.datatype&&(f||(g.source._source.datafields||(g.source._source.datafields=[]),g.source._source.datafields.push({name:b.toString()})),this.datafield=b.toString(),this.displayfield=b.toString(),c.datafield=this.datafield,c.displayfield=this.displayfield);else{if(k[this.datafield])throw Error("jqxGrid: Invalid column 'datafield' setting. jqxGrid's columns should be initialized with unique data fields.");k[this.datafield]=!0}h.add(c)}});this.rtl&&h.records.reverse();this.columns=h},_initializeRows:function(){var a=new e.jqx.collection(this.element);this.rows&&this.rows.clear();this.rows=a},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});if(!1!==this._trigger){var d=this.events[a];this._camelCase||(d=d.toLowerCase());if((2==a||15==a)&&this.showeverpresentrow&&(0<=this.everpresentrowactions.indexOf("delete")||0<=this.everpresentrowactions.indexOf("update"))){if(this.updateeverpresentrow)var g=this;setTimeout(function(){g.updateeverpresentrow()},50)}args=b;args.owner=this;d=new e.Event(d);d.owner=this;d.args=args;var h=this.host.trigger(d);b=d.args;return h}},wheel:function(a,b){if(b.autoheight&&"visible"!=b.hScrollBar.css("visibility"))return a.returnValue=!0;var d=0;a||(a=window.event);a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta);a.wheelDelta?d=a.wheelDelta/120:a.detail&&(d=-a.detail/3);if(d){if(d=b._handleDelta(d))a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation();return d?(d=!1,a.returnValue=d):!1}a.preventDefault&&a.preventDefault();a.returnValue=!1},_handleDelta:function(a){if("hidden"!=this.vScrollBar.css("visibility")){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();a=this.vScrollInstance.value;if(b!=a)return!0}else if("hidden"!=this.hScrollBar.css("visibility")&&(b=this.hScrollInstance.value,0<a?this.hScrollInstance.value>2*this.horizontalscrollbarstep?this.hScrollInstance.setPosition(this.hScrollInstance.value-2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(0):this.hScrollInstance.value<this.hScrollInstance.max?this.hScrollInstance.setPosition(this.hScrollInstance.value+2*this.horizontalscrollbarstep):this.hScrollInstance.setPosition(this.hScrollInstance.max),a=this.hScrollInstance.value,b!=a))return!0;return!1},scrollDown:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value+this.rowsheight<=a.max?a.setPosition(parseInt(a.value)+this.rowsheight):a.setPosition(a.max)}},scrollUp:function(){if("hidden"!=this.vScrollBar.css("visibility")){var a=this.vScrollInstance;a.value-this.rowsheight>=a.min?a.setPosition(parseInt(a.value)-this.rowsheight):a.setPosition(a.min)}},_removeHandlers:function(){var a=this.that;a.removeHandler(e(window),"orientationchange.jqxgrid"+a.element.id);a.removeHandler(e(window),"orientationchanged.jqxgrid"+a.element.id);a.removeHandler(a.vScrollBar,"valueChanged");a.removeHandler(a.hScrollBar,"valueChanged");a.vScrollInstance.valueChanged=null;a.hScrollInstance.valueChanged=null;var b="mousedown.jqxgrid";a.isTouchDevice()&&(b=e.jqx.mobile.getTouchEventName("touchend"));a.removeHandler(a.host,"dblclick.jqxgrid");a.removeHandler(a.host,b);a.removeHandler(a.content,"mousemove",a._mousemovefunc);a.removeHandler(a.host,"mouseleave.jqxgrid");a.removeHandler(a.content,"mouseenter");a.removeHandler(a.content,"mouseleave");a.removeHandler(a.content,"mousedown");a.removeHandler(a.content,"scroll");a.removeHandler(a.content,"selectstart."+a.element.id);a.removeHandler(a.host,"dragstart."+a.element.id);a.removeHandler(a.host,"keydown.edit"+a.element.id);a.removeHandler(e(document),"keydown.edit"+a.element.id);a.removeHandler(e(document),"keyup.edit"+a.element.id);a._mousemovedocumentfunc&&a.removeHandler(e(document),"mousemove.selection"+a.element.id,a._mousemovedocumentfunc);a.removeHandler(e(document),"mouseup.selection"+a.element.id);a._mousewheelfunc&&a.removeHandler(a.host,"mousewheel",a._mousewheelfunc);a.editable&&a.removeHandler(e(document),"mousedown.gridedit"+a.element.id);a.host.off&&(a.content.off("mousemove"),a.host.off("mousewheel"))},_addHandlers:function(){var a=this.that,b=a.isTouchDevice();b||a.addHandler(a.host,"dragstart."+a.element.id,function(a){return!1});a.scrollbarautoshow&&(a.addHandler(a.host,"mouseenter.gridscroll"+a.element.id,function(b){a.vScrollBar.fadeIn("fast");a.hScrollBar.fadeIn("fast")}),a.addHandler(a.host,"mouseleave.gridscroll"+a.element.id,function(b){a.vScrollInstance.isScrolling()||a.hScrollInstance.isScrolling()||(a.vScrollBar.fadeOut("fast"),a.hScrollBar.fadeOut("fast"))}));a.editable&&a.addHandler(e(document),"mousedown.gridedit"+a.element.id,function(b){if(a.editable&&a.begincelledit&&a.editcell&&!a.vScrollInstance.isScrolling()&&!a.vScrollInstance.isScrolling()){var d=a.host.coord(),f=a.host.width(),e=a.host.height(),m=!1,n=!1;if(b.pageY<d.top||b.pageY>d.top+e)n=m=!0;if(b.pageX<d.left||b.pageX>d.left+f)m=!0;if(m){if(a.editcell&&a.editcell.editor)switch(a.editcell.columntype){case "datetimeinput":if(a.editcell.editor.jqxDateTimeInput&&a.editcell.editor.jqxDateTimeInput("container")&&"block"==a.editcell.editor.jqxDateTimeInput("container")[0].style.display)if(d=a.editcell.editor.jqxDateTimeInput("container").coord().top,f=a.editcell.editor.jqxDateTimeInput("container").coord().top+a.editcell.editor.jqxDateTimeInput("container").height(),n&&(b.pageY<d||b.pageY>f))a.editcell.editor.jqxDateTimeInput("close");else return;break;case "combobox":if(a.editcell.editor.jqxComboBox&&a.editcell.editor.jqxComboBox("container")&&"block"==a.editcell.editor.jqxComboBox("container")[0].style.display)if(d=a.editcell.editor.jqxComboBox("container").coord().top,f=a.editcell.editor.jqxComboBox("container").coord().top+a.editcell.editor.jqxComboBox("container").height(),n&&(b.pageY<d||b.pageY>f))a.editcell.editor.jqxComboBox("close");else return;break;case "dropdownlist":if(a.editcell.editor.jqxDropDownList&&a.editcell.editor.jqxDropDownList("container")&&"block"==a.editcell.editor.jqxDropDownList("container")[0].style.display)if(d=a.editcell.editor.jqxDropDownList("container").coord().top,f=a.editcell.editor.jqxDropDownList("container").coord().top+a.editcell.editor.jqxDropDownList("container").height(),n&&(b.pageY<d||b.pageY>f))a.editcell.editor.jqxDropDownList("close");else return;break;case "template":case "custom":for(d=["jqxDropDownList","jqxComboBox","jqxDropDownButton","jqxDateTimeInput"],f=0;f<d.length;f++){e=d[f];m=a.editcell.editor.data();if(m[e]&&m[e].instance.container&&"block"==m[e].instance.container[0].style.display){var e=m[e].instance,m=e.container.coord().top,p=e.container.coord().top+e.container.height();n&&(b.pageY<m||b.pageY>p)?(e.close(),e=!0):e=!1}else e=void 0;if(0==e)return}}a.endcelledit(a.editcell.row,a.editcell.column,!1,!0);a._oldselectedcell=null}}});a.vScrollInstance.valueChanged=function(d){a.virtualsizeinfo&&(a._closemenu(),a._renderrows(a.virtualsizeinfo),a.currentScrollValue=d.currentValue,a.pageable||a.groupable||!a.dataview.virtualmode||(a.loadondemandupdate&&clearTimeout(a.loadondemandupdate),a.loadondemandupdate=setTimeout(function(){a.loadondemand=!0;a._renderrows(a.virtualsizeinfo)},100)),b&&(a._lastScroll=new Date))};a.hScrollInstance.valueChanged=function(d){if(a.virtualsizeinfo){a._closemenu();var h=function(){a._renderhorizontalscroll();a._renderrows(a.virtualsizeinfo);a.editcell&&!a.editrow&&a._showcelleditor&&a.editcell.editing&&(a.hScrollInstance.isScrolling()||a._showcelleditor(a.editcell.row,a.getcolumn(a.editcell.column),a.editcell.element,a.editcell.init))};void 0==a._browser&&a._isIE10();navigator&&-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")?(a._hScrollTimer&&clearTimeout(a._hScrollTimer),a._hScrollTimer=setTimeout(function(){h()},1)):e.jqx.browser.msie?(a._hScrollTimer&&clearTimeout(a._hScrollTimer),a._hScrollTimer=setTimeout(function(){h()},.01)):h();b&&(a._lastScroll=new Date)}};a._mousewheelfunc=a._mousewheelfunc||function(b){if(!a.editcell&&a.enablemousewheel)return a.wheel(b,a),!1};a.removeHandler(a.host,"mousewheel",a._mousewheelfunc);a.addHandler(a.host,"mousewheel",a._mousewheelfunc);var d="mousedown.jqxgrid";b&&(d=e.jqx.mobile.getTouchEventName("touchend"));a.addHandler(a.host,d,function(b){if(a.isTouchDevice()&&(a._newScroll=new Date,500>a._newScroll-a._lastScroll||e(b.target).ischildof(a.vScrollBar)||e(b.target).ischildof(a.hScrollBar)))return!1;a._mousedown=new Date;var d=a._handlemousedown(b,a);a.isNestedGrid&&(a.resizablecolumn||a.columnsreorder||b.stopPropagation());a._lastmousedown=new Date;return d});b||(a.addHandler(a.host,"dblclick.jqxgrid",function(b){a.editable&&a.begincelledit&&"dblclick"==a.editmode?a._handledblclick(b,a):e.jqx.browser.msie&&9>e.jqx.browser.version&&a._handlemousedown(b,a);a.mousecaptured=!1;a._lastmousedown=new Date;return!0}),a._mousemovefunc=function(b){if(a._handlemousemove)return a._handlemousemove(b,a)},a.addHandler(a.content,"mousemove",a._mousemovefunc),a._handlemousemoveselection&&(a._mousemovedocumentfunc=function(b){if(a._handlemousemoveselection)return a._handlemousemoveselection(b,a)},a.addHandler(e(document),"mousemove.selection"+a.element.id,a._mousemovedocumentfunc)),a.addHandler(e(document),"mouseup.selection"+a.element.id,function(b){a._handlemouseupselection&&a._handlemouseupselection(b,a)}));try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(d=null,window.parent&&document.referrer&&(d=document.referrer),d&&-1!=d.indexOf(document.location.host)&&(d=function(b){if(a._handlemouseupselection)try{a._handlemouseupselection(b,a)}catch(d){}},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",d,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",d)))}catch(g){}a.focused=!1;b||(a.addHandler(a.content,"mouseenter",function(b){a.focused=!0;a.wrapper&&(a.wrapper.attr("tabindex",1),a.content.attr("tabindex",2));a._overlayElement&&(a.vScrollInstance.isScrolling()||a.hScrollInstance.isScrolling()?a._overlayElement[0].style.visibility="visible":a._overlayElement[0].style.visibility="hidden")}),a.addHandler(a.content,"mouseleave",function(b){a._handlemousemove&&a.enablehover&&a._clearhoverstyle();a._overlayElement&&(a._overlayElement[0].style.visibility="hidden");a.focused=!1}),(a.groupable||a.columnsreorder)&&a.addHandler(e(document),"selectstart."+a.element.id,function(b){if(!0===a.__drag)return!1}),a.addHandler(a.content,"selectstart."+a.element.id,function(b){if(a.enablebrowserselection||a.showfilterrow&&e(b.target).ischildof(a.filterrow)||a.showeverpresentrow&&(e(b.target).ischildof(a.addnewrow)||a.addnewrowtop&&e(b.target).ischildof(a.addnewrowtop)))return!0;if(!a.editcell)return!1;b.stopPropagation&&b.stopPropagation()}),a.addHandler(e(document),"keyup.edit"+a.element.id,function(b){a._keydown=!1}),a.addHandler(e(document),"keydown.edit"+a.element.id,function(b){a._keydown=!a.editcell;var d=b.charCode?b.charCode:b.keyCode?b.keyCode:0;if(a.handlekeyboardnavigation&&1==a.handlekeyboardnavigation(b))return!1;a.editable&&a.editcell&&(13==d||27==d)&&a._handleeditkeydown&&(f=a._handleeditkeydown(b,a));27==d&&(a.mousecaptured=!1,"visible"==a.selectionarea.css("visibility")&&a.selectionarea.css("visibility","hidden"));if(e.jqx.browser.msie&&12>e.jqx.browser.version&&a.focused&&!a.isNestedGrid){if(13==d&&0==f)return f;var f=!0;!a.editcell&&a.editable&&"programmatic"!=a.editmode&&a._handleeditkeydown&&(f=a._handleeditkeydown(b,a));if(f&&a.keyboardnavigation&&a._handlekeydown)return f=a._handlekeydown(b,a),f||(b.preventDefault&&b.preventDefault(),void 0!=b.stopPropagation&&b.stopPropagation()),f}return!0}),a.addHandler(a.host,"keydown.edit"+a.element.id,function(b){var d=!0;if(a.handlekeyboardnavigation&&1==a.handlekeyboardnavigation(b))return!1;a.editable&&"programmatic"!=a.editmode&&a._handleeditkeydown&&(d=a._handleeditkeydown(b,a),a.isNestedGrid&&b.stopPropagation());e.jqx.browser.msie&&8>e.jqx.browser.version?a.isNestedGrid&&d&&a.keyboardnavigation&&a._handlekeydown&&(d=a._handlekeydown(b,a),b.stopPropagation()):d&&a.keyboardnavigation&&a._handlekeydown&&(d=a._handlekeydown(b,a),a.isNestedGrid&&b.stopPropagation());d||(b.preventDefault&&b.preventDefault(),void 0!=b.stopPropagation&&b.stopPropagation());return d}))},_hittestrow:function(a,b){if(null!=this.vScrollInstance&&null!=this.hScrollInstance){void 0==b&&0==b;var d=this.hScrollInstance,g=this.vScrollInstance.value;"visible"!=this.vScrollBar.css("visibility")&&(g=0);d=d.value;"visible"!=this.hScrollBar.css("visibility")&&(d=0);"deferred"==this.scrollmode&&null!=this._newmax&&g>this._newmax&&(g=this._newmax);var h=parseInt(g)+b;parseInt(d);if(null!=this.visiblerows&&0!=this.visiblerows.length){g=!1;d=this._findvisiblerow(h,this.visiblerows);if(0<=d){var l=this.visiblerows[d],h=!l.rowdetailshidden;if(this.rowdetails&&l.rowdetails){var k=this.visiblerows[d-1];k==l&&(l=k,d--);h&&(h=e(this.hittestinfo[d].visualrow).position().top+parseInt(this.table.css("top")),k=e(this.hittestinfo[d].visualrow).height(),b>=h&&b<=h+k||(d++,l=this.visiblerows[d],g=!0))}}return{index:d,row:l,details:g}}}},getcellatposition:function(a,b){var d=this.that,g=this.showheader?this.columnsheader.height()+2:0,h=this._groupsheader()?this.groupsheader.height():0,h=h+(this.showtoolbar?this.toolbarheight:0),l=this.host.coord();this.hasTransform&&(l=e.jqx.utilities.getOffset(this.host));var k=a-l.left,m=b-g-l.top-h,h=this._hittestrow(k,m),g=h.row,h=this.table[0].rows[h.index];if(this.dataview&&0==this.dataview.records.length){for(var g=this.table[0].rows,n=0,l=0;l<g.length;l++){if(m>=n&&m<n+this.rowsheight){h=g[l];break}n+=this.rowsheight}g={boundindex:l}}if(null==h)return!0;m=this.hScrollInstance.value;for(l=n=0;l<h.cells.length;l++){var p=parseInt(e(this.columnsrow[0].cells[l]).css("left"));a=p-m;d.columns.records[l].pinned&&(a=p);if(!d.columns.records[l].hidden&&a+e(this.columnsrow[0].cells[l]).width()>=k&&k>=a){n=l;break}}return null!=g?(d=this._getcolumnat(n),{row:this.getboundindex(g),column:d.datafield,value:this.getcellvalue(this.getboundindex(g),d.datafield)}):null},_handlemousedown:function(a,b){if(null==a.target||b.disabled||e(a.target).ischildof(this.columnsheader)||e(a.target).ischildof(this.hScrollBar)||e(a.target).ischildof(this.vScrollBar))return!0;var d;a.which?d=3==a.which:a.button&&(d=2==a.button);var g;a.which?g=2==a.which:a.button&&(g=1==a.button);if(g||this.showstatusbar&&(e(a.target).ischildof(this.statusbar)||a.target==this.statusbar[0])||this.showtoolbar&&(e(a.target).ischildof(this.toolbar)||a.target==this.toolbar[0])||this.pageable&&(e(a.target).ischildof(this.pager)||a.target==this.pager[0])||!this.columnsheader||!this.editcell&&this.pageable&&e(a.target).ischildof(this.pager))return!0;g=this.showheader?this.columnsheader.height()+2:0;var h=this._groupsheader()?this.groupsheader.height():0,h=h+(this.showtoolbar?this.toolbarheight:0),l=this.host.coord();if(this.hasTransform){var l=e.jqx.utilities.getOffset(this.host),k=this._getBodyOffset();l.left-=k.left;l.top-=k.top}var m=parseInt(a.pageX),n=parseInt(a.pageY);this.isTouchDevice()&&(k=b.getTouches(a)[0],m=parseInt(k.pageX),n=parseInt(k.pageY),1==b.touchmode&&void 0!=k._pageX&&(m=parseInt(k._pageX),n=parseInt(k._pageY)));k=m-l.left;m=n-g-l.top-h;if(this.pageable&&!this.autoheight&&this.gotopage&&(g=this.pager.coord().top-l.top-h-g,m>g))return;if((l=this._hittestrow(k,m))&&!l.details){g=l.row;var p=l.index,n=a.target.className,q=this.table[0].rows[p];if(null==q)return b.editable&&b.begincelledit&&b.editcell&&b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),!0;b.mousecaptured=!0;b.mousecaptureposition={left:a.pageX,top:a.pageY-h,clickedrow:q};var m=this.hScrollInstance,r=m.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(r=m.max-m.value);var t=-1,v=this.groupable?this.groups.length:0;this.rtl&&("hidden"!=this.vScrollBar[0].style.visibility&&(r-=this.scrollbarsize+4),"hidden"==this.hScrollBar[0].style.visibility&&(r=-parseInt(this.content.css("left"))));for(var u=0;u<q.cells.length;u++)if(h=parseInt(e(this.columnsrow[0].cells[u]).css("left")),m=h-r,b.columns.records[u].pinned&&!b.rtl&&(m=h),h=this._getcolumnat(u),null==h||!h.hidden)if(h=m+e(this.columnsrow[0].cells[u]).width(),h>=k&&k>=m){t=u;b.mousecaptureposition.clickedcell=u;break}if(this.rtl&&this._haspinned)for(u=q.cells.length-1;0<=u&&b.columns.records[u].pinned;u--)if(m=h=e(this.columnsrow[0].cells[u]).coord().left-this.host.coord().left,h=this._getcolumnat(u),null==h||!h.hidden)if(h=m+e(this.columnsrow[0].cells[u]).width(),h>=k&&k>=m){t=u;b.mousecaptureposition.clickedcell=u;break}if(null!=g&&0<=t){this._raiseEvent(1,{rowindex:this.getboundindex(g),visibleindex:g.visibleindex,row:g,group:g.group,rightclick:d,originalEvent:a});h=this._getcolumnat(t);k=this.getcellvalue(this.getboundindex(g),h.datafield);this.editable&&this.editcell&&h.datafield==this.editcell.column&&this.getboundindex(g)==this.editcell.row&&(this.mousecaptured=!1);this._raiseEvent(8,{rowindex:this.getboundindex(g),column:h?h.getcolumnproperties():null,row:g,visibleindex:g.visibleindex,datafield:h?h.datafield:null,columnindex:t,value:k,rightclick:d,originalEvent:a});if(this.isTouchDevice())if("checkbox"==h.columntype&&this.editable&&this._overlayElement){if(!this.editcell)return this._overlayElement.css("visibility","hidden"),this.editcell=this.getcell(p,h.datafield),!0}else if("button"==h.columntype&&this._overlayElement)return h.buttonclick&&h.buttonclick(q.cells[t].buttonrow,a),!0;m=!1;if(null!=this._lastmousedown&&300>this._mousedown-this._lastmousedown&&this._clickedrowindex==this.getboundindex(g)&&(this._raiseEvent(22,{rowindex:this.getboundindex(g),row:g,visibleindex:g.visibleindex,group:g.group,rightclick:d,originalEvent:a}),this._clickedcolumn==h.datafield&&this._raiseEvent(23,{rowindex:this.getboundindex(g),row:g,visibleindex:g.visibleindex,column:h?h.getcolumnproperties():null,datafield:h?h.datafield:null,columnindex:t,value:k,rightclick:d,originalEvent:a}),m=!0,this._clickedrowindex=-1,this._clickedcolumn=null,a.isPropagationStopped&&a.isPropagationStopped()))return!1;if(d)return!0;m||(this._clickedrowindex=this.getboundindex(g),this._clickedcolumn=h.datafield);d=e.jqx.utilities.getBrowser();"msie"==d.browser&&7>=parseInt(d.version)&&(0==t&&this.rowdetails&&(n="jqx-grid-group-collapse"),0<v&&t<=v&&(n="jqx-grid-group-collapse"));if(-1!=n.indexOf("jqx-grid-group-expand")||-1!=n.indexOf("jqx-grid-group-collapse"))this.rtl?0<v&&t>q.cells.length-v-1&&this._togglegroupstate?this._togglegroupstate(g.bounddata,!0):t==q.cells.length-1-v&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(g.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0):0<v&&t<v&&this._togglegroupstate?this._togglegroupstate(g.bounddata,!0):t==v&&this.rowdetails&&this.showrowdetailscolumn&&(this._togglerowdetails(g.bounddata,!0),this.gridcontent[0].scrollTop=0,this.gridcontent[0].scrollLeft=0);else if(-1!=g.boundindex){k=this.selectedrowindexes.slice(0);d=!1;if("none"!=b.selectionmode&&"checkbox"!=b.selectionmode&&this._selectrowwithmouse){"multiplecellsadvanced"!=b.selectionmode&&"multiplecellsextended"!=b.selectionmode&&"multiplerowsextended"!=b.selectionmode&&"multiplerowsadvanced"!=b.selectionmode||a.ctrlKey||a.shiftKey||a.metaKey||(b.selectedrowindexes=[],b.selectedcells=[]);var w=!1,x=this.getboundindex(g);if(b._oldselectedrow===x||"none"===b.selectionmode)w=!0;if(-1==b.selectionmode.indexOf("cell")){if("singlerow"!=b.selectionmode||b.selectedrowindex!=x&&"singlerow"==b.selectionmode)this._applyrowselection(x,!0,!1,null,h.datafield),this._selectrowwithmouse(b,l,k,h.datafield,a.ctrlKey||a.metaKey,a.shiftKey)}else null!=h.datafield&&(this._selectrowwithmouse(b,l,k,h.datafield,a.ctrlKey||a.metaKey,a.shiftKey),a.shiftKey||this._applycellselection(x,h.datafield,!0,!1));b._oldselectedcell&&b._oldselectedcell.datafield==b.selectedcell.datafield&&b._oldselectedcell.rowindex==b.selectedcell.rowindex&&(d=!0);b._oldselectedcell=b.selectedcell;b._oldselectedrow=x}b.autosavestate&&b.savestate&&b.savestate();if(b.editable&&b.begincelledit&&"programmatic"!=b.editmode){if(a.isPropagationStopped&&a.isPropagationStopped())return!1;"selectedrow"==b.editmode?w&&!b.editcell?"checkbox"!==h.columntype&&b.beginrowedit(this.getboundindex(g)):b.editcell&&!w&&"none"!=b.selectionmode&&b.endrowedit(b.editcell.row):(w="click"==b.editmode||d&&"selectedcell"==b.editmode,-1==b.selectionmode.indexOf("cell")&&"dblclick"!=b.editmode&&(w=!0),w&&void 0!=g.boundindex&&h.editable&&(b.begincelledit(this.getboundindex(g),h.datafield,h.defaulteditorvalue),-1!=b.selectionmode.indexOf("cell")&&b._applycellselection(x,h.datafield,!1,!1)),-1!=b.selectionmode.indexOf("cell")&&"selectedcell"==b.editmode&&!d&&b.editcell&&b.endcelledit(b.editcell.row,b.editcell.column,!1,!0))}}}return!0}},_columnPropertyChanged:function(a,b,d,e){},_rowPropertyChanged:function(a,b,d,e){},_serializeObject:function(a){if(null==a)return"";var b="";e.each(a,function(a){0<a&&(b+=", ");b+="[";a=0;for(obj in this)0<a&&(b+=", "),b+="{"+obj+":"+this[obj]+"}",a++;b+="]"});return b},isbindingcompleted:function(){return!this._loading},propertyChangedHandler:function(a,b,d,g){if(void 0!=this.isInitialized&&0!=this.isInitialized)switch(b=b.toLowerCase(),b){case "editable":a.refresh();break;case "everpresentrowactionsmode":d!=g&&(a._removeaddnewrow(),a.render());break;case "everpresentrowactions":a._updateaddnewrowui();break;case "showeverpresentrow":case "everpresentrowposition":case "everpresentrowheight":d!=g&&(a._removeaddnewrow(),a.render());break;case "rtl":a.content.css("left","");a.columns=a._columns;a._filterrowcache=[];a.vScrollBar.jqxScrollBar({rtl:g});a.hScrollBar.jqxScrollBar({rtl:g});a._initpager&&a._initpager();a._initgroupsheader&&a._initgroupsheader();a.render();break;case "enablebrowserselection":a.showfilterrow||(a.showstatusbar||a.showtoolbar||a.host.addClass("jqx-disableselect"),a.content.addClass("jqx-disableselect"));a.enablebrowserselection&&(a.content.removeClass("jqx-disableselect"),a.host.removeClass("jqx-disableselect"));break;case "columnsheight":(25!=a.columnsheight||a.columngroups)&&a._measureElement("column");a._render(!0,!0,!0,!1,!1);break;case "rowsheight":g!=d&&(25!=a.rowsheight&&a._measureElement("cell"),a.virtualsizeinfo=null,a.rendergridcontent(!0,!1),a.refresh());break;case "scrollMode":a.vScrollInstance.thumbStep=a.rowsheight;break;case "showdefaultloadelement":a._builddataloadelement();break;case "showfiltermenuitems":case "showsortmenuitems":case "showgroupmenuitems":case "filtermode":a._initmenu();break;case "touchmode":d!=g&&(a._removeHandlers(),a.touchDevice=null,a.vScrollBar.jqxScrollBar({touchMode:g}),a.hScrollBar.jqxScrollBar({touchMode:g}),a._updateTouchScrolling(),a._arrange(),a._updatecolumnwidths(),a._updatecellwidths(),a._addHandlers());break;case "autoshowcolumnsmenubutton":d!=g&&a._rendercolumnheaders();break;case "rendergridrows":d!=g&&a.updatebounddata();break;case "editmode":d!=g&&(a._removeHandlers(),a._addHandlers());break;case "source":a.updatebounddata();a.virtualmode&&!a._loading&&(a.loadondemand=!0,a._renderrows(a.virtualsizeinfo));break;case "horizontalscrollbarstep":case "verticalscrollbarstep":case "horizontalscrollbarlargestep":case "verticalscrollbarlargestep":this.vScrollBar.jqxScrollBar({step:this.verticalscrollbarstep,largestep:this.verticalscrollbarlargestep});this.hScrollBar.jqxScrollBar({step:this.horizontalscrollbarstep,largestep:this.horizontalscrollbarlargestep});break;case "closeablegroups":a._initgroupsheader&&a._initgroupsheader();break;case "showgroupsheader":d!=g&&(a._arrange(),a._initgroupsheader&&a._initgroupsheader(),a._renderrows(a.virtualsizeinfo));break;case "theme":g!=d&&(e.jqx.utilities.setTheme(d,g,a.host),a.gridmenu&&a.gridmenu.jqxMenu({theme:g}),a.pageable&&a._updatepagertheme(),a.filterable&&a._updatefilterrowui(!0),a.showeverpresentrow&&a._updateaddnewrowui(!0));break;case "showtoolbar":case "toolbarheight":d!=g&&(a._arrange(),a.refresh());break;case "showstatusbar":d!=g&&(a.statusbar&&(g?a.statusbar.show():a.statusbar.hide()),a._arrange(),a.refresh());break;case "statusbarheight":d!=g&&(a._arrange(),a.refresh());break;case "filterable":case "showfilterrow":d!=g&&a.render();break;case "autoshowfiltericon":case "showfiltercolumnbackground":case "showpinnedcolumnbackground":case "showsortcolumnbackground":d!=g&&a.rendergridcontent();break;case "showrowdetailscolumn":d!=g&&a.render();break;case "scrollbarsize":d!=g&&a._arrange();break;case "width":case "height":d!=g&&(a._updatesize(!0,!0),a._resizeWindow(),a.virtualmode&&!a._loading?a.vScrollInstance.setPosition(0):setTimeout(function(){a._renderrows(a.virtualsizeinfo)},100));break;case "altrows":case "altstart":case "altstep":d!=g&&a._renderrows(a.virtualsizeinfo);break;case "groupsheaderheight":d!=g&&(a._arrange(),a._initgroupsheader&&a._initgroupsheader());break;case "pagerheight":d!=g&&a._initpager();break;case "selectedrowindex":a.selectrow(g);break;case "selectionmode":d!=g&&("none"==g&&(a.selectedrowindexes=[],a.selectedcells=[],a.selectedrowindex=-1),a._renderrows(a.virtualsizeinfo),"checkbox"==g&&a._render(!1,!1,!0,!1,!1));break;case "showheader":g?a.columnsheader.css("display","block"):a.columnsheader.css("display","none");break;case "virtualmode":d!=g&&(a.dataview.virtualmode=a.virtualmode,a.dataview.refresh(!1),a._render(!1,!1,!1));break;case "columnsmenu":d!=g&&a.render();break;case "columngroups":a._render(!0,!0,!0,!1,!1);break;case "columns":if(a._serializeObject(a._cachedcolumns)!==a._serializeObject(g)){var h=!1;a.filterable&&d&&d.records&&e.each(d.records,function(){this.filter&&(h=!0);a.dataview.removefilter(this.displayfield,this.filter)});a._columns=null;a._filterrowcache=[];a.render();h&&a.applyfilters();a._cachedcolumns=a.columns;a.removesort&&a.removesort()}else a[b]=d;break;case "autoheight":d!=g&&a._render(!1,!1,!0);break;case "pagermode":case "pagerbuttonscount":d!=g&&a._initpager&&(a.pagershowrowscombo&&(a.pagershowrowscombo.jqxDropDownList("destroy"),a.pagershowrowscombo=null),a.pagerrightbutton&&(a.removeHandler(a.pagerrightbutton,"mousedown"),a.removeHandler(a.pagerrightbutton,"mouseup"),a.removeHandler(a.pagerrightbutton,"click"),a.pagerrightbutton.jqxButton("destroy"),a.pagerrightbutton=null),a.pagerleftbutton&&(a.removeHandler(a.pagerleftbutton,"mousedown"),a.removeHandler(a.pagerleftbutton,"mouseup"),a.removeHandler(a.pagerleftbutton,"click"),a.pagerleftbutton.jqxButton("destroy"),a.removeHandler(e(document),"mouseup.pagerbuttons"+a.element.id),a.pagerleftbutton=null),a.pagerdiv.remove(),a._initpager());break;case "pagesizeoptions":case "pageable":case "pagesize":if(d!=g){if(a._loading)throw Error("jqxGrid: "+a.loadingerrormessage);if(!a.host.jqxDropDownList||!a.host.jqxListBox){a._testmodules();break}if(a._initpager){if("pageable"!=b&&"pagermode"!=b&&"string"==typeof g)throw d="The expected value type is: Int.","pagesize"!=b&&(d="The expected value type is: Array of Int values."),Error("Invalid Value for: "+b+". "+d);a.dataview.pageable=a.pageable;a.dataview.pagenum=0;a.dataview.pagesize=a._getpagesize();a.virtualmode&&a.updatebounddata();a.dataview.refresh(!0);a._initpager();"pagesizeoptions"==b&&null!=g&&0<g.length&&(a.pagesize=parseInt(g[0]),a.dataview.pagesize=parseInt(g[0]),a.prerenderrequired=!0,a._requiresupdate=!0,a.dataview.pagenum=-1,a.gotopage(0))}a._render(!1,!1,!1)}break;case "groups":a._serializeObject(d)!==a._serializeObject(g)&&(a.dataview.groups=g,a._refreshdataview(),a._render(!0,!0,!0,!1));break;case "groupable":d!=g&&(a.dataview.groupable=a.groupable,a.dataview.pagenum=0,a.dataview.refresh(!1),a._render(!1,!1,!0));break;case "renderstatusbar":null!=g&&a.renderstatusbar(a.statusbar);break;case "rendertoolbar":null!=g&&a.rendertoolbar(a.toolbar);break;case "disabled":g?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),e.jqx.aria(a,"aria-disabled",a.disabled),a.pageable&&(a.pagerrightbutton&&(a.pagerrightbutton.jqxButton({disabled:g}),a.pagerleftbutton.jqxButton({disabled:g}),a.pagershowrowscombo.jqxDropDownList({disabled:g}),a.pagergotoinput.attr("disabled",g)),a.pagerfirstbutton&&(a.pagerfirstbutton.jqxButton({disabled:g}),a.pagerlastbutton.jqxButton({disabled:g}))),a.vScrollBar.jqxScrollBar({disabled:g}),a.hScrollBar.jqxScrollBar({disabled:g}),a.filterable&&a.showfilterrow&&a._updatefilterrowui(!0),a.showeverpresentrow&&a._updateaddnewrowui(!0)}}});e.jqx.collection=function(a){this.records=[];this.owner=a;this.updating=!1;this.beginupdate=function(){this.updating=!0};this.resumeupdate=function(){this.updating=!1};this._raiseEvent=function(a){};this.clear=function(){this.records=[]};this.replace=function(a,b){this.records[a]=b;this.updating||this._raiseEvent({type:"replace",element:b})};this.isempty=function(a){return void 0==this.records[a]?!0:!1};this.initialize=function(a){1>a&&(a=1);this.records[a-1]=-1};this.length=function(){return this.records.length};this.indexOf=function(a){return this.records.indexOf(a)};this.add=function(a){if(null==a)return!1;this.records[this.records.length]=a;this.updating||this._raiseEvent({type:"add",element:a});return!0};this.insertAt=function(a,b){return null==a||void 0==a||null==b?!1:0<=a?a<this.records.length?(this.records.splice(a,0,b),this.updating||this._raiseEvent({type:"insert",index:a,element:b}),!0):this.add(b):!1};this.remove=function(a){if(null==a||void 0==a)return!1;var b=this.records.indexOf(a);return-1!=b?(this.records.splice(b,1),this.updating||this._raiseEvent({type:"remove",element:a}),!0):!1};this.removeAt=function(a){if(null==a||void 0==a||0>a)return!1;if(a<this.records.length){var b=this.records[a];this.records.splice(a,1);this.updating||this._raiseEvent({type:"removeAt",index:a,element:b});return!0}return!1};return this};e.jqx.dataview=function(){this.self=this;this.grid=null;this.uniqueId="id";this.records=[];this.rows=[];this.columns=[];this.groups=[];this.filters=[];this.update=this.updated=null;this.suspend=!1;this.totalrecords=this.totalrows=this.pagenum=this.pagesize=0;this.groupable=!0;this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this.virtualmode=!0;this._cachegrouppages=[];this.source=null;this.changedrecords=[];this.rowschangecallback=null;this.that=this;this.destroy=function(){delete this.self;delete this.grid;delete this.uniqueId;delete this.records;delete this.rows;delete this.columns;delete this.groups;delete this.filters;delete this.updated;delete this.update;delete this.suspend;delete this.pagesize;delete this.pagenum;delete this.totalrows;delete this.totalrecords;delete this.groupable;delete this.loadedrecords;delete this.loadedrootgroups;delete this.loadedgroups;delete this.loadedgroupsByKey;delete this.virtualmode;delete this._cachegrouppages;delete this.source;delete this.changedrecords;delete this.rowschangecallback;delete this.that};this.suspendupdate=function(){this.suspend=!0};this.isupdating=function(){return this.suspend};this.resumeupdate=function(a){this.suspend=!1;void 0==a&&(a=!0);this.refresh(a)};this.getrecords=function(){return this.records};this.clearrecords=function(){this.recordids=[]};this.databind=function(a,b){var d=null;a._source?(d=a,a=a._source):d=new e.jqx.dataAdapter(a,{autoBind:!1});var g=function(b){b.totalrecords=d.totalrecords;if(b.virtualmode){var f={startindex:b.pagenum*b.pagesize,endindex:b.pagenum*b.pagesize+b.pagesize};void 0!=a.recordstartindex&&(f.startindex=parseInt(a.recordstartindex));void 0!=a.recordendindex?f.endindex=parseInt(a.recordendindex):b.grid.pageable||(f.endindex=f.startindex+100,b.grid.autoheight&&(f.endindex=f.startindex+b.totalrecords));a.recordendindex||(b.grid.pageable?f={startindex:b.pagenum*b.pagesize,endindex:b.pagenum*b.pagesize+b.pagesize}:(f.endindex=f.startindex+100,b.grid.autoheight&&(f.endindex=f.startindex+b.totalrecords)));f.data=d.records;if(b.grid.rendergridrows&&0<b.totalrecords){var g=0;a.records=b.grid.rendergridrows(f);a.records.length&&(g=a.records.length);if(a.records&&!a.records[f.startindex]){var h=[],k=f.startindex;e.each(a.records,function(){h[k]=this;k++;g++});a.records=h}0==g&&a.records&&e.each(a.records,function(){g++});if(0<g&&g<f.endindex-f.startindex&&!b.grid.groupable)for(var l=a.records[0],m=0;m<f.endindex-f.startindex-g;m++){var n={};for(obj in l)n[obj]="";a.records.push&&a.records.push(n)}}a.records&&0!=b.totalrecords||(a.records=[]);b.originaldata=a.records;b.records=a.records;b.cachedrecords=a.records}else b.originaldata=d.originaldata,b.records=d.records,b.recordids=d.recordids,b.cachedrecords=d.cachedrecords};d.recordids=[];d.records=[];d.cachedrecords=[];d.originaldata=[];d._options.virtualmode=this.virtualmode;d._options.totalrecords=this.totalrecords;d._options.originaldata=this.originaldata;d._options.recordids=this.recordids;d._options.cachedrecords=[];d._options.pagenum=this.pagenum;d._options.pageable=this.pageable;void 0!=a.type&&(d._options.type=a.type);void 0!=a.formatdata&&(d._options.formatData=a.formatdata);void 0!=a.contenttype&&(d._options.contentType=a.contenttype);void 0!=a.async&&(d._options.async=a.async);void 0!=a.updaterow&&(d._options.updaterow=a.updaterow);void 0!=a.addrow&&(d._options.addrow=a.addrow);void 0!=a.deleterow&&(d._options.deleterow=a.deleterow);0==this.pagesize&&(this.pagesize=10);d._options.pagesize=this.pagesize;this.source=a;void 0!==b&&(uniqueId=b);var h=this.that;switch(a.datatype){default:null==a.localdata&&(a.localdata=[]);if(null!=a.localdata){d.unbindBindingUpdate(h.grid.element.id);(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&d.dataBind();var l=function(b){if(void 0!=b&&""!=b){if(d._changedrecords[0]){var f=[];e.each(d._changedrecords,function(a){var c=this.index,e=this.record;h.grid._updateFromAdapter=!0;switch(b){case "update":c=h.grid.getrowid(c);a==d._changedrecords.length-1?h.grid.updaterow(c,e):h.grid.updaterow(c,e,!1);h.grid._updateFromAdapter=!1;break;case "add":h.grid.addrow(null,e);h.grid._updateFromAdapter=!1;break;case "remove":c=h.grid.getrowid(c),f.push(c)}});0<f.length&&(h.grid.deleterow(f,!1),h.grid._updateFromAdapter=!1)}if("update"==b)return}var k=h.totalrecords;g(h,b);null===a.localdata.notifier&&"observableArray"==a.localdata.name&&(a.localdata.notifier=function(b){if(!this._updating){this._updating=!0;var f=h.grid.getrowid(b.index);switch(b.type){case "add":var g=e.extend({},b.object[b.index]),f=d.getid(a.id,g,b.index);0===b.index?h.grid.addrow(f,g,"first"):h.grid.addrow(f,g);break;case "delete":h.grid.deleterow(f);break;case "update":b.path&&1<b.path.split(".").length?(g=b.path.split("."),h.grid.setcellvalue(b.index,g[g.length-1],b.newValue)):(g=e.extend({},b.object[b.index]),h.grid.updaterow(f,g))}this._updating=!1}});"updateData"==b?(h.refresh(),h.grid._updateGridData()):(a.recordstartindex&&this.virtualmode?h.updateview(a.recordstartindex,a.recordstartindex+h.pagesize):h.refresh(),h.update(k!=h.totalrecords))};l();d.bindBindingUpdate(h.grid.element.id,l)}break;case "json":case "jsonp":case "xml":case "xhtml":case "script":case "text":case "csv":case "tab":if(null!=a.localdata){d.unbindBindingUpdate(h.grid.element.id);(!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind)&&d.dataBind();l=function(b){var d=h.totalrecords;g(h);"updateData"==b?(h.refresh(),h.grid._updateGridData()):(a.recordstartindex&&h.virtualmode?h.updateview(a.recordstartindex,a.recordstartindex+h.pagesize):h.refresh(),h.update(d!=h.totalrecords))};l();d.bindBindingUpdate(h.grid.element.id,l);break}for(var k=0,l={},m=0;m<this.filters.length;m++){var n=this.filters[m].datafield,p=this.filters[m].filter;if(p.getfilters){var q=p.getfilters();l[n+"operator"]=p.operator;for(p=0;p<q.length;p++){q[p].datafield=n;var r=q[p].value;if("datefilter"==q[p].type)if(q[p].value&&q[p].value.toLocaleString){var t=this.grid.getcolumn(q[p].datafield);t&&t.cellsformat?(r=this.grid.source.formatDate(q[p].value,t.cellsformat,this.grid.gridlocalization),l["filtervalue"+k]=r?r:q[p].value.toLocaleString()):l["filtervalue"+k]=r.toString()}else l["filtervalue"+k]=r.toString();else l["filtervalue"+k]=r.toString(),q[p].data&&(l["filterid"+k]=q[p].data.toString()),q[p].id&&(l["filterid"+k]=q[p].id.toString());l["filtercondition"+k]=q[p].condition;l["filteroperator"+k]=q[p].operator;l["filterdatafield"+k]=n;k++}}}l.filterscount=k;l.groupscount=h.groups.length;for(m=0;m<h.groups.length;m++)l["group"+m]=h.groups[m];void 0==a.recordstartindex&&(a.recordstartindex=0);if(void 0==a.recordendindex||0==a.recordendindex)h.grid.height&&-1==h.grid.height.toString().indexOf("%")?(a.recordendindex=parseInt(h.grid.height)/h.grid.rowsheight,a.recordendindex+=2):a.recordendindex=e(window).height()/h.grid.rowsheight,a.recordendindex=parseInt(a.recordendindex),this.pageable&&(a.recordendindex=this.pagesize);this.pageable&&(a.recordstartindex=this.pagenum*this.pagesize,a.recordendindex=(this.pagenum+1)*this.pagesize);e.extend(l,{sortdatafield:h.sortfield,sortorder:h.sortfielddirection,pagenum:h.pagenum,pagesize:h.grid.pagesize,recordstartindex:a.recordstartindex,recordendindex:a.recordendindex});(k=d._options.data)?e.extend(d._options.data,l):(a.data&&e.extend(l,a.data),d._options.data=l);l=function(){var b=function(){var b=h.totalrecords;g(h);a.recordstartindex&&h.virtualmode?h.updateview(a.recordstartindex,a.recordstartindex+h.pagesize):h.refresh();h.update(b!=h.totalrecords)};if(e.jqx.browser.msie&&9>e.jqx.browser.version)try{b()}catch(d){}else b()};d.unbindDownloadComplete(h.grid.element.id);d.bindDownloadComplete(h.grid.element.id,l);!h.grid.autobind&&h.grid.isInitialized||h.grid.autobind?d.dataBind():h.grid.isInitialized||h.grid.autobind||l();d._options.data=k}};this.getid=function(a,b,d){return 0<e(a,b).length?e(a,b).text():a&&0<a.toString().length&&(a=e(b).attr(a),null!=a&&0<a.toString().length)?a:d};this.getvaluebytype=function(a,b){var d=a;if("date"==b.type){var g=new Date(a);a="NaN"==g.toString()||"Invalid Date"==g.toString()?e.jqx.dataFormat?e.jqx.dataFormat.tryparsedate(a):g:g;null==a&&(a=d)}else"float"==b.type?(a=parseFloat(a),isNaN(a)&&(a=d)):"int"==b.type?(a=parseInt(a),isNaN(a)&&(a=d)):"bool"==b.type&&(null!=a&&("false"==a.toLowerCase()?a=!1:"true"==a.toLowerCase()&&(a=!0)),a=1==a?!0:0==a?!1:"");return a};this.setpaging=function(a){void 0!=a.pageSize&&(this.pagesize=a.pageSize);void 0!=a.pageNum&&(this.pagenum=Math.min(a.pageNum,Math.ceil(this.totalrows/this.pagesize)));this.refresh()};this.getpagingdetails=function(){return{pageSize:this.pagesize,pageNum:this.pagenum,totalrows:this.totalrows}};this._clearcaches=function(){this.sortcache={};this.sortdata=null;this.changedrecords=[];this.records=[];this.rows=[];this.cacheddata=[];this.originaldata=[];this.bounditems=[];this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this._cachegrouppages=[];this.recordsbyid=[];this.cachedrecords=[];this.recordids=[]};this.addfilter=function(a,b){for(var d=-1,e=0;e<this.filters.length;e++)if(this.filters[e].datafield==a){d=e;break}-1==d?this.filters[this.filters.length]={filter:b,datafield:a}:this.filters[d]={filter:b,datafield:a}};this.removefilter=function(a){for(var b=0;b<this.filters.length;b++)if(this.filters[b].datafield==a){this.filters.splice(b,1);break}};this.getItemFromIndex=function(a){return this.records[a]};this.updaterow=function(a,b,d){if(!(this.filters&&0<this.filters.length&&!this.virtualmode||void 0==b)&&void 0!=a){b.uid=a;b[this.source.id]||(b[this.source.id]=b.uid);var e=this.recordsbyid["id"+a],h=this.records.indexOf(e);if(-1==h)return!1;this.records[h]=b;this.cachedrecords&&(this.cachedrecords[h]=b);1!=d&&void 0!=d||this.refresh();this.changedrecords[b.uid]={Type:"Update",OldData:e,Data:b};return!0}if(this.filters&&0<this.filters.length){for(var l=this.cachedrecords,e=null,h=-1,k=0;k<l.length;k++)if(l[k].uid==a){e=l[k];h=k;break}if(e){a=this.that;for(var m in b)a.cachedrecords[h][m]=b[m];1!=d&&void 0!=d||this.refresh();return!0}}return!1};this.addrow=function(a,b,d,g){if(void 0!=b){e.isEmptyObject(b)&&this.source&&this.source.datafields&&e.each(this.source.datafields,function(){var a="";"number"==this.type&&(a=null);"date"==this.type&&(a=null);if("bool"==this.type||"boolean"==this.type)a=!1;b[this.name]=a});if(!a||this.recordsbyid["id"+a])for(b.uid=this.getid(this.source.id,b,this.totalrecords),a=this.recordsbyid["id"+b.uid];null!=a;)a=Math.floor(1E4*Math.random()).toString(),b.uid=a,a=this.recordsbyid["id"+a];else b.uid=a;b[this.source.id]||void 0==this.source.id||(b[this.source.id]=b.uid);"last"==d?this.records.push(b):"number"===typeof d&&isFinite(d)?this.records.splice(d,0,b):this.records.splice(0,0,b);this.filters&&0<this.filters.length&&("last"==d?this.cachedrecords.push(b):"number"===typeof d&&isFinite(d)?this.cachedrecords.splice(d,0,b):this.cachedrecords.splice(0,0,b));this.totalrecords++;this.virtualmode&&(this.source.totalrecords=this.totalrecords);1!=g&&void 0!=g||this.refresh();this.changedrecords[b.uid]={Type:"New",Data:b};return!0}return!1};this.deleterow=function(a,b){if(void 0!=a){var d=this.filters&&0<this.filters.length;if(this.recordsbyid["id"+a]&&!d){var d=this.recordsbyid["id"+a],e=this.records.indexOf(d);this.changedrecords[a]={Type:"Delete",Data:this.records[e]};this.records.splice(e,1);this.totalrecords--;this.virtualmode&&(this.source.totalrecords=this.totalrecords);1!=b&&void 0!=b||this.refresh();return!0}if(this.filters&&0<this.filters.length){for(var h=this.cachedrecords,d=null,e=-1,l=0;l<h.length;l++)if(h[l].uid==a){d=h[l];e=l;break}if(d){this.cachedrecords.splice(e,1);if(1==b||void 0==b)this.totalrecords=0,this.records=this.cachedrecords,this.refresh();return!0}}}return!1};this.reload=function(a,b,d,g,h,l,k){var m=this.that;h=[];var n=b.length,p=0;this.columns=[];this.bounditems=[];this.loadedrecords=[];this.loadedrootgroups=[];this.loadedgroups=[];this.loadedgroupsByKey=[];this._cachegrouppages=[];this.recordsbyid={};0==this.totalrecords&&(Object.size=function(a){var b=0,c;for(c in a)a.hasOwnProperty(c)&&b++;return b},this.totalrecords=Object.size(a),e.each(this.records,function(a){var b=0;e.each(this,function(a,c){m.columns[b++]=a});return!1}));if(this.virtualmode){if(this.pageable){this.updateview();return}l=0;if(this.groupable)k=this.totalrecords;else{this.updateview();return}}else l=0,k=this.totalrecords;if(this.groupable&&0<this.groups.length&&this.loadgrouprecords)var q=l,q=this.loadgrouprecords(0,l,k,d,0,g,b,n,h);else p=this.loadflatrecords(l,k,d,0,g,b,n,h);0<n&&b.splice(0,n-0);this.totalrows=0<this.groups.length&&this.groupable?q:p;return h};this.loadflatrecords=function(a,b,d,g,h,l,k,m){var n=this.that,p=d=a;b=Math.min(b,this.totalrecords);for(var q=null!=this.sortdata,r=q?this.sortdata:this.records;a<b;a++){var t={};q?(t=e.extend({},r[a].value),id=t[n.uniqueId],t.boundindex=r[a].index,void 0==t.uid&&(t.uid=n.getid(n.source.id,t,t.boundindex)),n.recordsbyid["id"+t.uid]=r[a].value,n.loadedrecords[d]=t,t.uniqueid=n.generatekey(),n.bounditems[t.boundindex]=t):(t=e.extend({},r[a]),id=t[n.uniqueId],t.boundindex=d,n.loadedrecords[d]=t,void 0==t.uid&&(t.uid=n.getid(n.source.id,t,d)),n.recordsbyid["id"+t.uid]=r[a],t.uniqueid=n.generatekey(),n.bounditems[this.bounditems.length]=t);if(g>=k||id!=l[g][n.uniqueId]||h&&h[id])m[m.length]=g;l[g]=t;g++;t.visibleindex=p;p++;d++}if(n.grid.summaryrows){var v=d;e.each(n.grid.summaryrows,function(){var a=e.extend({},this);a.boundindex=b++;n.loadedrecords[v]=a;a.uniqueid=n.generatekey();n.bounditems[n.bounditems.length]=a;l[g]=a;g++;a.visibleindex=p;p++;v++})}return p};this.updateview=function(a,b){var d=this.that,e=this.pagesize*this.pagenum,h=0,l=[],k=this.filters,m=this.updated,n=l.length;if(this.pageable){if(this.virtualmode)if(!this.groupable||0==this.groups.length)this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),k,h,m,l,n,[]),this.totalrows=l.length;else if(this.groupable&&0<this.groups.length&&this.loadgrouprecords){if(void 0!=this._cachegrouppages[this.pagenum+"_"+this.pagesize]){this.rows=this._cachegrouppages[this.pagenum+"_"+this.pagesize];this.totalrows=this.rows.length;return}d=this.pagesize*(1+this.pagenum);d>this.totalrecords&&(d=this.totalrecords);this.loadgrouprecords(0,this.pagesize*this.pagenum,d,k,h,m,l,n,[]);this._cachegrouppages[this.pagenum+"_"+this.pagesize]=this.rows;this.totalrows=this.rows.length;return}}else if(this.virtualmode&&(!this.groupable||0==this.groups.length)){var p=this.pagesize;0==p&&(p=Math.min(100,this.totalrecords));null!=a&&null!=b?this.loadflatrecords(a,b,k,h,m,l,n,[]):this.loadflatrecords(this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum),k,h,m,l,n,[]);this.totalrows=this.loadedrecords.length;this.rows=l;if(l.length>=p)return}if(this.groupable&&this.pageable&&0<this.groups.length&&this._updategroupsinpage)l=this._updategroupsinpage(d,k,e,h,n,this.pagesize*this.pagenum,this.pagesize*(1+this.pagenum));else for(k=this.pagesize*this.pagenum;k<this.pagesize*(1+this.pagenum);k++)if(m=k<this.loadedrecords.length?this.loadedrecords[k]:null,null!=m){if(!this.pagesize||e>=this.pagesize*this.pagenum&&e<=this.pagesize*(this.pagenum+1))l[h]=m,h++;e++}if((0==l.length||l.length<this.pagesize)&&!this.pageable&&this.virtualmode)for(e=h=l.length,k=this.pagesize*this.pagenum;k<this.pagesize*(1+this.pagenum)-e;k++)m={},m.boundindex=k+e,m.visibleindex=k+e,m.uniqueid=d.generatekey(),m.empty=!0,d.bounditems[k+e]=m,l[h]=m,h++;this.rows=l};this.generatekey=function(){var a=function(){return 16*(1+Math.random())|0};return""+a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()};this.reloaddata=function(){this.reload(this.records,this.rows,this.filter,this.updated,!0)};this.refresh=function(a){if(!this.suspend){void 0==a&&(a=!0);var b=this.rows.length,d=this.totalrows;if(0<this.filters.length&&!this.virtualmode){var g="",h=this.cachedrecords.length,l=[];this.totalrecords=0;var k=this.cachedrecords;this._dataIndexToBoundIndex=[];var m=this.filters.length;if(null!=this.source&&void 0!=this.source.filter&&void 0!=this.source.localdata)l=this.source.filter(this.filters,k,h),void 0==l&&(l=[]),this.records=l;else if(null==this.source.filter||void 0==this.source.filter){for(var n=0;n<h;n++){for(var p=k[n],q=void 0,r=0;r<m;r++)var g=this.filters[r].filter,t=g.evaluate(p[this.filters[r].datafield]),q=void 0==q?t:"or"==g.operator?q||t:q&&t;q?(l[l.length]=e.extend({dataindex:n},p),this._dataIndexToBoundIndex[n]={boundindex:l.length-1}):this._dataIndexToBoundIndex[n]=null}this.records=l}if(this.sortdata&&(g=this.sortfield,this.sortcache[g])){this.sortdata=null;b=this.sortcache[g].direction;this.sortcache[g]=null;this.sortby(this.sortfield,b);return}}else if(0==this.filters.length&&!this.virtualmode&&this.cachedrecords&&(this.totalrecords=0,this.records=k=this.cachedrecords,this.sortdata&&(g=this.sortfield,this.sortcache[g]))){this.sortdata=null;b=this.sortcache[g].direction;this.sortcache[g]=null;this.sortby(this.sortfield,b);return}a=this.reload(this.records,this.rows,this.filter,this.updated,a);this.updated=null;null!=this.rowschangecallback&&(d!=totalrows&&this.rowschangecallback({type:"PagingChanged",data:getpagingdetails()}),b!=rows.length&&this.rowschangecallback({type:"RowsCountChanged",data:{previous:b,current:rows.length}}),(0<a.length||b!=rows.length)&&this.rowschangecallback({type:"RowsChanged",data:{previous:b,current:rows.length,diff:a}}))}};return this}})(jqxBaseFramework);(function(e){e.extend(e.jqx._jqxGrid.prototype,{autoresizecolumns:function(a,b){"cells"!=a&&"all"!=a&&"column"!=a&&(a="all");var c=this.that,f=this.getrows();this.pageable&&(f=this.dataview.rows,this.groupable&&(f=this.dataview.records));b=void 0==b?0:parseInt(b);var d=f.length;if(void 0==d&&void 0!=f){var g=[];e.each(f,function(a){g.push(this)});f=g;d=f.length}var h=e("\x3cspan\x3e\x3c/span\x3e");h.addClass(this.toThemeProperty("jqx-widget"));h.addClass(this.toThemeProperty("jqx-grid-cell"));e(document.body).append(h);var l=[],k=[],m=[],n=[],p=c.host.width();"hidden"!=c.vScrollBar[0].style.visibility&&(p-=this.scrollbarsize+5);0>p&&(p=0);for(var q=0;q<d;q++)for(var r=f[q],p=0;p<this.columns.records.length;p++){var t=this.columns.records[p];if(!(t.hidden||0<this.groups.length&&p<=this.groups.length-1)){void 0==k[t.displayfield]&&(k[t.displayfield]=0);void 0==m[t.displayfield]&&(m[t.displayfield]="");var v=r[t.displayfield];""!=t.cellsformat?e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(v)?v=e.jqx.dataFormat.formatdate(v,t.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(v)&&(v=e.jqx.dataFormat.formatnumber(v,t.cellsformat,this.gridlocalization))):t.cellsrenderer&&(l=c._defaultcellsrenderer(v,t),l=t.cellsrenderer(q,t.datafield,v,l,t.getcolumnproperties(),r),void 0!=l&&(v=e(l).text()));if((void 0==a||"cells"==a||"all"==a)&&null!=v){var l=v.toString().length,u=v.toString(),u=u.replace(/[^A-Z]/g,"").length;l>k[t.displayfield]&&(k[t.displayfield]=l,m[t.displayfield]=v,n[t.displayfield]=u);if(0<l&&l>=u){var w=20*u+15*(l-u),x=20*n[t.displayfield]+15*(k[t.displayfield]-n[t.displayfield]);w>x&&0<w&&0<x&&(k[t.displayfield]=l,m[t.displayfield]=v,n[t.displayfield]=u)}}if("column"==a||"all"==a)t.text.toString().length>k[t.displayfield]&&(m[t.displayfield]=t.text,k[t.displayfield]=t.text.length,u=t.text.toString(),u=u.replace(/[^A-Z]/g,"").length,n[t.displayfield]=u),v=t.text,l=v.toString().length,u=v.toString(),u=u.replace(/[^A-Z]/g,"").length,0<l&&l>=u&&(w=20*u+15*(l-u),x=20*n[t.displayfield]+15*(k[t.displayfield]-n[t.displayfield]),w>x&&0<w&&0<x&&(k[t.displayfield]=l,m[t.displayfield]=v,n[t.displayfield]=u))}}if(this.columns.records){for(p=0;p<this.columns.records.length;p++)if(t=this.columns.records[p],t.displayfield&&(void 0==m[t.displayfield]&&(m[t.displayfield]=t.text),0<=h[0].className.indexOf("jqx-grid-column-header")&&h.removeClass(this.toThemeProperty("jqx-grid-column-header")),m[t.displayfield]==t.text&&h.addClass(this.toThemeProperty("jqx-grid-column-header")),h[0].innerHTML=m[t.displayfield].toString(),c=h.outerWidth()+10,0<h.children().length&&(c=h.children().outerWidth()+10),e.jqx.browser.msie&&8>e.jqx.browser.version&&(c+=10),this.filterable&&this.showfilterrow&&(c+=5),c+=b,c>t.maxwidth&&(c=t.maxwidth),void 0!=t._width&&(t.__width=t._width),t._width=null,"auto"==t.maxwidth||c<=t.maxwidth))f=t.width,c<t.minwidth&&(c=t.minwidth),t.width=c,void 0!=t._percentagewidth&&(t._percentagewidth=null),this._raiseEvent(14,{columntext:t.text,column:t.getcolumnproperties(),datafield:t.datafield,displayfield:t.displayfield,oldwidth:f,newwidth:c});h.remove();this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);for(p=0;p<this.columns.records.length;p++)t=this.columns.records[p],void 0!=t.__width&&(t._width=t.__width)}},autoresizecolumn:function(a,b,c){"cells"!=b&&"all"!=b&&"column"!=b&&(b="all");if(void 0==a)return!1;var f=this.getrows();this.pageable&&(f=this.dataview.rows,this.groupable&&(f=this.dataview.records));var d=this.getcolumn(a);if(void 0==d)return!1;c=void 0==c?0:parseInt(c);var g=f.length,h=e("\x3cspan\x3e\x3c/span\x3e");h.addClass(this.toThemeProperty("jqx-widget"));h.addClass(this.toThemeProperty("jqx-grid-cell"));e(document.body).append(h);var l=0,k="",m=0;this.that.host.width();if(void 0==b||"cells"==b||"all"==b)for(var n=0;n<g;n++){var p=f[n][d.displayfield];if(""!=d.cellsformat)e.jqx.dataFormat&&(e.jqx.dataFormat.isDate(p)?p=e.jqx.dataFormat.formatdate(p,d.cellsformat,this.gridlocalization):e.jqx.dataFormat.isNumber(p)&&(p=e.jqx.dataFormat.formatnumber(p,d.cellsformat,this.gridlocalization)));else if(d.cellsrenderer){var q=d.cellsrenderer(n,d,p);void 0!=q&&(p=e(q).text())}if(null!=p){var q=p.toString().length,r=p.toString(),r=r.replace(/[^A-Z]/g,"").length;q>l&&(l=q,k=p,m=r);if(0<q&&q>=r){var t=20*r+15*(q-r),v=20*m+15*(l-m);t>v&&0<t&&0<v&&(l=q,k=p,m=r)}}}if("column"==b||"all"==b)d.text.toString().length>l&&(k=d.text),p=d.text.toString(),q=p.toString().length,r=p.toString(),r=r.replace(/[^A-Z]/g,"").length,0<q&&q>=r&&(t=20*r+15*(q-r),v=20*m+15*(l-m),t>v&&0<t&&0<v&&(k=p));void 0==k&&(k=d.text);h[0].innerHTML=k;k==d.text&&h.addClass(this.toThemeProperty("jqx-grid-column-header"));b=h.outerWidth()+10;e.jqx.browser.msie&&8>e.jqx.browser.version&&(b+=5);this.filterable&&this.showfilterrow&&(b+=5);b+=c;h.remove();b>d.maxwidth&&(b=d.maxwidth);if("auto"==d.maxwidth||b<=d.maxwidth)c=d.width,b<d.minwidth&&(b=d.minwidth),d.width=b,void 0!=d._width&&(d.__width=d._width),d._width=null,void 0!=d._percentagewidth&&(d._percentagewidth=null),this._updatecolumnwidths(),this._updatecellwidths(),this._raiseEvent(14,{columntext:d.text,column:d.getcolumnproperties(),datafield:a,displayfield:d.displayfield,oldwidth:c,newwidth:b}),this._renderrows(this.virtualsizeinfo),void 0!=d._width&&(d._width=d.__width)},_handlecolumnsresize:function(){var a=this.that;if(this.columnsresize){var b=!1;a.isTouchDevice()&&!0!==a.touchmode&&(b=!0);var c="mousemove.resize"+this.element.id,f="mousedown.resize"+this.element.id,d="mouseup.resize"+this.element.id;b&&(c=e.jqx.mobile.getTouchEventName("touchmove")+".resize"+this.element.id,f=e.jqx.mobile.getTouchEventName("touchstart")+".resize"+this.element.id,d=e.jqx.mobile.getTouchEventName("touchend")+".resize"+this.element.id);this.removeHandler(e(document),c);this.addHandler(e(document),c,function(c){if(null!=e.data(document.body,"contextmenu"+a.element.id)&&a.autoshowcolumnsmenubutton)return!0;if(null!=a.resizablecolumn&&!a.disabled&&a.resizing&&null!=a.resizeline){var d=a.host.coord(),f=parseInt(a.resizestartline.coord().left),g=f-a._startcolumnwidth,n=a.resizablecolumn.column.minwidth,n="auto"==n?0:parseInt(n),p=a.resizablecolumn.column.maxwidth,p="auto"==p?0:parseInt(p),q=c.pageX;b&&(q=a.getTouches(c)[0].pageX);g+=n;n=0<p?f+p:0;f=0==p?!0:a._startcolumnwidth+q-f<p?!0:!1;a.rtl&&(f=!0);if(f)if(!a.rtl){if(q>=d.left&&q>=g&&(0!=n&&c.pageX<n?a.resizeline.css("left",q):0==n&&a.resizeline.css("left",q),b))return!1}else if(q>=d.left&&q<=d.left+a.host.width()&&(a.resizeline.css("left",q),b))return!1}if(!b&&null!=a.resizablecolumn)return!1});this.removeHandler(e(document),f);this.addHandler(e(document),f,function(b){if(null!=e.data(document.body,"contextmenu"+a.element.id)&&a.autoshowcolumnsmenubutton)return!0;if(null!=a.resizablecolumn&&!a.disabled){var c=a.resizablecolumn.columnelement;if(c.coord().top+c.height()+5<b.pageY)a.resizablecolumn=null;else if(c.coord().top-5>b.pageY)a.resizablecolumn=null;else{a._startcolumnwidth=a.resizablecolumn.column.width;a.resizablecolumn.column._width=null;e(document.body).addClass("jqx-disableselect");e(document.body).addClass("jqx-position-reset");a.host.addClass("jqx-disableselect");a.content.addClass("jqx-disableselect");a._mouseDownResize=new Date;a.resizing=!0;if(a._lastmouseDownResize&&a.columnsautoresize&&300>a._lastmouseDownResize-a._mouseDownResize&&-500<a._lastmouseDownResize-a._mouseDownResize&&(c=a.resizablecolumn.column,c.resizable)){var d=a.hScrollBar[0].style.visibility;a._resizecolumn=null;a.resizeline.hide();a.resizestartline.hide();a.resizebackground.remove();a.resizablecolumn=null;a.autoresizecolumn(c.displayfield,"all");d!=a.hScrollBar[0].style.visibility&&a.hScrollInstance.setPosition(0);a.rtl&&a._arrange();a.autosavestate&&a.savestate&&a.savestate();b.stopPropagation();a.suspendClick=!0;setTimeout(function(){a.suspendClick=!1},100);return!1}a._lastmouseDownResize=new Date;a._resizecolumn=a.resizablecolumn.column;a.resizeline=a.resizeline||e('\x3cdiv style\x3d"position: absolute;"\x3e\x3c/div\x3e');a.resizestartline=a.resizestartline||e('\x3cdiv style\x3d"position: absolute;"\x3e\x3c/div\x3e');a.resizebackground=a.resizebackground||e('\x3cdiv style\x3d"position: absolute; left: 0; top: 0; background: #000;"\x3e\x3c/div\x3e');a.resizebackground.css("opacity",.01);a.resizebackground.css("cursor","col-resize");a.resizeline.css("cursor","col-resize");a.resizestartline.css("cursor","col-resize");a.resizeline.addClass(a.toThemeProperty("jqx-grid-column-resizeline"));a.resizestartline.addClass(a.toThemeProperty("jqx-grid-column-resizestartline"));e(document.body).append(a.resizeline);e(document.body).append(a.resizestartline);e(document.body).append(a.resizebackground);var f=a.resizablecolumn.columnelement.coord();a.resizebackground.css("left",a.host.coord().left);a.resizebackground.css("top",a.host.coord().top);a.resizebackground.width(a.host.width());a.resizebackground.height(a.host.height());a.resizebackground.css("z-index",9999);b=function(b){a.rtl?b.css("left",parseInt(f.left)):b.css("left",parseInt(f.left)+a._startcolumnwidth);var c=a._groupsheader()?a.groupsheader.height():0,c=c+(a.showtoolbar?a.toolbarheight:0),c=c+(a.showstatusbar?a.statusbarheight:0),d=0;a.pageable&&(d=a.pagerheight);var e="visible"==a.hScrollBar.css("visibility")?17:0;b.css("top",parseInt(f.top));b.css("z-index",99999);a.columngroups?b.height(a.host.height()+a.resizablecolumn.columnelement.height()-d-c-e-a.columngroupslevel*a.columnsheight):b.height(a.host.height()-d-c-e);a.enableanimations?b.show("fast"):b.show()};b(a.resizeline);b(a.resizestartline);a.dragmousedown=null}}});var g=function(){e(document.body).removeClass("jqx-disableselect");e(document.body).removeClass("jqx-position-reset");if(a.showfilterrow||a.showstatusbar||a.showtoolbar||a.enablebrowserselection)a.host.removeClass("jqx-disableselect"),a.content.removeClass("jqx-disableselect");if(a.resizing)if(a._mouseUpResize=new Date,200>a._mouseUpResize-a._mouseDownResize)a.resizing=!1,null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")&&(a._resizecolumn=null,a.resizeline.hide(),a.resizestartline.hide(),a.resizebackground.remove());else if(a.resizing=!1,!a.disabled){var b=a.host.width();"hidden"!=a.vScrollBar[0].style.visibility&&(b-=20);0>b&&(b=0);if(null!=a._resizecolumn&&null!=a.resizeline&&"block"==a.resizeline.css("display")){var c=parseInt(a.resizeline.css("left")),d=parseInt(a.resizestartline.css("left")),f=a._startcolumnwidth+c-d;a.rtl&&(f=a._startcolumnwidth-c+d);c=a._resizecolumn.width;a._closemenu();f<a._resizecolumn.minwidth&&(f=a._resizecolumn.minwidth);a._resizecolumn.width=f;void 0!=a._resizecolumn._percentagewidth&&(a._resizecolumn._percentagewidth=f/b*100);for(b=0;b<a._columns.length;b++)if(a._columns[b].datafield===a._resizecolumn.datafield){a._columns[b].width=a._resizecolumn.width;a._columns[b].width<a._resizecolumn.minwidth&&(a._columns[b].width=a._resizecolumn.minwidth);break}b=a.hScrollBar[0].style.visibility;a._updatecolumnwidths();a._updatecellwidths();a._raiseEvent(14,{columntext:a._resizecolumn.text,column:a._resizecolumn.getcolumnproperties(),datafield:a._resizecolumn.datafield,oldwidth:c,newwidth:f});a._renderrows(a.virtualsizeinfo);a.autosavestate&&a.savestate&&a.savestate();b!=a.hScrollBar[0].style.visibility&&a.hScrollInstance.setPosition(0);a.rtl&&a._arrange();a._resizecolumn=null;a.resizeline.hide();a.resizestartline.hide();a.resizebackground.remove()}a.resizablecolumn=null}};try{if(""!=document.referrer||window.frameElement)c=null,null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(c=document.referrer),c&&-1!=c.indexOf(document.location.host)&&(c=function(a){g()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c))}catch(h){}this.removeHandler(e(document),d);this.addHandler(e(document),d,function(b){if(null!=e.data(document.body,"contextmenu"+a.element.id)&&a.autoshowcolumnsmenubutton)return!0;g()})}}})})(jqxBaseFramework);(function(e){e.extend(e.jqx._jqxGrid.prototype,{_updatefilterrowui:function(a){var b=this.columns.records.length,c=0;if(this.filterrow){for(var f=0;f<b;f++){var d=this.columns.records[f],g=d.width;g<d.minwidth&&(g=d.minwidth);g>d.maxwidth&&(g=d.maxwidth);var h=e(this.filterrow[0].cells[f]);h.css("left",c);var l=!0;h.width()==g&&(l=!1);a&&(l=!0);h.width(g);h[0].left=c;d.hidden&&d.hideable?h.css("display","none"):c+=g;if(l)if(d.createfilterwidget&&"custom"==d.filtertype)d.createfilterwidget(d,h);else if(d.filterable)switch(l=function(a,b){var c=e(b.children()[0]);c.width(g-10);c.attr("disabled",a.disabled)},d.filtertype){case "number":case "input":e(h.children()[0]).width(g);h.find("input").width(g-30);h.find("input").attr("disabled",this.disabled);e(h.find(".jqx-dropdownlist-state-normal")).jqxDropDownList({theme:this.theme,disabled:this.disabled});break;case "date":case "range":this.host.jqxDateTimeInput?e(h.children()[0]).jqxDateTimeInput({theme:this.theme,disabled:this.disabled,width:g-10}):l(this,h);break;case "textbox":case "default":l(this,h);break;case "list":case "checkedlist":this.host.jqxDropDownList?e(h.children()[0]).jqxDropDownList({theme:this.theme,disabled:this.disabled,width:g-10}):l(this,h);break;case "bool":case "boolean":this.host.jqxCheckBox?e(h.children()[0]).jqxCheckBox({theme:this.theme,disabled:this.disabled}):l(this,h)}}a=e(this.filterrow.children()[0]);a.width(parseInt(c)+2);a.height(this.filterrowheight)}},clearfilterrow:function(a){this._disablefilterrow=!0;if(this.columns.records){for(var b=this.columns.records.length,c=0;c<b;c++){var f=this.columns.records[c],d=e(this.filterrow[0].cells[c]);if(("string"!=typeof a||f.displayfield==a)&&f.filterable){var g=function(a,b){var c=e(b.children()[0]);c.val("");c[0]&&(a["_oldWriteText"+c[0].id]="")};switch(f.filtertype){case "number":case "input":d.find("input").val("");if(this.host.jqxDropDownList){d=e(e(e(d).children()[0]).children()[1]);d.jqxDropDownList("clearSelection");g=0;if(0==g){var h=this._getfiltersbytype("number"==f.filtertype?"number":"string").indexOf("contains");-1!=h&&null==f.filtercondition&&(g=h)}d.jqxDropDownList({selectedIndex:g});d.jqxDropDownList("ensureVisible",g)}break;case "date":case "range":this.host.jqxDateTimeInput?e(d.children()[0]).jqxDateTimeInput("setDate",null):g(this,d);break;case "textbox":case "default":g(this,d);break;case "list":this.host.jqxDropDownList?e(d.children()[0]).jqxDropDownList("clearSelection"):g(this,d);break;case "checkedlist":this.host.jqxDropDownList?e(d.children()[0]).jqxDropDownList("checkAll",!1):g(this,d);break;case "bool":case "boolean":this.host.jqxCheckBox?e(d.children()[0]).jqxCheckBox({checked:null}):g(this,d)}}}this._disablefilterrow=!1}},_applyfilterfromfilterrow:function(){if(1!=this._disablefilterrow&&!this.disabled){for(var a=this.columns.records.length,b=this.that,c=0;c<a;c++){var f=new e.jqx.filter,d=this.columns.records[c];if(d.filterable&&null!==d.datafield){var g=b._getcolumntypebydatafield(d),h=b._getfiltertype(g),g=!0,l=function(a,c,d){var e=!0;if(a._filterwidget){var f=a._filterwidget.val();if(""!=f){var g="equal";"stringfilter"==c&&(g="contains");"numericfilter"==c&&","==b.gridlocalization.decimalseparator&&0<=f.indexOf(b.gridlocalization.decimalseparator)&&(f=f.replace(b.gridlocalization.decimalseparator,"."));if("stringfilter"!=c){var h=0;-1!=f.indexOf("\x3e")&&(g="greater_than",h=1);-1!=f.indexOf("\x3c")&&(g="less_than",h=1);-1!=f.indexOf("\x3d")&&("greater_than"==g?(g="greater_than_or_equal",h=2):"less_than"==g?(g="less_than_or_equal",h=2):(g="equal",h=1));if(0!=h&&(f=f.substring(h),1>f.length))return!1}void 0!=a.filtercondition&&(g=a.filtercondition);a="datefilter"==c?d.createfilter(c,f,g,null,a.cellsformat,b.gridlocalization):d.createfilter(c,f,g);d.addfilter(1,a)}else e=!1}return e};switch(d.filtertype){case "range":case "date":if(d._filterwidget.jqxDateTimeInput)if("range"==d.filtertype)if(l=d._filterwidget.jqxDateTimeInput("getRange"),null!=l&&null!=l.from&&null!=l.to){var k="GREATER_THAN_OR_EQUAL",m=new Date(0);m.setHours(0);m.setMinutes(0);m.setFullYear(l.from.getFullYear(),l.from.getMonth(),l.from.getDate());var n=new Date(0);n.setHours(0);n.setMinutes(0);n.setFullYear(l.to.getFullYear(),l.to.getMonth(),l.to.getDate());n.setHours(l.to.getHours());n.setMinutes(l.to.getMinutes());n.setSeconds(l.to.getSeconds());l=f.createfilter(h,m,k);f.addfilter(0,l);h=f.createfilter(h,n,"LESS_THAN_OR_EQUAL");f.addfilter(0,h)}else g=!1;else l=d._filterwidget.jqxDateTimeInput("getDate"),null!=l?(m=new Date(0),m.setHours(0),m.setMinutes(0),m.setFullYear(l.getFullYear(),l.getMonth(),l.getDate()),l=f.createfilter(h,m,"EQUAL"),f.addfilter(0,l)):g=!1;else g=l(d,h,f);break;case "input":d._filterwidget?(l=d._filterwidget.find("input").val(),n=d._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),k=f.getoperatorsbyfiltertype(h)[n],b.updatefilterconditions&&(k=b.updatefilterconditions(h,f.getoperatorsbyfiltertype(h)),void 0!=k&&f.setoperatorsbyfiltertype(h,k),k=f.getoperatorsbyfiltertype(h)[n]),n="NULL"==k||"NOT_NULL"==k,m="EMPTY"==k||"NOT_EMPTY"==k,void 0!=l&&0<l.length||n||m?(l=f.createfilter(h,l,k,null,d.cellsformat,b.gridlocalization),f.addfilter(0,l)):g=!1):g=!1;break;case "number":d._filterwidget?(l=d._filterwidget.find("input").val(),","==b.gridlocalization.decimalseparator&&0<=l.indexOf(b.gridlocalization.decimalseparator)&&(l=l.replace(b.gridlocalization.decimalseparator,".")),n=d._filterwidget.find(".filter").jqxDropDownList("selectedIndex"),k=f.getoperatorsbyfiltertype(h)[n],b.updatefilterconditions&&(k=b.updatefilterconditions(h,f.getoperatorsbyfiltertype(h)),void 0!=k&&f.setoperatorsbyfiltertype(h,k),k=f.getoperatorsbyfiltertype(h)[n]),n="NULL"==k||"NOT_NULL"==k,m="EMPTY"==k||"NOT_EMPTY"==k,void 0!=l&&0<l.length||n||m?(l=f.createfilter(h,new Number(l),k,null,d.cellsformat,b.gridlocalization),f.addfilter(0,l)):g=!1):g=!1;break;case "textbox":case "default":g=l(d,h,f);break;case "bool":case "boolean":d._filterwidget.jqxCheckBox?(l=d._filterwidget.jqxCheckBox("checked"),null!=l?(k="equal",k=f.createfilter(h,l,k),f.addfilter(1,k)):g=!1):g=l(d,h,f);break;case "list":n=d._filterwidget.jqxDropDownList("listBox");0<n.selectedIndex?(k=n.getItem(n.selectedIndex),l=k.label,m=k.value,k="equal",""===l&&(k="NULL"),k=f.createfilter(h,l,k),f.addfilter(1,k),m!==l&&(k.data=m)):g=!1;break;case "checkedlist":if(d._filterwidget.jqxDropDownList){var n=d._filterwidget.jqxDropDownList("listBox"),p=n.getCheckedItems();if(0==p.length){for(var q=1;q<n.items.length;q++)l=n.items[q].label,m=n.items[q].value,k="not_equal",""===l&&(k="NULL"),k=f.createfilter(h,l,k),m!==l&&(k.data=m),f.addfilter(0,k);g=!0}else if(p.length!=n.items.length)for(q=0;q<p.length;q++)l=p[q].label,m=p[q].value,k="equal",""===l&&(k="NULL"),k=f.createfilter(h,l,k),m!==l&&(k.data=m),f.addfilter(1,k);else g=!1}else g=l(d,h,f)}this._loading||(g?this.addfilter(d.displayfield,f,!1):this.removefilter(d.displayfield,!1))}}this._loading||this.applyfilters("filterrow")}},_updatefilterrow:function(){var a=e('\x3cdiv style\x3d"position: relative;" id\x3d"row00'+this.element.id+'"\x3e\x3c/div\x3e'),b=0,c=this.columns.records.length,f=this.toThemeProperty("jqx-grid-cell"),f=f+(" "+this.toThemeProperty("jqx-grid-cell-pinned")),f=f+(" "+this.toThemeProperty("jqx-grid-cell-filter-row")),d=c+10,g=[],h=this.that;this.filterrow[0].cells=g;a.height(this.filterrowheight);this.filterrow.children().detach();this.filterrow.append(a);this._filterrowcache||(this._filterrowcache=[]);this._initcolumntypes();for(var l=!1,k=[],m=document.createDocumentFragment(),n=0;n<c;n++){var p=this.columns.records[n],q=p.width;q<p.minwidth&&(q=p.minwidth);q>p.maxwidth&&(q=p.maxwidth);var r=document.createElement("div");r.style.overflow="hidden";r.style.position="absolute";r.style.height="100%";r.className=f;r=e(r);m.appendChild(r[0]);r[0].style.left=b+"px";this.rtl?(r.css("z-index",d++),r.css("border-left-width","1px")):r.css("z-index",d--);"auto"==q&&(q=0);r[0].style.width=parseFloat(q)+"px";r[0].left=b;p.hidden&&p.hideable?r.css("display","none"):b+=q;g[g.length]=r[0];var t=!0;if(this.rtl)this.groupable&&(v=this.showrowdetailscolumn&&this.rowdetails?1:0,this.groups.length+v+n>c-1&&(t=!1)),this.showrowdetailscolumn&&this.rowdetails&&n==c-1&&(t=!1);else{if(this.groupable){var v=this.showrowdetailscolumn&&this.rowdetails?1:0;this.groups.length+v>n&&(t=!1)}this.showrowdetailscolumn&&this.rowdetails&&0==n&&(t=!1)}t&&("custom"==p.filtertype&&p.createfilterwidget?p.createfilterwidget(p,r,function(){h._applyfilterfromfilterrow()}):p.filterable&&(this._filterrowcache[p.datafield]?(l=!0,r.append(this._filterrowcache[p.datafield]),p._filterwidget=this._filterrowcache[p.datafield]):(this._addfilterwidget(p,r,q),k[p.datafield]=p._filterwidget)))}a[0].appendChild(m);this._filterrowcache=k;e.jqx.browser.msie&&8>e.jqx.browser.version&&a.css("z-index",d--);a.width(parseFloat(b)+2);this.filterrow.addClass(f);this.filterrow.css("border-top-width","1px");this.filterrow.css("border-right-width","0px");l&&this._updatefilterrowui(!0)},_addfilterwidget:function(a,b,c){for(var f=this.that,d="",g="",g=0;g<f.dataview.filters.length;g++){var h=f.dataview.filters[g];if(h.datafield&&h.datafield==a.datafield){g=h.filter.getfilters()[0];d=g.value;g=g.condition;a.filtercondition=g;break}}g=function(b,f){var g=e('\x3cinput autocomplete\x3d"off" type\x3d"textarea"/\x3e');g[0].id=e.jqx.utilities.createId();g.addClass(b.toThemeProperty("jqx-widget"));g.addClass(b.toThemeProperty("jqx-input"));g.addClass(b.toThemeProperty("jqx-rc-all"));g.addClass(b.toThemeProperty("jqx-widget-content"));b.rtl&&g.css("direction","rtl");b.disabled&&g.attr("disabled",!0);g.attr("disabled",!1);g.appendTo(f);g.width(c-10);g.height(b.filterrowheight-10);g.css("margin","4px");a.createfilterwidget&&a.createfilterwidget(a,f,g);a._filterwidget=g;g.focus(function(){b.content[0].scrollLeft=0;setTimeout(function(){b.content[0].scrollLeft=0},10);b.focusedfilter=g;g.addClass(b.toThemeProperty("jqx-fill-state-focus"));return!1});g.blur(function(){g.removeClass(b.toThemeProperty("jqx-fill-state-focus"))});g.keydown(function(c){"13"==c.keyCode&&b._applyfilterfromfilterrow();g[0]._writeTimer&&clearTimeout(g[0]._writeTimer);g[0]._writeTimer=setTimeout(function(){b._loading||(b["_oldWriteText"+g[0].id]||(b["_oldWriteText"+g[0].id]=""),b["_oldWriteText"+g[0].id]!=g.val()&&(b._applyfilterfromfilterrow(),b["_oldWriteText"+g[0].id]=g.val()))},a.filterdelay);b.focusedfilter=g});b.host.removeClass("jqx-disableselect");b.content.removeClass("jqx-disableselect");g.val(d)};null!=a.datatype&&("number"!=a.filtertype||"string"!=a.datatype&&"date"!=a.datatype&&"bool"!=a.datatype||(a.filtertype="textbox"),"date"!=a.filtertype||"string"!=a.datatype&&"number"!=a.datatype&&"bool"!=a.datatype||(a.filtertype="textbox"),"bool"!=a.filtertype||"string"!=a.datatype&&"number"!=a.datatype&&"date"!=a.datatype||(a.filtertype="textbox"));switch(a.filtertype){case "number":case "input":h=e("\x3cdiv\x3e\x3c/div\x3e");h.width(b.width());h.height(this.filterrowheight);b.append(h);c=b.width()-20;(function(b,c,g){var h=e('\x3cinput style\x3d"float: left;" autocomplete\x3d"off" type\x3d"textarea"/\x3e');f.rtl&&(h.css("float","right"),h.css("direction","rtl"));h[0].id=e.jqx.utilities.createId();h.addClass(f.toThemeProperty("jqx-widget jqx-input jqx-rc-all jqx-widget-content"));h.appendTo(b);h.width(c-10);f.disabled&&h.attr("disabled",!0);h.attr("disabled",!1);h.height(f.filterrowheight-10);h.css("margin","4px");h.css("margin-right","2px");h.focus(function(){f.focusedfilter=h;h.addClass(f.toThemeProperty("jqx-fill-state-focus"))});h.blur(function(){h.removeClass(f.toThemeProperty("jqx-fill-state-focus"))});h.keydown(function(b){"13"==b.keyCode&&f._applyfilterfromfilterrow();h[0]._writeTimer&&clearTimeout(h[0]._writeTimer);h[0]._writeTimer=setTimeout(function(){f._loading||f["_oldWriteText"+h[0].id]==h.val()||(f._applyfilterfromfilterrow(),f["_oldWriteText"+h[0].id]=h.val())},a.filterdelay);f.focusedfilter=h});h.val(d);return h})(h,c);var l=f._getfiltersbytype("number"==a.filtertype?"number":"string"),k=e("\x3cdiv class\x3d'filter' style\x3d'float: left;'\x3e\x3c/div\x3e");k.css("margin-top","4px");k.appendTo(h);f.rtl&&k.css("float","right");var m=0;if(null!=a.filtercondition){var g=new e.jqx.filter,n=g.getoperatorsbyfiltertype("number"==a.filtertype?"numericfilter":"stringfilter").indexOf(a.filtercondition.toUpperCase());-1!=n&&(m=n)}g=170;"input"==a.filtertype&&(g=240,0==m&&(n=l.indexOf("contains"),-1!=n&&null==a.filtercondition&&(m=n)));k.jqxDropDownList({disabled:f.disabled,touchMode:f.touchmode,rtl:f.rtl,dropDownHorizontalAlignment:"right",enableBrowserBoundsDetection:!0,selectedIndex:m,width:18,height:21,dropDownHeight:150,dropDownWidth:g,source:l,theme:f.theme});k.jqxDropDownList({selectionRenderer:function(a){return""}});k.jqxDropDownList("setContent","");k.find(".jqx-dropdownlist-content").hide();a.createfilterwidget&&a.createfilterwidget(a,b,h);a._filterwidget=h;var p=null;this.addHandler(k,"select",function(){var b=k.jqxDropDownList("getSelectedItem").label;0<a._filterwidget.find("input").val().length&&!f.refreshingfilter&&f._applyfilterfromfilterrow();"input"!=a.filtertype||f.refreshingfilter?0!=a._filterwidget.find("input").val().length||f.refreshingfilter||"null"!=p&&"not null"!=p&&"null"!=b&&"not null"!=b||f._applyfilterfromfilterrow():f._applyfilterfromfilterrow();p=b});break;default:g(this,b);break;case "none":break;case "date":case "range":this.host.jqxDateTimeInput?(g=e("\x3cdiv\x3e\x3c/div\x3e"),g.css("margin","4px"),g.appendTo(b),g.jqxDateTimeInput({readonly:!0,disabled:f.disabled,localization:{calendar:this.gridlocalization,todayString:this.gridlocalization.todaystring,clearString:this.gridlocalization.clearstring},rtl:f.rtl,showFooter:!0,formatString:a.cellsformat,selectionMode:a.filtertype,value:null,theme:this.theme,width:c-10,height:this.filterrowheight-10}),a.createfilterwidget&&a.createfilterwidget(a,b,g),d&&1<d.toString().length&&g.val(d),a._filterwidget=g,this.addHandler(g,"valueChanged",function(a){f.refreshingfilter||(f._applyfilterfromfilterrow(),f.focusedfilter=null)})):g(this,b);break;case "list":case "checkedlist":if(this.host.jqxDropDownList){l=this._getfilterdataadapter(a);h=!1;k=e("\x3cdiv\x3e\x3c/div\x3e");k.css("margin","4px");m=a.datafield;n="checkedlist"==a.filtertype?!0:!1;g=150>c?220:"auto";l.dataBind();var q=8>l.records.length?!0:!1,h=q;k.appendTo(b);k.jqxDropDownList({placeHolder:f.gridlocalization.filterchoosestring,disabled:f.disabled,touchMode:f.touchmode,rtl:f.rtl,checkboxes:n,dropDownWidth:g,source:l.records,autoDropDownHeight:q,theme:this.theme,width:c-10,height:this.filterrowheight-10,displayMember:a.displayfield,valueMember:m});a.createfilterwidget&&a.createfilterwidget(a,b,k);var r=k.jqxDropDownList("listBox");if(n){if(k.jqxDropDownList({selectionRenderer:function(){return'\x3cspan class\x3d"'+f.toThemeProperty("jqx-item")+'" style\x3d"top: 2px; position: relative; color: inherit; border: none; background-color: transparent;"\x3e'+f.gridlocalization.filterselectstring+"\x3c/span\x3e"}}),b=e('\x3cspan style\x3d"top: 2px; position: relative; color: inherit; border: none; background-color: transparent;"\x3e'+f.gridlocalization.filterselectstring+"\x3c/span\x3e"),b.addClass(this.toThemeProperty("jqx-item")),void 0!=r){h||r.host.height(200);r.insertAt(f.gridlocalization.filterselectallstring,0);k.jqxDropDownList("setContent",b);var t=!0;r.checkAll(!1);f.addHandler(r.host,"checkChange",function(a){k[0]._selectionChanged=!0;if(t){if(a.args.label!=f.gridlocalization.filterselectallstring){t=!1;r.host.jqxListBox("checkIndex",0,!0,!1);a=r.host.jqxListBox("getCheckedItems");var b=r.host.jqxListBox("getItems");1==a.length?r.host.jqxListBox("uncheckIndex",0,!0,!1):b.length!=a.length&&r.host.jqxListBox("indeterminateIndex",0,!0,!1)}else t=!1,a.args.checked?r.host.jqxListBox("checkAll",!1):r.host.jqxListBox("uncheckAll",!1);t=!0}})}}else r.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),k.jqxDropDownList({selectedIndex:0});a._filterwidget=k;k.jqxDropDownList("dropdownlistWrapper");"list"==a.filtertype?this.addHandler(k,"select",function(a){!f.refreshingfilter&&a.args&&"none"!=a.args.type&&(f._applyfilterfromfilterrow(),f.focusedfilter=null)}):this.addHandler(k,"close",function(a){k[0]._selectionChanged&&(f._applyfilterfromfilterrow(),f.focusedfilter=null,k[0]._selectionChanged=!1)})}else g(this,b);break;case "bool":case "boolean":this.host.jqxCheckBox?(g=e('\x3cdiv tabIndex\x3d0 style\x3d"opacity: 0.99; position: absolute; top: 50%; left: 50%; margin-top: -7px; margin-left: -10px;"\x3e\x3c/div\x3e'),g.appendTo(b),g.jqxCheckBox({disabled:f.disabled,enableContainerClick:!1,animationShowDelay:0,animationHideDelay:0,hasThreeStates:!0,theme:this.theme,checked:null}),a.createfilterwidget&&a.createfilterwidget(a,b,g),!0===d||"true"==d?g.jqxCheckBox({checked:!0}):!1!==d&&"false"!=d||g.jqxCheckBox({checked:!1}),a._filterwidget=g,this.addHandler(g,"change",function(a){!f.refreshingfilter&&a.args&&(f.focusedfilter=null,f._applyfilterfromfilterrow())})):g(this,b)}},_getfilterdataadapter:function(a){if(this.source._source){var b={localdata:this.source.records,datatype:this.source.datatype,async:!1},c=this;dataadapter=new e.jqx.dataAdapter(b,{autoBind:!1,autoSort:!0,autoSortField:a.displayfield,async:!1,uniqueDataFields:[a.displayfield],beforeLoadComplete:function(b){var d=[];if(a.cellsformat){for(var e=c._getcolumntypebydatafield(a),h=0;h<b.length;h++){d.push(b[h]);var l=b[h][a.displayfield];b[h][a.displayfield+"JQValue"]=l;if("date"===e)b[h][a.displayfield]=null!=l?dataadapter.formatDate(l,a.cellsformat,c.gridlocalization):"";else if("number"===e||"float"===e||"int"===e)b[h][a.displayfield]=null!=l?dataadapter.formatNumber(l,a.cellsformat,c.gridlocalization):""}return d}return b}})}else dataadapter=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[a.displayfield],autoSort:!0,autoSortField:a.displayfield,async:!1});if(a.filteritems&&0<a.filteritems.length)b={localdata:a.filteritems,datatype:this.source.datatype,async:!1},dataadapter=new e.jqx.dataAdapter(b,{autoBind:!1,async:!1});else if(a.filteritems){if(a.filteritems._source)return a.filteritems._options.autoBind=!1,a.filteritems._options.async=!1,a.filteritems;if(e.isFunction(a.filteritems))return a.filteritems()}return dataadapter},refreshfilterrow:function(){if(this.showfilterrow){this.refreshingfilter=!0;this._updatefilterrowui();this._updatelistfilters(!0,!0);for(var a=this.that,b=this.columns.records.length,c=0;c<b;c++){var f=this.columns.records[c];if(f.filterable&&f.filter){var d=f.filter.getfilters();if(0<d.length){var g=d[0].value,h=f._filterwidget,l=f._filterwidget.parent();if(null!=h)switch(f.filtertype){case "number":l.find("input").val(g);this.host.jqxDropDownList&&(f=f.filter.getoperatorsbyfiltertype("numericfilter"),h.find(".filter").jqxDropDownList("selectIndex",f.indexOf(d[0].condition)));break;case "input":l.find("input").val(g);this.host.jqxDropDownList&&(f=f.filter.getoperatorsbyfiltertype("stringfilter"),h.find(".filter").jqxDropDownList("selectIndex",f.indexOf(d[0].condition)));break;case "date":case "range":this.host.jqxDateTimeInput?(g=f.filter.getfilterat(0).filtervalue,void 0!=g&&(d=f.filter.getfilterat(1)?f.filter.getfilterat(1).filtervalue:g,"range"==f.filtertype?e(l.children()[0]).jqxDateTimeInput("setRange",new Date(g),new Date(d)):e(l.children()[0]).jqxDateTimeInput("setDate",new Date(g)))):h.val(g);break;case "textbox":case "default":h.val(g);a["_oldWriteText"+h[0].id]=g;break;case "bool":case "boolean":this.host.jqxCheckBox?e(l.children()[0]).jqxCheckBox({checked:g}):h.val(g)}}}}this.refreshingfilter=!1}},_destroyedfilters:function(){for(var a=this.columns.records.length,b=0;b<a;b++){var c=this.columns.records[b];if(c.filterable){var f=c._filterwidget;"list"==c.filtertype||"checkedlist"==c.filtertype?(this.removeHandler(f,"select"),this.removeHandler(f,"close"),f.jqxDropDownList("destroy")):"date"==c.filtertype||"range"==c.filtertype?(this.removeHandler(f,"valueChanged"),f.jqxDateTimeInput("destroy")):"bool"==c.filtertype?(this.removeHandler(f,"change"),f.jqxCheckBox("destroy")):"number"==c.filtertype?(c=f.find(".jqx-input"),this.removeHandler(c,"keydown"),e(f.children()[1]).jqxDropDownList("destroy")):this.removeHandler(f,"keydown");f.remove()}}},_updatelistfilters:function(a,b){for(var c=this.that,f=this.columns.records.length,d=0;d<f;d++){var g=this.columns.records[d];if(g.filterable&&("list"==g.filtertype||"checkedlist"==g.filtertype)){var h=g._filterwidget;if(a){var l=this._getfilterdataadapter(g);h.jqxDropDownList({source:l});var k=h.jqxDropDownList("getItems"),m=!0;k.length!=l.records.length+1&&(m=!1);if(m)for(var n=1;n<k.length;n++)if(k[n].label!=l.records[n-1][g.displayfield]){m=!1;break}if(m&&!b)continue}else if(void 0==g.filter){h.jqxDropDownList("renderSelection");continue}m="checkedlist"==g.filtertype?!0:!1;k=h.jqxDropDownList("getItems");l=h.jqxDropDownList("listBox");h.jqxDropDownList("dataBind");if(m){if(h.jqxDropDownList({selectionRenderer:function(){return c.gridlocalization.filterselectstring}}),l.insertAt(this.gridlocalization.filterselectallstring,0),m=e('\x3cspan style\x3d"top: 2px; position: relative; color: inherit; border: none; background-color: transparent;"\x3e'+this.gridlocalization.filterselectstring+"\x3c/span\x3e"),m.addClass(this.toThemeProperty("jqx-item")),h.jqxDropDownList("setContent",m),l.checkAll(!1),g.filter){g=g.filter.getfilters();for(n=0;n<l.items.length;n++){var p=l.items[n].label,q=void 0;e.each(g,function(){var a;"NOT_EQUAL"==this.condition?a=p==this.value?!1:!0:"EQUAL"==this.condition&&(a=p==this.value?!0:!1);q=void 0==q&&void 0!==a?a:"EQUAL"==this.condition?q||a:q&&a});q?l.checkIndex(n,!1,!1):l.uncheckIndex(n,!1,!1)}l._updateCheckedItems();g=l.getCheckedItems().length;l.items.length!=g&&0<g&&l.host.jqxListBox("indeterminateIndex",0,!0,!1)}}else if(l.insertAt({label:this.gridlocalization.filterchoosestring,value:""},0),h.jqxDropDownList({selectedIndex:0}),g.filter){for(var g=g.filter.getfilters(),r=-1,n=0;n<l.items.length;n++)p=l.items[n].label,e.each(g,function(){if("NOT_EQUAL"==this.condition)return!0;if(p==this.value)return r=n,!1});-1!=r&&l.selectIndex(r)}8>k.length?h.jqxDropDownList("autoDropDownHeight",!0):h.jqxDropDownList("autoDropDownHeight",!1)}}},_renderfiltercolumn:function(){var a=this.that;this.filterable&&this.columns.records&&e.each(this.columns.records,function(b,c){var f=!1;a.autoshowfiltericon?this.filter?(e(this.filtericon).show(),f=!0):e(this.filtericon).hide():this.filterable&&(e(this.filtericon).show(),f=!0);"right"==this.align&&!this.renderer&&this.element&&(this.element.firstChild.firstChild.style.marginRight=f?"18px":"2px")})},_initcolumntypes:function(){if(this.columns&&this.columns.records){var a=this.source._source.datafields;if(a)for(var b=0;b<this.columns.records.length;b++){var c=this.columns.records[b];if(!c.datatype){var f="";e.each(a,function(){if(this.name==c.displayfield)return this.type&&(f=this.type),!1});c.datatype=""!=f?f:""}}}},_getcolumntypebydatafield:function(a){var b=this.that,c="string";if(b=b.source.datafields||(b.source._source?b.source._source.datafields:null)){var f="";e.each(b,function(){if(this.name==a.displayfield)return this.type&&(f=this.type),!1});if(f)return f}if(null!=a){if(void 0==this.dataview.cachedrecords)return c;var d=null;if(this.virtualmode)e.each(this.dataview.cachedrecords,function(){d=this[a.displayfield];return!1});else{if(0==this.dataview.cachedrecords.length)return c;d=this.dataview.cachedrecords[0][a.displayfield];if(null!=d&&""==d.toString())return"string"}if(null!=d)if("boolean"==typeof d)c="boolean";else if(e.jqx.dataFormat.isNumber(d))c="number";else if(c=new Date(d),"NaN"==c.toString()||"Invalid Date"==c.toString()){if(e.jqx.dataFormat&&(c=e.jqx.dataFormat.tryparsedate(d),null!=c))return c&&c.getFullYear()&&1970==c.getFullYear()&&0==c.getMonth()&&1==c.getDate()?(c=new Number(d),isNaN(c)?"string":"number"):"date";c="string"}else c="date"}return c},_getfiltersbytype:function(a){var b=this.that,c="";switch(a){case "number":case "float":case "int":c=b.gridlocalization.filternumericcomparisonoperators;break;case "date":c=b.gridlocalization.filterdatecomparisonoperators;break;case "boolean":case "bool":c=b.gridlocalization.filterbooleancomparisonoperators;break;default:c=b.gridlocalization.filterstringcomparisonoperators}return c},_getfiltertype:function(a){var b="stringfilter";switch(a){case "number":case "int":case "float":case "decimal":b="numericfilter";break;case "boolean":case "bool":b="booleanfilter";break;case "date":case "time":case "range":b="datefilter";break;case "string":case "input":b="stringfilter"}return b},_buildfilter:function(a,b,c){var f=e(b).find(".filter1"),d=e(b).find(".filter2"),g=e(b).find(".filter3"),h=e(b).find(".filtertext1"+a.element.id),l=e(b).find(".filtertext2"+a.element.id),k=h.val(),m=l.val(),h=a._getcolumntypebydatafield(c);a._getfiltersbytype(h);l=new e.jqx.filter;h=a._getfiltertype(h);if("default"===a.filtermode&&"list"!==c.filtertype&&"checkedlist"!==c.filtertype){var n=f.jqxDropDownList("selectedIndex"),f=d.jqxDropDownList("selectedIndex"),g=g.jqxDropDownList("selectedIndex"),d=d=null;a.updatefilterconditions&&(d=a.updatefilterconditions(h,l.getoperatorsbyfiltertype(h)),void 0!=d&&l.setoperatorsbyfiltertype(h,d));var d=!1,n=l.getoperatorsbyfiltertype(h)[n],g=l.getoperatorsbyfiltertype(h)[g],p="NULL"==n||"NOT_NULL"==n,q="EMPTY"==n||"NOT_EMPTY"==n;void 0==n&&(n=l.getoperatorsbyfiltertype(h)[0]);void 0==g&&(g=l.getoperatorsbyfiltertype(h)[0]);if(0<k.length||p||q)d=l.createfilter(h,k,n,null,c.cellsformat,a.gridlocalization),l.addfilter(f,d),d=!0;if(0<m.length||"NULL"==g||"NOT_NULL"==g||"EMPTY"==g||"NOT_EMPTY"==g)d=l.createfilter(h,m,g,null,c.cellsformat,a.gridlocalization),l.addfilter(f,d),d=!0;d?(a=c.displayfield,this.addfilter(a,l,!0)):this._clearfilter(a,b,c)}else if("excel"===a.filtermode||"list"===c.filtertype||"checkedlist"===c.filtertype){k=!1;k=f.data().jqxListBox.instance;m="excel"===this.filtermode||"checkedlist"===c.filtertype;b=k.getCheckedItems();m||(b=k.getSelectedItems());if(0==b.length){for(m=1;m<k.items.length;m++)g=k.items[m].value,void 0===g&&(g=""),f="not_equal",g&&g.indexOf&&(0<=g.indexOf("|")||0<=g.indexOf(" AND ")||0<=g.indexOf(" OR ")||0<=g.indexOf(" and ")||0<=g.indexOf(" or "))&&(g=g.replace("|",""),g=g.replace("AND",""),g=g.replace("OR",""),g=g.replace("and",""),g=g.replace("or",""),f="equal"),g="datefilter"==h?l.createfilter(h,g,f,null,c.cellsformat,a.gridlocalization):l.createfilter(h,g,f,null),l.addfilter(0,g);k=!0}else if(b.length!=k.items.length)for(k=!0,m=0;m<b.length;m++)a.gridlocalization.filterselectallstring!==b[m].value&&(g=b[m].value,void 0===g&&(g=""),f="equal",g="datefilter"==h?l.createfilter(h,g,f,null,c.cellsformat,a.gridlocalization):l.createfilter(h,g,f,null),l.addfilter(1,g));else k=!1;k?(a=c.displayfield,this.addfilter(a,l,!0)):(a=c.displayfield,this.removefilter(a,!0))}},_clearfilter:function(a,b,c){this.removefilter(c.displayfield,!0)},addfilter:function(a,b,c){if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);var e=this.getcolumn(a),d=this._getcolumn(a);void 0!=e&&null!=e&&(e.filter=b,d.filter=b,this.dataview.addfilter(a,b),1==c&&void 0!=c&&this.applyfilters("add"))},removefilter:function(a,b){if(this._loading)throw Error("jqxGrid: "+this.loadingerrormessage);var c=this.getcolumn(a),e=this._getcolumn(a);void 0!=c&&null!=c&&null!=c.filter&&(this.dataview.removefilter(a,c.filter),c.filter=null,e.filter=null,this.showfilterrow&&this.clearfilterrow(a),1!=b&&!1===b||this.applyfilters("remove"))},applyfilters:function(a){if(0<=this.dataview.filters.length&&(this.virtualmode||!this.source.localdata)&&null!=this.source&&this.source.filter){var b=-1;this.pageable?(b=this.dataview.pagenum,this.dataview.pagenum=0):(this.vScrollInstance.setPosition(0),this.loadondemand=!0,this._renderrows(this.virtualsizeinfo));this.pageable&&this.virtualmode&&(this.dataview.pagenum=0);this.source.filter(this.dataview.filters,this.dataview.records,this.dataview.records.length);this.pageable&&!this.virtualmode&&(this.dataview.pagenum=b)}this._cellscache=[];this.dataview.clearsortdata&&this.dataview.clearsortdata();this.virtualmode?(this.pageable&&(this.dataview.updateview(),this.gotopage&&this.gotopage(0)),this.rendergridcontent(!1,!1)):(this.dataview.refresh(),this.dataview.clearsortdata&&this.sortcolumn&&this.sortdirection&&(b=this.sortdirection.ascending?"asc":"desc",this._loading?this.sortby(this.sortcolumn,b,null,!1,!1):this.sortby(this.sortcolumn,b,null,!1)),this.pageable&&(this.dataview.updateview(),this.gotopage&&(this.gotopage(0),this.updatepagerdetails())),this._updaterowsproperties(),!this.groupable||this.groupable&&0==this.groups.length?(this._rowdetailscache=[],this.virtualsizeinfo=null,this._pagescache=[],this.columns&&this.columns.records&&0<this.columns.records.length&&!this.columns.records[0].filtericon&&(this.prerenderrequired=!0),this.rendergridcontent(!0,!1),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo),this.showaggregates&&this._updatecolumnsaggregates&&this._updatecolumnsaggregates()):(this._rowdetailscache=[],this._render(!0,!0,!1,!1,!1),this.showfilterrow&&this._updatefocusedfilter(),this._updatecolumnwidths(),this._updatecellwidths(),this._renderrows(this.virtualsizeinfo)));this.showfilterrow&&"string"!=typeof a&&e.isEmptyObject(a)&&this.refreshfilterrow();this._raiseEvent(13,{filters:this.dataview.filters})},getfilterinformation:function(){for(var a=[],b=0;b<this.dataview.filters.length;b++){var c=this.getcolumn(this.dataview.filters[b].datafield);a[b]={filter:this.dataview.filters[b].filter,datafield:c.datafield,displayfield:c.displayfield,filtercolumn:c.datafield,filtercolumntext:c.text}}return a},clearfilters:function(a){var b=this.that;this.showfilterrow&&this.clearfilterrow();if(this.columns.records){var c=1==a||!1!==a;e.each(this.columns.records,function(){b.removefilter(this.displayfield,!c)})}!1!==a&&(1!=a&&!1===a||this.applyfilters("clear"))},_destroyfilterpanel:function(){var a=e(e.find("#filterclearbutton"+this.element.id)),b=e(e.find("#filterbutton"+this.element.id)),c=e(e.find("#filter1"+this.element.id)),f=e(e.find("#filter2"+this.element.id)),d=e(e.find("#filter3"+this.element.id)),g=e(e.find(".filtertext1"+this.element.id)),h=e(e.find(".filtertext2"+this.element.id));0<g.length&&0<h.length&&(g.removeClass(),h.removeClass(),g.remove(),h.remove());0<a.length&&(a.jqxButton("destroy"),b.jqxButton("destroy"),this.removeHandler(a,"click"),this.removeHandler(b,"click"));0<c.length&&c.jqxDropDownList("destroy");0<f.length&&f.jqxDropDownList("destroy");0<d.length&&d.jqxDropDownList("destroy");c=e(e.find("#filter1"+this.element.id+"ex"));f=e(e.find("#filter2"+this.element.id+"ex"));d=e(e.find("#filter3"+this.element.id+"ex"));0<c.length&&c.jqxDropDownList("destroy");0<f.length&&f.jqxDropDownList("destroy");0<d.length&&d.jqxDropDownList("destroy")},_updatefilterpanel:function(a,b,c){if(null==a||void 0==a)a=this;var f=a._getcolumntypebydatafield(c),d=a._getfiltersbytype(f);if(!a.host.jqxDropDownList)throw Error("jqxGrid: Missing reference to jqxdropdownlist.js.");a.filterpanel.detach();a.excelfilterpanel.detach();c.filterpanel&&c.filterpanel.detach();e(b).children().detach();var g=e(a.menuitemsarray[6]);e(g).css("height","175px");c.createfilterpanel&&!c.filterpanel&&(g=e("\x3cdiv class\x3d'filter' style\x3d'margin-left: 7px;'\x3e\x3c/div\x3e"),e(b).append(g),c.createfilterpanel(c.displayfield,g),c.filterpanel=g);"list"===c.filtertype||"checkedlist"===c.filtertype?e(b).append(a.excelfilterpanel):"custom"!==c.filtertype?e(b).append(a.filterpanel):c.filterpanel&&e(b).append(c.filterpanel);var h=e(b),l=h.find("#filterclearbutton"+a.element.id),k=h.find("#filterbutton"+a.element.id),g=h.find(".filter1"),m=h.find(".filter2"),n=h.find(".filter3"),p=h.find(".filtertext1"+a.element.id),q=h.find(".filtertext2"+a.element.id);if(this._hasdatefilter&&"list"!==c.filtertype&&"checkedlist"!==c.filtertype&&"custom"!==c.filtertype){var r=p.parent(),t=q.parent();r.children().remove();t.children().remove();"date"==c.filtertype?(a._showwhere.text(a.gridlocalization.filtershowrowdatestring),q=e("\x3cdiv class\x3d'filtertext1"+a.element.id+"' style\x3d'margin-top: 3px; margin-bottom: 3px;'\x3e\x3c/div\x3e"),r.append(q),r=function(b){b.jqxDateTimeInput({disabled:a.disabled,localization:{calendar:a.gridlocalization,todayString:a.gridlocalization.todaystring,clearString:a.gridlocalization.clearstring},rtl:a.rtl,width:a._filterpanelwidth-15,height:20,value:null,formatString:c.cellsformat,theme:a.theme})},r(q),q=e("\x3cdiv class\x3d'filtertext2"+a.element.id+"' style\x3d'margin-top: 3px; margin-bottom: 3px;'\x3e\x3c/div\x3e")):(a._showwhere.text(a.gridlocalization.filtershowrowstring),q=e("\x3cinput class\x3d'filtertext1"+a.element.id+"' style\x3d'height: 20px; margin-top: 3px; margin-bottom: 3px;' type\x3d'text'\x3e\x3c/input\x3e"),r.append(q),r=function(b){b.addClass(a.toThemeProperty("jqx-input"));b.addClass(a.toThemeProperty("jqx-widget-content"));b.addClass(a.toThemeProperty("jqx-rc-all"));b.width(a._filterpanelwidth-15)},r(q),q=e("\x3cinput class\x3d'filtertext2"+a.element.id+"' style\x3d'height: 20px; margin-top: 3px; margin-bottom: 3px;' type\x3d'text'\x3e\x3c/input\x3e"));t.append(q);r(q);p=h.find(".filtertext1"+a.element.id);q=h.find(".filtertext2"+a.element.id)}"date"!=c.filtertype?(p.val(""),q.val("")):(p.val(null),q.val(null));this.removeHandler(k,"click");this.addHandler(k,"click",function(){a._buildfilter(a,b,c);a._closemenu()});this.removeHandler(l,"click");this.addHandler(l,"click",function(){a._clearfilter(a,b,c);a._closemenu()});this.removeHandler(k,"keydown");this.addHandler(k,"keydown",function(d){13===d.keyCode&&(a._buildfilter(a,b,c),a._closemenu())});this.removeHandler(l,"keydown");this.addHandler(l,"keydown",function(d){13===d.keyCode&&(a._clearfilter(a,b,c),a._closemenu())});this.removeHandler(p,"keydown");this.addHandler(p,"keydown",function(b){13===b.keyCode&&k.trigger("click");27===b.keyCode&&a._closemenu()});this.removeHandler(q,"keydown");this.addHandler(q,"keydown",function(b){13===b.keyCode&&k.trigger("click");27===b.keyCode&&a._closemenu()});if("default"===this.filtermode&&"list"!==c.filtertype&&"checkedlist"!==c.filtertype&&"custom"!==c.filtertype){g.jqxDropDownList("source")!=d&&(g.jqxDropDownList({enableBrowserBoundsDetection:!1,source:d}),n.jqxDropDownList({enableBrowserBoundsDetection:!1,source:d}));"boolean"==f||"bool"==f?(g.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0}),n.jqxDropDownList({autoDropDownHeight:!0,selectedIndex:0})):(t=!1,d&&d.length&&5>d.length&&(t=!0),g.jqxDropDownList({autoDropDownHeight:t,selectedIndex:2}),n.jqxDropDownList({autoDropDownHeight:t,selectedIndex:2}));m.jqxDropDownList({selectedIndex:0});h=c.filter;t=new e.jqx.filter;d="";switch(f){case "number":case "int":case "float":case "decimal":d="numericfilter";v=t.getoperatorsbyfiltertype("numericfilter");break;case "boolean":case "bool":d="booleanfilter";v=t.getoperatorsbyfiltertype("booleanfilter");break;case "date":case "time":d="datefilter";v=t.getoperatorsbyfiltertype("datefilter");break;case "string":d="stringfilter",v=t.getoperatorsbyfiltertype("stringfilter")}if(null!=h){r=h.getfilterat(0);t=h.getfilterat(1);h.getoperatorat(0);if(a.updatefilterconditions){var v=[],f=a.updatefilterconditions(d,v);if(void 0!=f){for(v=0;v<f.length;v++)f[v]=f[v].toUpperCase();h.setoperatorsbyfiltertype(d,f);v=f}}null!=r&&(f=v.indexOf(r.comparisonoperator),p.val(r.filtervalue),g.jqxDropDownList({selectedIndex:f,animationType:"default"}));null!=t&&(f=v.indexOf(t.comparisonoperator),q.val(t.filtervalue),n.jqxDropDownList({selectedIndex:f,animationType:"default"}));void 0==h.getoperatorat(0)?m.jqxDropDownList({selectedIndex:0,animationType:"default"}):"and"==h.getoperatorat(0)||0==h.getoperatorat(0)?m.jqxDropDownList({selectedIndex:0}):m.jqxDropDownList({selectedIndex:1})}a.updatefilterpanel&&a.updatefilterpanel(g,n,m,p,q,k,l,h,d,v);this._hasdatefilter&&(!this._hasdatefilter||"date"==c.filtertype)||this.touchdevice||(p.focus(),setTimeout(function(){p.focus()},10))}else if("excel"===this.filtermode||"list"===c.filtertype||"checkedlist"===c.filtertype)if(v=a._getfilterdataadapter(c),d=a._getfiltertype(f),l="excel"===this.filtermode||"checkedlist"===c.filtertype,g.jqxListBox("focus"),this.removeHandler(g,"keyup"),this.addHandler(g,"keyup",function(b){13===b.keyCode&&k.trigger("click");27===b.keyCode&&a._closemenu()}),c.cellsformat?g.jqxListBox({checkboxes:l,displayMember:c.displayfield,valueMember:c.displayfield+"JQValue",source:v}):g.jqxListBox({checkboxes:l,displayMember:c.displayfield,valueMember:c.displayfield,source:v}),l){g.jqxListBox("insertAt",a.gridlocalization.filterselectallstring,0);var u=g.data().jqxListBox.instance;u.checkAll(!1);if(c.filter){u.uncheckAll(!1);for(var g=c.filter.getfilters(),w=0;w<u.items.length;w++){var x=u.items[w].value;e.each(g,function(){if("NOT_EQUAL"==this.condition){if(x!=this.value||null!=x&&null!=this.value&&x.toString()!=this.value.toString())return u.uncheckIndex(w,!1,!1),!1}else if("EQUAL"==this.condition&&(x==this.value||null!=x&&null!=this.value&&x.toString()==this.value.toString()))return u.checkIndex(w,!1,!1),!1})}u._updateCheckedItems();g=u.getCheckedItems().length;u.items.length!=g&&0<g&&u.host.jqxListBox("indeterminateIndex",0,!0,!1);g===u.items.length-1&&u.host.jqxListBox("checkIndex",0,!0,!1)}}else if(c.filter){u=g.data().jqxListBox.instance;u.clearSelection();g=c.filter.getfilters();for(w=0;w<u.items.length;w++)x=u.items[w].value,e.each(g,function(){if("NOT_EQUAL"==this.condition){if(x!=this.value)return u.unselectIndex(w,!1,!1),!1}else if("EQUAL"==this.condition&&x==this.value)return u.selectIndex(w,!0,!1),!1});u._renderItems()}},_initfilterpanel:function(a,b,c,f,d){if(null==a||void 0==a)a=this;b[0].innerHTML="";var g=e("\x3cdiv class\x3d'filter' style\x3d'margin-left: 7px;'\x3e\x3c/div\x3e");b.append(g);var h=e("\x3cdiv class\x3d'filter' style\x3d'margin-top: 3px; margin-bottom: 3px;'\x3e\x3c/div\x3e");h.text(a.gridlocalization.filtershowrowstring);this._showwhere=h;var l=d?"ex":"",k=e("\x3cdiv class\x3d'filter filter1' id\x3d'filter1"+a.element.id+l+"'\x3e\x3c/div\x3e");b=e("\x3cdiv class\x3d'filter filter2' id\x3d'filter2"+a.element.id+l+"' style\x3d'margin-bottom: 3px;'\x3e\x3c/div\x3e");l=e("\x3cdiv class\x3d'filter filter3' id\x3d'filter3"+a.element.id+l+"'\x3e\x3c/div\x3e");c=a._getcolumntypebydatafield(c);if(!k.jqxDropDownList)throw Error("jqxGrid: jqxdropdownlist.js is not loaded.");c=a._getfiltersbytype(c);this._hasdatefilter=!1;this._filterpanelwidth=f;if(this.columns&&this.columns.records)for(var m=0;m<this.columns.records.length;m++)if("date"==this.columns.records[m].filtertype){this._hasdatefilter=!0;break}var m=e("\x3cdiv class\x3d'filter'\x3e\x3cinput class\x3d'filtertext1"+a.element.id+"' style\x3d'height: 20px; margin-top: 3px; margin-bottom: 3px;' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e"),n=m.find("input");n.addClass(this.toThemeProperty("jqx-input"));n.addClass(this.toThemeProperty("jqx-widget-content"));n.addClass(this.toThemeProperty("jqx-rc-all"));n.width(f-15);var p=e("\x3cdiv class\x3d'filter'\x3e\x3cinput class\x3d'filtertext2"+a.element.id+"' style\x3d'height: 20px; margin-top: 3px;' type\x3d'text'\x3e\x3c/input\x3e\x3c/div\x3e"),q=p.find("input");q.addClass(this.toThemeProperty("jqx-input"));q.addClass(this.toThemeProperty("jqx-widget-content"));q.addClass(this.toThemeProperty("jqx-rc-all"));q.width(f-15);a.rtl&&(n.css("direction","rtl"),q.css("direction","rtl"));n=e("\x3cdiv class\x3d'filter' style\x3d'height: 25px; margin-left: 20px; margin-top: 7px;'\x3e\x3c/div\x3e");q=e('\x3cspan tabIndex\x3d0 id\x3d"filterbutton'+a.element.id+'" class\x3d"filterbutton" style\x3d"padding: 4px 12px; margin-left: 2px;"\x3e'+a.gridlocalization.filterstring+"\x3c/span\x3e");n.append(q);var r=e('\x3cspan tabIndex\x3d0 id\x3d"filterclearbutton'+a.element.id+'" class\x3d"filterclearbutton" style\x3d"padding: 4px 12px; margin-left: 5px;"\x3e'+a.gridlocalization.filterclearstring+"\x3c/span\x3e");n.append(r);q.jqxButton({height:20,theme:a.theme});r.jqxButton({height:20,theme:a.theme});var t=function(b){if(b){if(-1!=b.text().indexOf("case sensitive")){var c=b.text(),c=c.replace("case sensitive","match case");b.text(c)}b.css("font-family",a.host.css("font-family"));b.css("font-size",a.host.css("font-size"));b.css("top","1px");b.css("position","relative");return b}return""};if("default"===this.filtermode&&!d)g.append(h),g.append(k),k.jqxDropDownList({_checkForHiddenParent:!1,rtl:a.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:f-15,height:20,dropDownHeight:150,dropDownWidth:f-15,selectionRenderer:t,source:c,theme:a.theme}),g.append(m),d=[],d[0]=a.gridlocalization.filterandconditionstring,d[1]=a.gridlocalization.filterorconditionstring,b.jqxDropDownList({_checkForHiddenParent:!1,rtl:a.rtl,enableBrowserBoundsDetection:!1,autoDropDownHeight:!0,selectedIndex:0,width:60,height:20,source:d,selectionRenderer:t,theme:a.theme}),g.append(b),l.jqxDropDownList({_checkForHiddenParent:!1,rtl:a.rtl,enableBrowserBoundsDetection:!1,selectedIndex:2,width:f-15,height:20,dropDownHeight:150,dropDownWidth:f-15,selectionRenderer:t,source:c,theme:a.theme}),g.append(l),g.append(p);else if("excel"===this.filtermode||d){g.append(h);g.append(k);k.attr("tabindex",0);k.jqxListBox({rtl:a.rtl,_checkForHiddenParent:!1,checkboxes:!0,selectedIndex:2,width:f-15,height:120,theme:a.theme});var v=!0;a.addHandler(k,"checkChange",function(b){if(v){if(b.args.label!=a.gridlocalization.filterselectallstring){v=!1;k.jqxListBox("checkIndex",0,!0,!1);b=k.jqxListBox("getCheckedItems");var c=k.jqxListBox("getItems");1==b.length?k.jqxListBox("uncheckIndex",0,!0,!1):c.length!=b.length&&k.jqxListBox("indeterminateIndex",0,!0,!1)}else v=!1,b.args.checked?k.jqxListBox("checkAll",!1):k.jqxListBox("uncheckAll",!1);v=!0}})}g.append(n);a.updatefilterpanel&&a.updatefilterpanel(k,l,b,m,p,q,r,null,null,c)}})})(jqxBaseFramework);(function(e){e.extend(e.jqx._jqxGrid.prototype,{_handledblclick:function(a,b){if(null!=a.target&&!b.disabled&&!e(a.target).ischildof(this.columnsheader)){var c;a.which?c=3==a.which:a.button&&(c=2==a.button);if(!c){var f;a.which?f=2==a.which:a.button&&(f=1==a.button);if(!f){f=this.showheader?this.columnsheader.height()+2:0;var d=this._groupsheader()?this.groupsheader.height():0,d=d+(this.showtoolbar?this.toolbarheight:0),g=this.host.offset();c=a.pageX-g.left;var h=this._hittestrow(c,a.pageY-f-g.top-d);if(h&&(f=h.row,g=a.target.className,h=this.table[0].rows[h.index],null!=h)){b.mousecaptured=!0;b.mousecaptureposition={left:a.pageX,top:a.pageY-d};for(var d=this.hScrollInstance.value,l=0,k=0;k<h.cells.length;k++){var m=parseInt(e(this.columnsrow[0].cells[k]).css("left")),n=m-d;b.columns.records[k].pinned&&(n=m);m=this._getcolumnat(k);if((null==m||!m.hidden)&&n+e(this.columnsrow[0].cells[k]).width()>=c&&c>=n){l=k;break}}null!=f&&(m=this._getcolumnat(l),-1==g.indexOf("jqx-grid-group-expand")&&-1==g.indexOf("jqx-grid-group-collapse")&&-1!=f.boundindex&&b.begincelledit(b.getboundindex(f),m.datafield,m.defaulteditorvalue))}}}}},_getpreveditablecolumn:function(a){for(;0<a;){a--;var b=this.getcolumnat(a);if(!b)break;if(b.editable&&!b.hidden)return b}return null},_getnexteditablecolumn:function(a){for(;a<this.columns.records.length;){a++;var b=this.getcolumnat(a);if(!b)break;if(b.editable&&!b.hidden)return b}return null},_handleeditkeydown:function(a,b){if(b.handlekeyboardnavigation&&1==b.handlekeyboardnavigation(a))return!0;var c=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(b.showfilterrow&&b.filterable&&this.filterrow&&e(a.target).ischildof(this.filterrow)||b.pageable&&e(a.target).ischildof(this.pager)||this.showtoolbar&&e(a.target).ischildof(this.toolbar)||this.showeverpresentrow&&(this.addnewrowtop&&e(a.target).ischildof(this.addnewrowtop)||this.addnewrowbottom&&e(a.target).ischildof(this.addnewrowbottom))||this.showstatusbar&&e(a.target).ischildof(this.statusbar)||this.rowdetails&&e(a.target).ischildof(this.content.find("[role\x3d'rowgroup']")))return!0;if(this.editcell){if("selectedrow"===this.editmode)return 13===c?this.endrowedit(this.editcell.row,!1):27===c&&this.endrowedit(this.editcell.row,!0),9===c?!1:!0;if(null==this.editcell.columntype||"textbox"==this.editcell.columntype||"numberinput"==this.editcell.columntype||"combobox"==this.editcell.columntype||"datetimeinput"==this.editcell.columntype){if(33<=c&&40>=c&&"multiplecellsadvanced"==b.selectionmode){var f="textbox"==this.editcell.columntype||null==this.editcell.columntype?this.editcell.editor:this.editcell.editor.find("input"),d=b._selection(f),f=f.val().length;0<d.length&&"datetimeinput"!=this.editcell.columntype&&(b._cancelkeydown=!0);0<d.start&&37==c&&(b._cancelkeydown=!0);d.start<f&&39==c&&"datetimeinput"!=this.editcell.columntype&&(b._cancelkeydown=!0);"datetimeinput"==this.editcell.columntype&&39==c&&d.start+d.length<f&&(b._cancelkeydown=!0)}}else if("dropdownlist"==this.editcell.columntype){if(37==c||39==c&&"multiplecellsadvanced"==b.selectionmode)b._cancelkeydown=!1}else"multiplecellsadvanced"==this.selectionmode&&"textbox"!=this.editcell.columntype&&"numberinput"!=this.editcell.columntype&&(b._cancelkeydown=!0);if(32==c&&"checkbox"==b.editcell.columntype&&(d=b.getcolumn(b.editcell.datafield),d.editable)){var g=!b.getcellvalue(b.editcell.row,b.editcell.column);if(d.cellbeginedit&&(c=d.cellbeginedit(b.editcell.row,d.datafield,d.columntype,!g),0==c))return!1;c=b.getrowdata(b.editcell.row);b.setcellvalue(b.editcell.row,b.editcell.column,g,!0);b._raiseEvent(18,{rowindex:b.editcell.row,row:c,datafield:b.editcell.column,oldvalue:!g,value:g,columntype:"checkbox"});return!1}if(9==c){var f=this.editcell.row,h=this.editcell.column,c=h,g=b._getcolumnindex(h),d=!1,l=b.getrowvisibleindex(f);this.editchar="";(d=this.editcell.validated)||(d=this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1));if(0!=d)if(a.shiftKey?(d=b._getpreveditablecolumn(g))?(h=d.datafield,d=!0,-1!=b.selectionmode.indexOf("cell")&&(b.selectprevcell(f,c),b._oldselectedcell=b.selectedcell,setTimeout(function(){b.ensurecellvisible(l,h)},10))):(c=b._getlastvisiblecolumn(),d=!0,h=c.displayfield,f--,-1!=b.selectionmode.indexOf("cell")&&(b.clearselection(),b.selectcell(f,h),b._oldselectedcell=b.selectedcell,setTimeout(function(){b.ensurecellvisible(l,h)},10))):(d=b._getnexteditablecolumn(g))?(h=d.datafield,d=!0,-1!=b.selectionmode.indexOf("cell")&&(b.selectnextcell(f,c),b._oldselectedcell=b.selectedcell,setTimeout(function(){b.ensurecellvisible(l,h)},10))):(c=b._getfirstvisiblecolumn(),d=!0,h=c.displayfield,f++,-1!=b.selectionmode.indexOf("cell")&&(b.clearselection(),b.selectcell(f,h),b._oldselectedcell=b.selectedcell,setTimeout(function(){b.ensurecellvisible(l,h)},10))),d)b.begincelledit(f,h),null!=this.editcell&&"checkbox"==this.editcell.columntype&&this._renderrows(this.virtualsizeinfo);else return null!=this.editcell&&(b.endcelledit(f,h,!1),this._renderrows(this.virtualsizeinfo)),!0;return!1}if(13==c)return(d=this.selectedcell)&&(g=this.getrowvisibleindex(d.rowindex)),this.endcelledit(this.editcell.row,this.editcell.column,!1,!0),"multiplecellsadvanced"==this.selectionmode&&(f=b.getselectedcell(),null!=f&&b.selectcell&&null==this.editcell&&f.rowindex+1<this.dataview.totalrecords)&&(this.sortcolumn!=f.datafield?(l=this.getrowvisibleindex(f.rowindex),(d=this.dataview.loadedrecords[l+1])&&(!this.pageable||this.pageable&&l+1<(this.dataview.pagenum+1)*this.pagesize)&&(this.clearselection(!1),this.selectcell(this.getboundindex(d),f.datafield),f=this.getselectedcell(),this.ensurecellvisible(d.visibleindex,f.datafield))):null!=d&&(d=this.dataview.loadedrecords[g+1])&&(!this.pageable||this.pageable&&g+1<this.pagesize?(this.clearselection(!1),this.selectcell(this.getboundindex(d),f.datafield)):this.pageable&&g+1>=this.pagesize&&(this.clearselection(!1),d=this.dataview.loadedrecords[g],this.selectcell(this.getboundindex(d),f.datafield)))),!1;if(27==c)return this.endcelledit(this.editcell.row,this.editcell.column,!0,!0),!1}else{d=!1;113==c&&(d=!0);if(!(a.ctrlKey||a.altKey||a.metaKey||(48<=c&&57>=c&&(this.editchar=String.fromCharCode(c),d=!0),65<=c&&90>=c?(this.editchar=String.fromCharCode(c),d=!1,a.shiftKey?d=a.shiftKey:a.modifiers&&(d=!!(a.modifiers&4)),d||(this.editchar=this.editchar.toLowerCase()),d=!0):96<=c&&105>=c&&(this.editchar=c-96,this.editchar=this.editchar.toString(),d=!0),f=e(".jqx-grid").length,d=d&&(1==f||1<f&&b.focused),f=e.data(document.body,"jqxgrid.edit"),void 0===f||""===f||13!==c&&!d||f==b.element.id)))return!0;if((13==c||d)&&b.getselectedrowindex){f=b.getselectedrowindex();switch(b.selectionmode){case "singlerow":case "multiplerows":case "multiplerowsextended":if(0<=f){h="";for(c=0;c<b.columns.records.length;c++)if(d=b.getcolumnat(c),d.editable){h=d.datafield;break}b.begincelledit(f,h)}break;case "singlecell":case "multiplecells":case "multiplecellsextended":f=b.getselectedcell();null!=f&&(d=b._getcolumnbydatafield(f.datafield),"checkbox"!=d.columntype&&b.begincelledit(f.rowindex,f.datafield));break;case "multiplecellsadvanced":if(f=b.getselectedcell(),null!=f)13==c?b.selectcell&&f.rowindex+1<b.dataview.totalrecords&&(l=this.getrowvisibleindex(f.rowindex),d=this.dataview.loadedrecords[l+1])&&(this.clearselection(!1),this.selectcell(this.getboundindex(d),f.datafield),f=this.getselectedcell(),this.ensurecellvisible(d.visibleindex,f.datafield)):"selectedrow"!==b.editmode&&b.begincelledit(f.rowindex,f.datafield)}return!1}if(46==c&&(g=b.getselectedcells(),-1==b.selectionmode.indexOf("cell")&&b._getcellsforcopypaste&&(g=b._getcellsforcopypaste()),null!=g&&0<g.length)){for(var k=0;k<g.length;k++)if(f=g[k],f.datafield){var d=b.getcolumn(f.datafield),m=b.getcellvalue(f.rowindex,f.datafield);if(""!==m&&d.editable&&b.enablekeyboarddelete){var n=null;"checkbox"==d.columntype&&(d.threestatecheckbox||(n=!1));if(d.cellbeginedit&&(c=d.cellbeginedit(f.rowindex,d.datafield,d.columntype,n),0==c))return!1;c=b.getrowdata(f.rowindex);b._raiseEvent(17,{rowindex:f.rowindex,row:c,datafield:f.datafield,value:m});k==g.length-1?b.setcellvalue(f.rowindex,f.datafield,n,!0):b.setcellvalue(f.rowindex,f.datafield,n,!1);d.displayfield!=d.datafield&&b.setcellvalue(f.rowindex,d.displayfield,n,!0);d.cellendedit&&d.cellendedit(f.rowindex,d.datafield,d.columntype,n);b._raiseEvent(18,{rowindex:f.rowindex,row:c,datafield:f.datafield,oldvalue:m,value:n})}}this.dataview.updateview();this._renderrows(this.virtualsizeinfo);return!1}if(32==c&&(f=b.getselectedcell(),null!=f&&(d=b.getcolumn(f.datafield),"checkbox"==d.columntype&&d.editable))){g=!b.getcellvalue(f.rowindex,f.datafield);if(d.cellbeginedit&&(c=d.cellbeginedit(f.rowindex,d.datafield,d.columntype,!g),0==c))return!1;c=b.getrowdata(f.rowindex);b._raiseEvent(17,{rowindex:f.rowindex,row:c,datafield:f.datafield,value:!g,columntype:"checkbox"});b.setcellvalue(f.rowindex,f.datafield,g,!0);b._raiseEvent(18,{rowindex:f.rowindex,row:c,datafield:f.datafield,oldvalue:!g,value:g,columntype:"checkbox"});return!1}}return!0},begincelledit:function(a,b,c,f,d){var g=this.getcolumn(b);this._cellscache=[];if(!(null==b||"number"==g.columntype||"button"==g.columntype||this.groupable&&(0<=this.groups.indexOf(b)||0<=this.groups.indexOf(g.displayfield)))&&void 0==this.editrow){if(this.editcell){if(this.editcell.row==a&&this.editcell.column==b)return!0;if("selectedrow"===this.editmode&&this.editcell.row==a||0==this.endcelledit(this.editcell.row,this.editcell.column,!1,!0,!1))return}var h="checkbox"==g.columntype||"button"==g.columntype;this.host.removeClass("jqx-disableselect");this.content.removeClass("jqx-disableselect");if(g.editable){if(g.cellbeginedit){var l=this.getcell(a,b);if(0==g.cellbeginedit(a,b,g.columntype,null!=l?l.value:null))return}l=this.getrowvisibleindex(a);if(this.editcell=this.getcell(a,b))if(this.editcell.visiblerowindex=l,!this.editcell.editing&&(h||(this.editcell.editing=!0),this.editcell.columntype=g.columntype,this.editcell.defaultvalue=c,void 0!=g.defaultvalue&&(this.editcell.defaultvalue=g.defaultvalue),this.editcell.init=!0,"checkbox"!=g.columntype&&"selectedrow"!=this.editmode&&(b=this.getrowdata(a),this._raiseEvent(17,{rowindex:a,row:b,datafield:g.datafield,value:this.editcell.value,columntype:g.columntype})),e.data(document.body,"jqxgrid.edit",this.element.id),h||(a=this.getrowvisibleindex(a),!1!==f&&this.ensurecellvisible(a,g.datafield),!1!==d&&this._renderrows(this.virtualsizeinfo)),this.editcell))return this.editcell.init=!1,!0}else this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,!1!==d&&this._renderrows(this.virtualsizeinfo),this.editcell=null)}},getScrollTop:function(){if(this._py||(this._py="undefined"!=typeof pageYOffset))return pageYOffset;var a=document.body,b=document.documentElement,b=b.clientHeight?b:a;return b.scrollTop},getScrollLeft:function(){if("undefined"!=typeof pageXOffset)return pageXOffset;var a=document.body,b=document.documentElement,b=b.clientHeight?b:a;return b.scrollLeft},endcelledit:function(a,b,c,f,d){if(void 0==a||void 0==b)this.editcell&&(a=this.editcell.row,b=this.editcell.column),void 0==c&&(c=!0);if(this.editcell){var g=this.getcolumn(b),h=this;if("selectedrow"===h.editmode)this.endrowedit(a,c);else{var l=function(){if(0!=d&&!h.isTouchDevice()&&!h.isNestedGrid){var a=h.getScrollTop(),b=h.getScrollLeft();try{h.element.focus(),h.content.focus(),a!=h.getScrollTop()&&window.scrollTo(b,a),setTimeout(function(){h.element.focus();h.content.focus();a!=h.getScrollTop()&&window.scrollTo(b,a)},10)}catch(c){}}};if("checkbox"==g.columntype||"button"==g.columntype)return this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1,this.editcell=null),!0;var k=this._geteditorvalue(g),m=function(c){c._hidecelleditor();g.cellendedit&&g.cellendedit(a,b,g.columntype,c.editcell.value,k);c.editchar=null;if(g.displayfield!=g.datafield){var d=c.getcellvalue(c.editcell.row,g.displayfield);oldvalue={value:c.editcell.value,label:d}}else oldvalue=c.editcell.value;d=c.getrowdata(a);c._raiseEvent(18,{rowindex:a,row:d,datafield:b,displayfield:g.displayfield,oldvalue:k,value:k,columntype:g.columntype});c.editcell.editor=null;c.editcell.editing=!1;c.editcell=null;(f||void 0==f)&&c._renderrows(c.virtualsizeinfo);l();c.enablebrowserselection||(c.host.addClass("jqx-disableselect"),c.content.addClass("jqx-disableselect"))};if(c)return m(this),!1;this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());g.cellvaluechanging&&(c=g.cellvaluechanging(a,b,g.columntype,this.editcell.value,k),void 0!=c&&(k=c));if(g.validation){c=this.getcell(a,b);try{var n=g.validation(c,k),p=this.gridlocalization.validationstring;void 0!=n.message&&(p=n.message);if("boolean"==typeof n?!n:!n.result)return void 0!=n.showmessage&&1!=n.showmessage||this._showvalidationpopup(a,b,p),this.editcell.validated=!1}catch(q){return this._showvalidationpopup(a,b,this.gridlocalization.validationstring),this.editcell.validated=!1}}g.displayfield!=g.datafield?(n=this.getcellvalue(this.editcell.row,g.displayfield),oldvalue={value:this.editcell.value,label:n}):oldvalue=this.editcell.value;n=this.getrowdata(a);if(g.cellendedit&&0==g.cellendedit(a,b,g.columntype,this.editcell.value,k))return this._raiseEvent(18,{rowindex:a,row:n,datafield:b,displayfield:g.displayfield,oldvalue:oldvalue,value:oldvalue,columntype:g.columntype}),m(this),!1;this._raiseEvent(18,{rowindex:a,row:n,datafield:b,displayfield:g.displayfield,oldvalue:oldvalue,value:k,columntype:g.columntype});this._hidecelleditor(!1);void 0!=this.editcell&&(this.editcell.editor=null,this.editcell.editing=!1);this.editchar=this.editcell=null;this.setcellvalue(a,b,k,f);this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect"));e.jqx.browser.msie||l();e.data(document.body,"jqxgrid.edit","");return!0}}},beginrowedit:function(a){var b=this;b._oldselectedrow=a;this._cellscache=[];var c=!1;"selectedrow"!=this.editmode&&(c=!0);if(c){var f=this.editmode;this.editmode="selectedrow"}e.each(this.columns.records,function(c,e){if(b.editable&&this.editable){var f=b.getcell(a,this.datafield);b.begincelledit(a,this.datafield,null,!1,!1);var l=b.getrowdata(a);b._raiseEvent(17,{rowindex:a,row:l,datafield:this.datafield,value:f.value,columntype:this.columntype})}});b.editcell&&(b.editcell.init=!0);this._renderrows(this.virtualsizeinfo);c&&(this.editmode=f)},endrowedit:function(a,b){var c=this;if(!this.editcell||void 0==this.editcell.editor)return!1;var f=!1;"selectedrow"!=this.editmode&&(f=!0);if(f){var d=this.editmode;this.editmode="selectedrow"}var g=!1,h={};this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());for(var l=0;l<this.columns.records.length;l++){var k=this.columns.records[l];if(k.editable&&!k.hidden&&"checkbox"!=k.columntype){var m=this._geteditorvalue(k),n=function(b){b._hidecelleditor();var c=b.getcellvalue(b.editcell.row,k.displayfield);k.cellendedit&&k.cellendedit(a,r,k.columntype,c,m);b.editchar=null;if(k.displayfield!=k.datafield){var d=b.getcellvalue(b.editcell.row,k.displayfield);p={value:c,label:d}}else p=c;d=b.getrowdata(a);b._raiseEvent(18,{rowindex:a,row:d,datafield:r,displayfield:k.displayfield,oldvalue:c,value:c,columntype:k.columntype});b.editcell.editing=!1};if(b)n(this);else{if(k.cellvaluechanging){var p=this.getcellvalue(this.editcell.row,k.displayfield),q=k.cellvaluechanging(a,r,k.columntype,p,m);void 0!=q&&(m=q)}var r=k.datafield;if(k.validation){q=this.getcell(a,k.datafield);try{var t=k.validation(q,m),v=this.gridlocalization.validationstring;void 0!=t.message&&(v=t.message);var u="boolean"==typeof t?t:t.result;if(!u){void 0!=t.showmessage&&1!=t.showmessage||this._showvalidationpopup(a,r,v);g=!0;this.editcell[k.datafield].validated=!1;continue}}catch(D){this._showvalidationpopup(a,r,this.gridlocalization.validationstring);this.editcell[k.datafield].validated=!1;g=!0;continue}}k.displayfield!=k.datafield?(q=this.getcellvalue(this.editcell.row,k.displayfield),p={value:this.editcell.value,label:q}):p=this.getcellvalue(this.editcell.row,k.displayfield);h[k.datafield]={newvalue:m,oldvalue:p}}}}var u={},w={};if(!g){this._hidecelleditor(!1);for(l=0;l<this.columns.records.length;l++)if(k=this.columns.records[l],r=k.datafield,!k.hidden&&k.editable){var x=this.getrowdata(a);"checkbox"==k.columntype?(m=this.getcellvalue(a,k.displayfield),this._raiseEvent(18,{rowindex:a,row:x,datafield:k.datafield,displayfield:k.displayfield,oldvalue:m,value:m,columntype:k.columntype})):h[k.datafield]&&(m=h[k.datafield].newvalue,p=h[k.datafield].oldvalue,k.cellendedit&&0==k.cellendedit(a,r,k.columntype,p,m)?(this._raiseEvent(18,{rowindex:a,row:x,datafield:r,displayfield:k.displayfield,oldvalue:p,value:p,columntype:k.columntype}),n(this)):(this.source.updaterow||this._raiseEvent(18,{rowindex:a,row:x,datafield:k.datafield,displayfield:k.displayfield,oldvalue:p,value:m,columntype:k.columntype}),u[k.datafield]=m,w[k.datafield]=p))}var z=this.getrowid(a),x=this.getrowdata(a);e.each(u,function(a,b){if(b&&void 0!=b.label){var d=c.getcolumn(a);x[d.displayfield]=b.label;x[d.datafield]=b.value}else x[a]=b});this.enablebrowserselection||(this.host.addClass("jqx-disableselect"),this.content.addClass("jqx-disableselect"));e.data(document.body,"jqxgrid.edit","");this.editchar=this.editcell=null;if(this.source.updaterow){h=!1;c=this;u=function(b){var d=c.source.updaterow;c.source.updaterow=null;0==b&&e.each(w,function(a,b){if(b&&void 0!=b.label){var d=c.getcolumn(a);x[d.displayfield]=b.label;x[d.datafield]=b.value}else x[a]=b});c.updaterow(z,x);for(b=0;b<c.columns.records.length;b++){var f=c.columns.records[b];c._raiseEvent(18,{rowindex:a,datafield:f.datafield,row:x,displayfield:f.displayfield,oldvalue:w[f.datafield],value:x[f.displayfield],columntype:f.columntype})}c.source.updaterow=d};try{h=this.source.updaterow(z,x,u),void 0==h&&(h=!0)}catch(D){h=!1;return}}else this.updaterow(z,x),this._renderrows(this.virtualsizeinfo)}f&&(this.editmode=d);return g},_selection:function(a){if("selectionStart"in a[0]){var b=a[0];a=b.selectionEnd-b.selectionStart;return{start:b.selectionStart,end:b.selectionEnd,length:a,text:b.value}}var c=document.selection.createRange();if(null==c)return{start:0,end:b.value.length,length:0};a=a[0].createTextRange();b=a.duplicate();a.moveToBookmark(c.getBookmark());b.setEndPoint("EndToStart",a);a=c.text.length;return{start:b.text.length,end:b.text.length+c.text.length,length:a,text:c.text}},_setSelection:function(a,b,c){"selectionStart"in c[0]?(c[0].focus(),c[0].setSelectionRange(a,b)):(c=c[0].createTextRange(),c.collapse(!0),c.moveEnd("character",b),c.moveStart("character",a),c.select())},findRecordIndex:function(a,b,c){if(b){b=c.length;for(var e=0;e<b;e++)if(a==c[e].label)return e}return-1},_destroyeditors:function(){var a=this;this.columns.records&&(e.each(this.columns.records,function(b,c){var f=e.trim(this.datafield).split(" ").join("");switch(this.columntype){case "dropdownlist":var d=a.editors["dropdownlist_"+f];d&&(d.jqxDropDownList("destroy"),a.editors["dropdownlist_"+f]=null);break;case "combobox":if(d=a.editors["combobox_"+f])d.jqxComboBox("destroy"),a.editors["combobox_"+f]=null;break;case "datetimeinput":if(d=a.editors["datetimeinput_"+this.datafield])d.jqxDateTimeInput("destroy"),a.editors["datetimeinput_"+f]=null;break;case "numberinput":if(d=a.editors["numberinput_"+f])d.jqxNumberInput("destroy"),a.editors["numberinput_"+f]=null;break;case "custom":case "template":a.destroyeditor&&a.editors["templateeditor_"+f]&&(a.destroyeditor(a.editors["templateeditor_"+f]),a.editors["templateeditor_"+f]=null);if(a.destroyeditor)for(var d=a.getrows.length(),g=0;g<d;g++)a.editors["customeditor_"+f+"_"+g]&&(a.destroyeditor(a.editors["customeditor_"+f+"_"+g],g),a.editors["customeditor_"+f+"_"+g]=null);break;default:if(d=a.editors["textboxeditor_"+f])a.removeHandler(d,"keydown"),a.editors["textbox_"+f]=null}}),a.editors=[])},_showcelleditor:function(a,b,c,f,d){if(void 0!=c&&null!=this.editcell&&("checkbox"!=b.columntype||!b.editable)){void 0==d&&(d=!0);"selectedrow"==this.editmode&&(this.editchar="",d=!1);var g=b.datafield,h=e(c),l=this,k=this.editcell.editor,m=this.getcellvalue(a,g),n=this.getcelltext(a,g),p=parseInt(this.hScrollInstance.value);this.columns.records.indexOf(b);this.editcell.element=c;if(0==this.editcell.validated){var q="";this.validationpopup&&(q=this.validationpopup.text());this._showvalidationpopup(a,g,q)}var r=function(a){l.hScrollInstance.isScrolling()||l.vScrollInstance.isScrolling()||!d||l.isTouchDevice()||(a&&a.focus(),0!=l.gridcontent[0].scrollTop&&(l.scrolltop(Math.abs(l.gridcontent[0].scrollTop)),l.gridcontent[0].scrollTop=0),0!=l.gridcontent[0].scrollLeft&&(l.gridcontent[0].scrollLeft=0))};switch(b.columntype){case "dropdownlist":if(this.host.jqxDropDownList){c.innerHTML="";var q=e.trim(b.datafield).split(" ").join(""),t=e.trim(b.displayfield).split(" ").join("");-1!=q.indexOf(".")&&(q=q.replace(".",""));-1!=t.indexOf(".")&&(t=t.replace(".",""));var v=this.editors["dropdownlist_"+q],k=void 0==v?e("\x3cdiv style\x3d'border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id\x3d'dropdownlisteditor'\x3e\x3c/div\x3e"):v;k.css("top",e(c).parent().position().top);this.oldhscroll?k.css("left",-p+parseInt(e(c).position().left)):k.css("left",parseInt(e(c).position().left));b.pinned&&k.css("left",p+parseInt(e(c).position().left));void 0==v&&(k.prependTo(this.table),k[0].id="dropdownlisteditor"+this.element.id+q,v=this.source._source?!0:!1,p=null,v?(p={localdata:this.source.records,datatype:this.source.datatype,async:!1},p=new e.jqx.dataAdapter(p,{autoBind:!1,async:!1,uniqueDataFields:[t],autoSort:!0,autoSortField:t})):p=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t],async:!1,autoSort:!0,autoSortField:t}),v=b.createeditor?!1:!0,k.jqxDropDownList({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:p,rtl:this.rtl,autoDropDownHeight:v,theme:this.theme,width:h.width()-2,height:h.height()-2,displayMember:t,valueMember:g}),this.editors["dropdownlist_"+q]=k,b.createeditor&&b.createeditor(a,m,k));b._requirewidthupdate&&k.jqxDropDownList({width:h.width()-2});h=k.jqxDropDownList("listBox").visibleItems;b.createeditor||(8>h.length?k.jqxDropDownList("autoDropDownHeight",!0):k.jqxDropDownList("autoDropDownHeight",!1));m=this.getcellvalue(a,t);h=this.findRecordIndex(m,t,h);f&&(""!=m?k.jqxDropDownList("selectIndex",h,!0):k.jqxDropDownList("selectIndex",-1));if(!this.editcell)return;void 0!=this.editcell.defaultvalue&&k.jqxDropDownList("selectIndex",this.editcell.defaultvalue,!0);d&&k.jqxDropDownList("focus")}break;case "combobox":if(this.host.jqxComboBox){c.innerHTML="";q=e.trim(b.datafield).split(" ").join("");t=e.trim(b.displayfield).split(" ").join("");-1!=q.indexOf(".")&&(q=q.replace(".",""));-1!=t.indexOf(".")&&(t=t.replace(".",""));v=this.editors["combobox_"+q];k=void 0==v?e("\x3cdiv style\x3d'border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id\x3d'comboboxeditor'\x3e\x3c/div\x3e"):v;k.css("top",e(c).parent().position().top);this.oldhscroll?k.css("left",-p+parseInt(e(c).position().left)):k.css("left",parseInt(e(c).position().left));b.pinned&&k.css("left",p+parseInt(e(c).position().left));void 0==v&&(k.prependTo(this.table),k[0].id="comboboxeditor"+this.element.id+q,v=this.source._source?!0:!1,p=null,v?(p={localdata:this.source.records,datatype:this.source.datatype,async:!1},p=new e.jqx.dataAdapter(p,{autoBind:!1,async:!1,uniqueDataFields:[t],autoSort:!0,autoSortField:t})):p=new e.jqx.dataAdapter(this.source,{autoBind:!1,uniqueDataFields:[t],async:!1,autoSort:!0,autoSortField:t}),v=b.createeditor?!1:!0,k.jqxComboBox({enableBrowserBoundsDetection:!0,keyboardSelection:!1,source:p,rtl:this.rtl,autoDropDownHeight:v,theme:this.theme,width:h.width()-2,height:h.height()-2,displayMember:t,valueMember:g}),k.removeAttr("tabindex"),k.find("div").removeAttr("tabindex"),this.editors["combobox_"+q]=k,b.createeditor&&b.createeditor(a,m,k));b._requirewidthupdate&&k.jqxComboBox({width:h.width()-2});h=k.jqxComboBox("listBox").visibleItems;b.createeditor||(8>h.length?k.jqxComboBox("autoDropDownHeight",!0):k.jqxComboBox("autoDropDownHeight",!1));m=this.getcellvalue(a,t);h=this.findRecordIndex(m,t,h);f&&(""!=m?k.jqxComboBox("selectIndex",h,!0):k.jqxComboBox("selectIndex",-1),k.jqxComboBox("val",m));if(!this.editcell)return;void 0!=this.editcell.defaultvalue&&k.jqxComboBox("selectIndex",this.editcell.defaultvalue,!0);this.editchar&&0<this.editchar.length&&k.jqxComboBox("input").val(this.editchar);d&&setTimeout(function(){r(k.jqxComboBox("input"));if(k)if(k.jqxComboBox("_setSelection",0,0),l.editchar)k.jqxComboBox("_setSelection",1,1),l.editchar=null;else if(k.jqxComboBox("input")){var a=k.jqxComboBox("input").val();k.jqxComboBox("_setSelection",0,a.length)}},10)}break;case "datetimeinput":this.host.jqxDateTimeInput&&(c.innerHTML="",q=e.trim(b.datafield).split(" ").join(""),-1!=q.indexOf(".")&&(q=q.replace(".","")),t=this.editors["datetimeinput_"+q],k=void 0==t?e("\x3cdiv style\x3d'border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id\x3d'datetimeeditor'\x3e\x3c/div\x3e"):t,k.show(),k.css("top",e(c).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(e(c).position().left)):k.css("left",parseInt(e(c).position().left)),b.pinned&&k.css("left",p+parseInt(e(c).position().left)),void 0==t&&(k.prependTo(this.table),k[0].id="datetimeeditor"+this.element.id+q,k.jqxDateTimeInput({enableBrowserBoundsDetection:!0,localization:{calendar:this.gridlocalization},_editor:!0,theme:this.theme,rtl:this.rtl,width:h.width(),height:h.height(),formatString:b.cellsformat}),this.editors["datetimeinput_"+q]=k,b.createeditor&&b.createeditor(a,m,k)),b._requirewidthupdate&&k.jqxDateTimeInput({width:h.width()-2}),f&&(""!=m&&null!=m?(h=new Date(m),"Invalid Date"==h&&this.source.getvaluebytype&&(h=this.source.getvaluebytype(m,{name:b.datafield,type:"date"})),k.jqxDateTimeInput("setDate",h)):k.jqxDateTimeInput("setDate",null),void 0!=this.editcell.defaultvalue&&k.jqxDateTimeInput("setDate",this.editcell.defaultvalue)),d&&setTimeout(function(){r(k.jqxDateTimeInput("dateTimeInput"))},10));break;case "numberinput":this.host.jqxNumberInput&&(c.innerHTML="",q=e.trim(b.datafield).split(" ").join(""),-1!=q.indexOf(".")&&(q=q.replace(".","")),t=this.editors["numberinput_"+q],k=void 0==t?e("\x3cdiv style\x3d'border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id\x3d'numbereditor'\x3e\x3c/div\x3e"):t,k.show(),k.css("top",e(c).parent().position().top),this.oldhscroll?k.css("left",-p+parseInt(e(c).position().left)):k.css("left",parseInt(e(c).position().left)),b.pinned&&k.css("left",p+parseInt(e(c).position().left)),void 0==t&&(k.prependTo(this.table),k[0].id="numbereditor"+this.element.id+q,p="",t="left",v=2,b.cellsformat?-1!=b.cellsformat.indexOf("c")?(p=this.gridlocalization.currencysymbol,t=this.gridlocalization.currencysymbolposition,t="before"==t?"left":"right",1<b.cellsformat.length&&(v=parseInt(b.cellsformat.substring(1),10))):-1!=b.cellsformat.indexOf("p")&&(p=this.gridlocalization.percentsymbol,t="right",1<b.cellsformat.length&&(v=parseInt(b.cellsformat.substring(1),10))):v=0,k.jqxNumberInput({decimalSeparator:this.gridlocalization.decimalseparator,decimalDigits:v,inputMode:"simple",theme:this.theme,rtl:this.rtl,width:h.width()-1,height:h.height()-1,spinButtons:!0,symbol:p,symbolPosition:t}),this.editors["numberinput_"+q]=k,b.createeditor&&b.createeditor(a,m,k)),b._requirewidthupdate&&k.jqxNumberInput({width:h.width()-2}),f&&(""!=m&&null!=m?k.jqxNumberInput("setDecimal",m):k.jqxNumberInput("setDecimal",0),void 0!=this.editcell.defaultvalue&&k.jqxNumberInput("setDecimal",this.editcell.defaultvalue),this.editchar&&0<this.editchar.length&&(h=parseInt(this.editchar),isNaN(h)||k.jqxNumberInput("setDecimal",h)),d&&setTimeout(function(){r(k.jqxNumberInput("numberInput"));k.jqxNumberInput("_setSelectionStart",0);if(l.editchar)0<b.cellsformat.length?k.jqxNumberInput("_setSelectionStart",2):k.jqxNumberInput("_setSelectionStart",1),l.editchar=null;else if(k.jqxNumberInput("spinButtons")){var a=k.jqxNumberInput("numberInput").val();l._setSelection(k.jqxNumberInput("numberInput")[0],a.length,a.length)}else a=k.jqxNumberInput("numberInput").val(),l._setSelection(k.jqxNumberInput("numberInput")[0],0,a.length);k.jqxNumberInput("selectAll")},10)));break;case "custom":c.innerHTML="";q=e.trim(b.datafield).split(" ").join("");-1!=q.indexOf(".")&&(q=q.replace(".",""));t=this.editors["customeditor_"+q+"_"+a];k=void 0==t?e("\x3cdiv style\x3d'overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id\x3d'customeditor'\x3e\x3c/div\x3e"):t;k.show();k.css("top",e(c).parent().position().top);this.oldhscroll?k.css("left",-p+parseInt(e(c).position().left)):k.css("left",parseInt(e(c).position().left));b.pinned&&k.css("left",p+parseInt(e(c).position().left));void 0==t&&(k.prependTo(this.table),k[0].id="customeditor"+this.element.id+q+"_"+a,this.editors["customeditor_"+q+"_"+a]=k,q=h.width()-1,p=h.height()-1,k.width(q),k.height(p),b.createeditor&&b.createeditor(a,m,k,n,q,p,this.editchar));b._requirewidthupdate&&k.width(h.width()-2);break;case "template":c.innerHTML="";q=e.trim(b.datafield).split(" ").join("");-1!=q.indexOf(".")&&(q=q.replace(".",""));t=this.editors["templateeditor_"+q];k=void 0==t?e("\x3cdiv style\x3d'overflow: hidden; border-radius: 0px; -moz-border-radius: 0px; -webkit-border-radius: 0px; z-index: 99999; top: 0px; left: 0px; position: absolute;' id\x3d'templateeditor'\x3e\x3c/div\x3e"):t;k.show();k.css("top",e(c).parent().position().top);this.oldhscroll?k.css("left",-p+parseInt(e(c).position().left)):k.css("left",parseInt(e(c).position().left));b.pinned&&k.css("left",p+parseInt(e(c).position().left));void 0==t&&(k.prependTo(this.table),k[0].id="templateeditor"+this.element.id+q,this.editors["templateeditor_"+q]=k,q=h.width()-1,p=h.height()-1,k.width(q),k.height(p),b.createeditor&&b.createeditor(a,m,k,n,q,p,this.editchar));b._requirewidthupdate&&k.width(h.width()-2);break;default:c.innerHTML="";k=this.editors["textboxeditor_"+b.datafield]||e("\x3cinput autocomplete\x3d'off' autocorrect\x3d'off' autocapitalize\x3d'off' spellcheck\x3d'false' type\x3d'textbox' id\x3d'textboxeditor'/\x3e");k[0].id="textboxeditor"+this.element.id+b.datafield;k.appendTo(h);this.rtl&&k.css("direction","rtl");if(f||""==k[0].className)k.addClass(this.toThemeProperty("jqx-input")),k.addClass(this.toThemeProperty("jqx-widget-content")),this.editchar&&0<this.editchar.length?k.val(this.editchar):(""!=b.cellsformat&&(m=this.getcelltext(a,g)),void 0==m&&(m=""),k.val(m)),void 0!=this.editcell.defaultvalue&&k.val(this.editcell.defaultvalue),k.width(h.width()+1),k.height(h.height()+1),b.createeditor&&b.createeditor(a,m,k),""==b.cellsformat||-1==b.cellsformat.indexOf("p")&&-1==b.cellsformat.indexOf("c")&&-1==b.cellsformat.indexOf("n")&&-1==b.cellsformat.indexOf("f")||this.editors["textboxeditor_"+b.datafield]||k.keydown(function(a){a=String.fromCharCode(a.charCode?a.charCode:a.keyCode?a.keyCode:0);a=parseInt(a);if(isNaN(a)||0<l._selection(k).length)return!0;a="";var c=k.val();if(1<b.cellsformat.length){var d=parseInt(b.cellsformat.substring(1));isNaN(d)&&(d=0)}else d=0;if(0<d&&-1!=c.indexOf(l.gridlocalization.decimalseparator)&&l._selection(k).start>c.indexOf(l.gridlocalization.decimalseparator))return!0;for(var e=0;e<c.length-d;e++){var f=c.substring(e,e+1);null!=f.match(/^[0-9]+$/)&&(a+=f)}if(11<=a.length)return!1});this.editors["textboxeditor_"+b.datafield]=k;f&&d&&setTimeout(function(){r(k);l.editchar?(l._setSelection(k[0],1,1),l.editchar=null):l._setSelection(k[0],0,k.val().length)},25)}k&&(k[0].style.zIndex=1+c.style.zIndex,e.jqx.browser.msie&&8>e.jqx.browser.version&&(k[0].style.zIndex=1+this.columns.records.length+c.style.zIndex),k.css("display","block"),this.editcell.editor=k,this.editcell[g]||(this.editcell[g]={}),this.editcell[g].editor=k);f&&b.initeditor&&b.initeditor(a,m,k,n,this.editchar);l.isTouchDevice()||setTimeout(function(){l.content&&(l.content[0].scrollTop=0,l.content[0].scrollLeft=0);l.gridcontent&&(l.gridcontent[0].scrollLeft=0,l.gridcontent[0].scrollTop=0)},10)}},_setSelection:function(a,b,c){try{if("selectionStart"in a)a.setSelectionRange(b,c);else{var e=a.createTextRange();e.collapse(!0);e.moveEnd("character",c);e.moveStart("character",b);e.select()}}catch(d){}},_hideeditors:function(){if(null!=this.editcells)for(var a in this.editcells)this.editcell=this.editcells[a],this._hidecelleditor()},_hidecelleditor:function(a){if(this.editcell)if("selectedrow"===this.editmode){for(a=0;a<this.columns.records.length;a++){var b=this.columns.records[a];if(this.editcell[b.datafield]&&this.editcell[b.datafield].editor){this.editcell[b.datafield].editor.hide();var c=this.editcell[b.datafield].editor;switch(b.columntype){case "dropdownlist":c.jqxDropDownList({closeDelay:0});c.jqxDropDownList("hideListBox");c.jqxDropDownList({closeDelay:300});break;case "combobox":c.jqxComboBox({closeDelay:0});c.jqxComboBox("hideListBox");c.jqxComboBox({closeDelay:300});break;case "datetimeinput":c.jqxDateTimeInput("isOpened")&&(c.jqxDateTimeInput({closeDelay:0}),c.jqxDateTimeInput("hideCalendar"),c.jqxDateTimeInput({closeDelay:300}))}}}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide())}else if("checkbox"!=this.editcell.columntype){if(this.editcell.editor)switch(this.editcell.editor.hide(),this.editcell.columntype){case "dropdownlist":this.editcell.editor.jqxDropDownList({closeDelay:0});this.editcell.editor.jqxDropDownList("hideListBox");this.editcell.editor.jqxDropDownList({closeDelay:300});break;case "combobox":this.editcell.editor.jqxComboBox({closeDelay:0});this.editcell.editor.jqxComboBox("hideListBox");this.editcell.editor.jqxComboBox({closeDelay:300});break;case "datetimeinput":b=this.editcell.editor,b.jqxDateTimeInput("isOpened")&&(b.jqxDateTimeInput({closeDelay:0}),b.jqxDateTimeInput("hideCalendar"),b.jqxDateTimeInput({closeDelay:300}))}this.validationpopup&&(this.validationpopup.hide(),this.validationpopuparrow.hide());this.isNestedGrid||0!=a&&this.element.focus()}},_geteditorvalue:function(a){var b=new String;if(!this.editcell)return null;var c=this.editcell.editor;"selectedrow"==this.editmode&&this.editcell[a.datafield]&&(c=this.editcell[a.datafield].editor);if(c){switch(a.columntype){default:b=c.val();if(""!=a.cellsformat){var f="string",d=this.source.datafields||(this.source._source?this.source._source.datafields:null);if(d){var g="";e.each(d,function(){if(this.name==a.displayfield)return this.type&&(g=this.type),!1});g&&(f=g)}d="date"===f||"time"===f;if("number"===f||"float"===f||"int"===f||"integer"===f||"string"===f&&(-1!=a.cellsformat.indexOf("p")||-1!=a.cellsformat.indexOf("c")||-1!=a.cellsformat.indexOf("n")||-1!=a.cellsformat.indexOf("f"))){if(""===b&&a.nullable)return"";-1<b.indexOf(this.gridlocalization.currencysymbol)&&(b=b.replace(this.gridlocalization.currencysymbol,""));var h;h=new Number(b);if(!isNaN(h))return h;b=function(a,b,c){var d=a;if(b==c)return a;for(a=d.indexOf(b);-1!=a;)d=d.replace(b,c),a=d.indexOf(b);return d}(b,this.gridlocalization.thousandsseparator,"");b=b.replace(this.gridlocalization.decimalseparator,".");-1<b.indexOf(this.gridlocalization.percentsymbol)&&(b=b.replace(this.gridlocalization.percentsymbol,""));h="";for(var l=0;l<b.length;l++){var k=b.substring(l,l+1);"-"===k&&(h+="-");"."===k&&(h+=".");null!=k.match(/^[0-9]+$/)&&(h+=k)}b=h.replace(/ /g,"");b=new Number(b);isNaN(b)&&(b="")}if(d||"string"===f&&(-1!=a.cellsformat.indexOf("H")||-1!=a.cellsformat.indexOf("m")||-1!=a.cellsformat.indexOf("M")||-1!=a.cellsformat.indexOf("y")||-1!=a.cellsformat.indexOf("h")||-1!=a.cellsformat.indexOf("d"))){if(""===b&&a.nullable)return"";f=b;e.jqx.dataFormat&&(b=e.jqx.dataFormat.tryparsedate(f,this.gridlocalization));if("Invalid Date"==b||null==b)b=""}}a.displayfield!=a.datafield&&(b={label:b,value:b});break;case "checkbox":c.jqxCheckBox&&(b=c.jqxCheckBox("checked"));break;case "datetimeinput":if(c.jqxDateTimeInput){c.jqxDateTimeInput({isEditing:!1});c.jqxDateTimeInput("_validateValue");b=c.jqxDateTimeInput("getDate");if(null==b)return null;b=new Date(b.toString());a.displayfield!=a.datafield&&(b={label:b,value:b})}break;case "dropdownlist":c.jqxDropDownList&&(b=c.jqxDropDownList("selectedIndex"),f=c.jqxDropDownList("listBox").getVisibleItem(b),b=a.displayfield!=a.datafield?f?{label:f.label,value:f.value}:"":f?f.label:"",null==b&&(b=""));break;case "combobox":c.jqxComboBox&&(b=c.jqxComboBox("val"),a.displayfield!=a.datafield&&(f=c.jqxComboBox("getSelectedItem"),null!=f&&(b={label:f.label,value:f.value})),null==b&&(b=""));break;case "numberinput":c.jqxNumberInput&&(this.touchdevice&&c.jqxNumberInput("_doTouchHandling"),b=c.jqxNumberInput("getDecimal"),b=new Number(b),b=parseFloat(b),isNaN(b)&&(b=0),a.displayfield!=a.datafield&&(b={label:b,value:b}))}a.geteditorvalue&&(b="selectedrow"==this.editmode?a.geteditorvalue(this.editcell.row,this.getcellvalue(this.editcell.row,a.datafield),c):a.geteditorvalue(this.editcell.row,this.editcell.value,c))}return b},hidevalidationpopups:function(){this.popups&&(e.each(this.popups,function(){this.validation.remove();this.validationrow.remove()}),this.popups=[]);this.validationpopup&&(this.validationpopuparrow.hide(),this.validationpopup.hide())},showvalidationpopup:function(a,b,c){void 0==c&&(c=this.gridlocalization.validationstring);var f=e("\x3cdiv style\x3d'z-index: 99999; top: 0px; left: 0px; position: absolute;'\x3e\x3c/div\x3e"),d=e("\x3cdiv style\x3d'width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'\x3e\x3c/div\x3e");f.html(c);d.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));f.addClass(this.toThemeProperty("jqx-grid-validation"));f.addClass(this.toThemeProperty("jqx-rc-all"));f.prependTo(this.table);d.prependTo(this.table);for(var g=parseInt(this.hScrollInstance.value),h=this.getcolumn(b).uielement,l=null,k=0;k<this.hittestinfo.length;k++)a===this.hittestinfo[k].row.visibleindex&&(l=this.hittestinfo[k]);if(l){k=e(l.visualrow);f.css("top",parseInt(k.position().top)+30+"px");var m=parseInt(f.css("top"));d.css("top",m-12);d.removeClass();d.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));l=!1;m>=this._gettableheight()&&(d.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),d.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),m=parseInt(k.position().top)-this.rowsheight-5,0>m&&(m=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),l=!0),f.css("top",m+"px"),d.css("top",m+f.outerHeight()-9));k=-g+parseInt(e(h).position().left);d.css("left",g+k+30);m=f.width();m+k>this.host.width()-20&&(m=m+k-this.host.width()+40,k-=m);l?f.css("left",g+parseInt(e(h).position().left)-f.outerWidth()):f.css("left",g+k);f.show();d.show();this.popups||(this.popups=[]);this.popups[this.popups.length]={validation:f,validationrow:d}}else{this.ensurerowvisible(a);var n=this;f.remove();d.remove();setTimeout(function(){for(var d=null,e=0;e<n.hittestinfo.length;e++)a===n.hittestinfo[e].row.visibleindex&&(d=n.hittestinfo[e]);d&&n.showvalidationpopup(a,b,c)},25)}},_showvalidationpopup:function(a,b,c){a=this.editcell;var f=this.editcell.editor;"selectedrow"==this.editmode&&(a=this.editcell[b])&&a.editor&&(f=a.editor,a.element=f);if(f){if(this.validationpopup&&e.jqx.isHidden(this.validationpopup)&&(this.validationpopup.remove&&(this.validationpopup.remove(),this.validationpopuparrow.remove()),this.validationpopuparrow=this.validationpopup=null,void 0===b&&void 0===c&&this.editors&&0===this.editors.length))return;this.validationpopup?this.validationpopup.html(c):(b=e("\x3cdiv style\x3d'z-index: 99999; top: 0px; left: 0px; position: absolute;'\x3e\x3c/div\x3e"),f=e("\x3cdiv style\x3d'width: 20px; height: 20px; z-index: 999999; top: 0px; left: 0px; position: absolute;'\x3e\x3c/div\x3e"),b.html(c),f.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),b.addClass(this.toThemeProperty("jqx-grid-validation")),b.addClass(this.toThemeProperty("jqx-rc-all")),b.prependTo(this.table),f.prependTo(this.table),this.validationpopup=b,this.validationpopuparrow=f);c=parseInt(this.hScrollInstance.value);"selectedrow"==this.editmode?this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.validationpopup.css("top",this.visiblerows[this.editcell.visiblerowindex].top+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(a.editor).position().top)+(this.rowsheight+5)+"px"):this.validationpopup.css("top",parseInt(e(a.element).parent().position().top)+(this.rowsheight+5)+"px");f=parseInt(this.validationpopup.css("top"));this.validationpopuparrow.css("top",f-11);this.validationpopuparrow.removeClass();this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-up"));var d=this._gettableheight();b=!1;f>=d&&(this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-up")),this.validationpopuparrow.addClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),f=parseInt(e(a.element).parent().position().top)-this.rowsheight-5,"selectedrow"==this.editmode&&(f=this.visiblerows&&this.visiblerows[this.editcell.visiblerowindex]?this.visiblerows[this.editcell.visiblerowindex].top-this.rowsheight-5:parseInt(e(a.editor).position().top)-this.rowsheight-5),0>f&&(f=0,this.validationpopuparrow.removeClass(this.toThemeProperty("jqx-grid-validation-arrow-down")),b=!0),this.validationpopup.css("top",f+"px"),this.validationpopuparrow.css("top",f+this.validationpopup.outerHeight()-9));f=-c+parseInt(e(a.element).position().left);this.validationpopuparrow.css("left",c+f+30);d=this.validationpopup.width();d+f>this.host.width()-20&&(d=d+f-this.host.width()+40,f-=d);b?this.validationpopup.css("left",c+parseInt(e(a.element).position().left)-this.validationpopup.outerWidth()):this.validationpopup.css("left",c+f);"none"==this.editcell.editor.css("display")?(this.validationpopup.hide(),this.validationpopuparrow.hide()):(this.validationpopup.show(),this.validationpopuparrow.show())}}})})(jqxBaseFramework);(function(e){e.extend(e.jqx._jqxGrid.prototype,{_initpager:function(){var a=this.that,b=this.gridlocalization.pagergotopagestring,c=this.gridlocalization.pagershowrowsstring,f=(this.pagerheight-17)/2;this.pagerdiv=this.pagerdiv||e('\x3cdiv style\x3d"width: 100%; height: 100%; position: relative;"\x3e\x3c/div\x3e');if(this.pageable){if(this.pagerrenderer)this.pagerdiv.children().remove(),b=this.pagerrenderer(),null!=b&&this.pagerdiv.append(e(b)),this.pager.append(this.pagerdiv);else{this.pagerdiv.css("top",f);this.pager.append(this.pagerdiv);this.pagergotoinput=this.pagergotoinput||e('\x3cdiv style\x3d"margin-right: 7px; width: 27px; height: 17px; float: right;"\x3e\x3cinput style\x3d"margin-top: 0px; text-align: right; width: 27px;" type\x3d"text"/\x3e\x3c/div\x3e');this.pagergoto=this.pagergoto||e('\x3cdiv style\x3d"float: right; margin-right: 7px;"\x3e\x3c/div\x3e');this.pagerrightbutton=this.pagerrightbutton||e('\x3cdiv type\x3d"button" style\x3d"padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"\x3e\x3c/div\x3e');this.pagerleftbutton=this.pagerleftbutton||e('\x3cdiv type\x3d"button" style\x3d"padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"\x3e\x3c/div\x3e');this.pagerdetails=this.pagerdetails||e('\x3cdiv style\x3d"margin-right: 7px; float: right;"\x3e\x3c/div\x3e');this.pagershowrows=this.pagershowrows||e('\x3cdiv style\x3d"margin-right: 7px; float: right;"\x3e\x3c/div\x3e');this.pagerbuttons=e('\x3cdiv style\x3d"margin-right: 3px; float: right;"\x3e\x3c/div\x3e');this.pagershowrowscombo&&this.pagershowrowscombo.jqxDropDownList&&(this.pagershowrowscombo.remove(),this.pagershowrowscombo=null);this.pagergotoinput.attr("disabled",this.disabled);this.pagerfirstbutton=e('\x3cdiv type\x3d"button" style\x3d"padding: 0px; margin-top: 0px; margin-left: 3px; margin-right: 3px; width: 27px; float: right;"\x3e\x3c/div\x3e');this.pagerlastbutton=e('\x3cdiv type\x3d"button" style\x3d"padding: 0px; margin-top: 0px; margin-right: 3px; width: 27px; float: right;"\x3e\x3c/div\x3e');this.pagershowrowscombo=this.pagershowrowscombo||e('\x3cdiv id\x3d"gridpagerlist" style\x3d"margin-top: 0px; margin-right: 7px; float: right;"\x3e\x3c/div\x3e');this.pagerdiv.children().remove();this.pagershowrowscombo[0].id="gridpagerlist"+this.element.id;this.removeHandler(this.pagerrightbutton,"mousedown");this.removeHandler(this.pagerrightbutton,"mouseup");this.removeHandler(this.pagerrightbutton,"click");this.removeHandler(this.pagerleftbutton,"mousedown");this.removeHandler(this.pagerleftbutton,"mouseup");this.removeHandler(this.pagerleftbutton,"click");this.removeHandler(this.pagerfirstbutton,"mousedown");this.removeHandler(this.pagerfirstbutton,"mouseup");this.removeHandler(this.pagerfirstbutton,"click");this.removeHandler(this.pagerlastbutton,"mousedown");this.removeHandler(this.pagerlastbutton,"mouseup");this.removeHandler(this.pagerlastbutton,"click");this.pagerleftbutton.attr("title",this.gridlocalization.pagerpreviousbuttonstring);this.pagerrightbutton.attr("title",this.gridlocalization.pagernextbuttonstring);if("simple"==this.pagermode){e.jqx.browser.msie&&8>e.jqx.browser.version&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px"));this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring);this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring);var d=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e");d.addClass(this.toThemeProperty("jqx-icon-arrow-first"));this.pagerfirstbutton.wrapInner(d);var g=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e");g.addClass(this.toThemeProperty("jqx-icon-arrow-last"));this.pagerlastbutton.wrapInner(g);this.rtl?(this.pagerdiv.append(this.pagerlastbutton),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerfirstbutton)):(this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton));this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});f=this.rtl?"right":"left";this.pagerbuttons.css("float",f);this.pagerlastbutton.css("float",f);this.pagerfirstbutton.css("float",f);this.pagerrightbutton.css("float",f);this.pagerleftbutton.css("float",f);this.pagerdetails.css("float",this.rtl?"left":"right");this.rtl?(this.pagerdetails.css("margin-left","7px"),this.pagerdetails.css("margin-right","0px")):(this.pagerdetails.css("margin-left","0px"),this.pagerdetails.css("margin-right","7px"));this.pagergotoinput.hide();this.pagershowrowscombo.hide();this.pagergoto.hide();this.pagershowrows.hide()}else this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show(),this.rtl||(this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton));this.pagerrightbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerleftbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme});this.pagerleftbutton.find(".jqx-icon-arrow-left").remove();this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var h=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e");h.addClass(this.toThemeProperty("jqx-icon-arrow-left"));this.pagerleftbutton.wrapInner(h);var l=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e");l.addClass(this.toThemeProperty("jqx-icon-arrow-right"));this.pagerrightbutton.wrapInner(l);this.pagerdiv.append(this.pagerdetails);"simple"!=this.pagermode&&(this.rtl?(this.pagerdiv.append(this.pagergoto),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagerdetails),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerleftbutton)):(this.pagerdiv.append(this.pagershowrowscombo),this.pagerdiv.append(this.pagershowrows),this.pagerdiv.append(this.pagergotoinput),this.pagerdiv.append(this.pagergoto)));var k=this.pagesizeoptions;if(!this.pagershowrowscombo.jqxDropDownList)throw Error("jqxGrid: jqxdropdownlist.js is not loaded.");this.pagershowrowscombo.jqxDropDownList({rtl:this.rtl,disabled:this.disabled,source:k,enableBrowserBoundsDetection:!0,keyboardSelection:!1,autoDropDownHeight:!0,width:"auto",height:16,theme:this.theme});for(var m=f=0;m<k.length;m++)this.pagesize>=k[m]&&(f=m);this.pagershowrows[0].innerHTML=c;this.pagergoto[0].innerHTML=b;this.updatepagerdetails();this.pagershowrowscombo.jqxDropDownList({selectedIndex:f});this.pagerpageinput=this.pagergotoinput.find("input");this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));this.rtl&&this.pagerpageinput.css("direction","rtl");a=this.that;this.removeHandler(this.pagershowrowscombo,"select");this.addHandler(this.pagershowrowscombo,"select",function(b){if(b.args){a.vScrollInstance&&a.vScrollInstance.setPosition(0);null!=a.editcell&&a.endcelledit&&a.endcelledit(a.editcell.row,a.editcell.column,!0,!1);var c=a.dataview.pagenum*a.dataview.pagesize,d=k[b.args.index];b=a.pagesize;a.pagesize=parseInt(d);isNaN(a.pagesize)&&(a.pagesize=10);100<=d?a.pagershowrowscombo.jqxDropDownList({width:"auto"}):a.pagershowrowscombo.jqxDropDownList({width:44});a.dataview.pagesize=a.pagesize;c=Math.floor(c/a.dataview.pagesize);a.prerenderrequired=!0;a._requiresupdate=!0;a._raiseEvent(10,{pagenum:c,oldpagesize:b,pagesize:a.dataview.pagesize});a.gotopage(c);a.autoheight&&a._updatesizeonwindowresize&&(a._updatesize(!0),setTimeout(function(){a._updatesize(!0)},500))}});var n=this.pagergotoinput.find("input");n.addClass(this.toThemeProperty("jqx-grid-pager-input"));n.addClass(this.toThemeProperty("jqx-rc-all"));this.removeHandler(n,"keydown");this.removeHandler(n,"change");this.addHandler(n,"keydown",function(b){if(65<=b.keyCode&&90>=b.keyCode)return!1;if("13"==b.keyCode)return b=n.val(),b=parseInt(b),isNaN(b)||a.gotopage(b-1),!1});this.addHandler(n,"change",function(){var b=n.val(),b=parseInt(b);isNaN(b)||a.gotopage(b-1)});this.addHandler(this.pagerrightbutton,"mouseenter",function(){l.addClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){h.addClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){l.removeClass(a.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){h.removeClass(a.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){l.addClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){l.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){h.addClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){h.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(e(document),"mouseup.pagerbuttons"+this.element.id,function(){l.removeClass(a.toThemeProperty("jqx-icon-arrow-right-selected"));h.removeClass(a.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerrightbutton,"click",function(){a.pagerrightbutton.jqxButton("disabled")||(a.rtl?a.gotoprevpage():a.gotonextpage())});this.addHandler(this.pagerleftbutton,"click",function(){a.pagerleftbutton.jqxButton("disabled")||(a.rtl?a.gotonextpage():a.gotoprevpage())});var p=this;if("simple"===this.pagermode){var q=this.pagerfirstbutton,r=this.pagerlastbutton;this.addHandler(r,"mouseenter",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))});this.addHandler(q,"mouseenter",function(){d.addClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))});this.addHandler(r,"mouseleave",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-last-hover"))});this.addHandler(q,"mouseleave",function(){d.removeClass(p.toThemeProperty("jqx-icon-arrow-first-hover"))});this.addHandler(r,"mousedown",function(){g.addClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))});this.addHandler(q,"mousedown",function(){d.addClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))});this.addHandler(r,"mouseup",function(){g.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected"))});this.addHandler(q,"mouseup",function(){d.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected"))});this.addHandler(e(document),"mouseup.pagerbuttons"+name+this.element.id,function(){l.removeClass(p.toThemeProperty("jqx-icon-arrow-right-selected"));h.removeClass(p.toThemeProperty("jqx-icon-arrow-left-selected"));g&&(g.removeClass(p.toThemeProperty("jqx-icon-arrow-last-selected")),d.removeClass(p.toThemeProperty("jqx-icon-arrow-first-selected")))});this.addHandler(q,"click",function(){q.jqxButton("disabled")||(p.rtl?p.gotopage(Math.ceil(p.dataview.totalrecords/p.pagesize)-1):p.gotopage(0))});this.addHandler(r,"click",function(){r.jqxButton("disabled")||(p.rtl?p.gotopage(0):p.gotopage(Math.ceil(p.dataview.totalrecords/p.pagesize)-1))})}}this.vScrollBar.jqxScrollBar("refresh");this._arrange()}else this.pagerdiv.remove(),this.vScrollBar.jqxScrollBar({thumbSize:0})},_updatepagertheme:function(){if(null!=this.pagershowrowscombo){this.pagershowrowscombo.jqxDropDownList({theme:this.theme});this.pagerrightbutton.jqxButton({theme:this.theme});this.pagerleftbutton.jqxButton({theme:this.theme});this.pagerpageinput.removeClass();var a=this.pagergotoinput.find("input");a.removeClass();a.addClass(this.toThemeProperty("jqx-grid-pager-input"));a.addClass(this.toThemeProperty("jqx-rc-all"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-input"));this.pagerpageinput.addClass(this.toThemeProperty("jqx-widget-content"));this.pagerleftbutton.find(".jqx-icon-arrow-left").remove();this.pagerrightbutton.find(".jqx-icon-arrow-right").remove();var b=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e");b.addClass(this.toThemeProperty("jqx-icon-arrow-left"));this.pagerleftbutton.wrapInner(b);var c=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e");c.addClass(this.toThemeProperty("jqx-icon-arrow-right"));this.pagerrightbutton.wrapInner(c);"simple"==this.pagermode?(e.jqx.browser.msie&&8>e.jqx.browser.version&&(this.pagerbuttons.css("overflow","visible"),this.pagerbuttons.css("padding","3px")),this.pagerfirstbutton.attr("title",this.gridlocalization.pagerfirstbuttonstring),this.pagerlastbutton.attr("title",this.gridlocalization.pagerlastbuttonstring),a=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e"),a.addClass(this.toThemeProperty("jqx-icon-arrow-first")),this.pagerfirstbutton.wrapInner(a),a=e("\x3cdiv style\x3d'margin-left: 6px; width: 15px; height: 15px;'\x3e\x3c/div\x3e"),a.addClass(this.toThemeProperty("jqx-icon-arrow-last")),this.pagerlastbutton.wrapInner(a),this.pagerdiv.append(this.pagerfirstbutton),this.pagerdiv.append(this.pagerleftbutton),this.pagerdiv.append(this.pagerbuttons),this.pagerdiv.append(this.pagerrightbutton),this.pagerdiv.append(this.pagerlastbutton),this.pagerlastbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerfirstbutton.jqxButton({cursor:"pointer",disabled:this.disabled,theme:this.theme}),this.pagerbuttons.css("float","left"),this.pagerlastbutton.css("float","left"),this.pagerfirstbutton.css("float","left"),this.pagerrightbutton.css("float","left"),this.pagerleftbutton.css("float","left"),this.pagergotoinput.hide(),this.pagershowrowscombo.hide(),this.pagergoto.hide(),this.pagershowrows.hide()):(this.pagergotoinput.show(),this.pagershowrowscombo.show(),this.pagergoto.show(),this.pagershowrows.show());a=function(a,b){a.removeHandler(b,"mouseenter");a.removeHandler(b,"mouseleave");a.removeHandler(b,"mousedown");a.removeHandler(b,"mouseup")};a(this,this.pagerrightbutton);a(this,this.pagerleftbutton);var f=this.that;this.addHandler(this.pagerrightbutton,"mouseenter",function(){c.addClass(f.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseenter",function(){b.addClass(f.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mouseleave",function(){c.removeClass(f.toThemeProperty("jqx-icon-arrow-right-hover"))});this.addHandler(this.pagerleftbutton,"mouseleave",function(){b.removeClass(f.toThemeProperty("jqx-icon-arrow-left-hover"))});this.addHandler(this.pagerrightbutton,"mousedown",function(){c.addClass(f.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerrightbutton,"mouseup",function(){c.removeClass(f.toThemeProperty("jqx-icon-arrow-right-selected"))});this.addHandler(this.pagerleftbutton,"mousedown",function(){b.addClass(f.toThemeProperty("jqx-icon-arrow-left-selected"))});this.addHandler(this.pagerleftbutton,"mouseup",function(){b.removeClass(f.toThemeProperty("jqx-icon-arrow-left-selected"))})}},gotopage:function(a){if(null==a||void 0==a)a=0;-1==a&&(a=0);if(!(0>a)){var b=this.dataview.totalrecords;this.summaryrows&&(b+=this.summaryrows.length);var c=this.pagenum;this._raiseEvent(25,{oldpagenum:this.dataview.pagenum,pagenum:a,pagesize:this.dataview.pagesize});b=Math.ceil(b/this.pagesize);a>=b&&(0==this.dataview.totalrecords&&(this.dataview.pagenum=0,this.updatepagerdetails()),0<a&&(a=b-1),0>a&&(a=0));if((this.dataview.pagenum!=a||this._requiresupdate)&&this.pageable){this.source.pager&&this.source.pager(a,this.dataview.pagesize,this.dataview.pagenum);this.dataview.pagenum=a;if(this.virtualmode){if(this.hiddens=[],this.expandedgroups=[],this.rendergridrows){var b=a*this.dataview.pagesize,e=b+this.dataview.pagesize;if(null!=b&&null!=e){this.pagerrightbutton&&(this.pagerrightbutton.jqxButton({disabled:!0}),this.pagerleftbutton.jqxButton({disabled:!0}),this.pagershowrowscombo.jqxDropDownList({disabled:!0}));this.pagerfirstbutton&&(this.pagerfirstbutton.jqxButton({disabled:!0}),this.pagerlastbutton.jqxButton({disabled:!0}));this.updatebounddata("pagechanged");this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize});this.updatepagerdetails();this.autosavestate&&this.savestate&&this.savestate();return}}}else this.dataview.updateview();this._loadrows();this._updatepageviews();this.tableheight=null;this._updatecolumnwidths();this._updatecellwidths();this._renderrows(this.virtualsizeinfo);this.updatepagerdetails();if(this.autoheight||this.autorowheight)height=this.host.height()-this._gettableheight()+this._pageviews[0].height,height!=this.host.height()&&(this._arrange(),this._updatepageviews(),this.autorowheight&&this._renderrows(this.virtualsizeinfo));null!=this.editcell&&this.endcelledit&&this.endcelledit(this.editcell.row,this.editcell.column,!1,!1);this.focus();this._raiseEvent(9,{pagenum:a,oldpagenum:c,pagesize:this.dataview.pagesize});this.autosavestate&&this.savestate&&this.savestate()}}},gotoprevpage:function(){if(0<this.dataview.pagenum)this.gotopage(this.dataview.pagenum-1);else if("simple"!=this.pagermode){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);this.gotopage(Math.ceil(a/this.pagesize)-1)}},gotonextpage:function(){var a=this.dataview.totalrecords;this.summaryrows&&(a+=this.summaryrows.length);this.dataview.pagenum<Math.ceil(a/this.pagesize)-1?this.gotopage(this.dataview.pagenum+1):"simple"!=this.pagermode&&this.gotopage(0)},updatepagerdetails:function(){if(null!=this.pagerdetails&&0<this.pagerdetails.length){var a=this.dataview.pagenum*this.pagesize,b=(this.dataview.pagenum+1)*this.pagesize;b>=this.dataview.totalrecords&&(b=this.dataview.totalrecords);var c=this.dataview.totalrecords;this.summaryrows&&(c+=this.summaryrows.length,(this.dataview.pagenum+1)*this.pagesize>this.dataview.totalrecords&&(b=c));a++;var f=Math.ceil(c/this.dataview.pagesize);1<=f&&f--;f++;if("simple"!==this.pagermode)this.pagergotoinput.find("input").val(this.dataview.pagenum+1);else{var d="",g=this.pagerbuttonscount;0!=g&&g||(g=5);var h=0;for(this.rtl&&(h=g-1);this.rtl&&0<=h||!this.rtl&&h<g;){var l=1+h,l=l+Math.floor(this.dataview.pagenum/g)*g,k=this.toTP("jqx-grid-pager-number"),k=k+(" "+this.toTP("jqx-rc-all"));if(l>f)break;this.rtl||0==h&&l>g&&(d+="\x3ca class\x3d'"+k+"' tabindex\x3d-1 href\x3d'javascript:;' data-page\x3d'"+(-1+l)+"'\x3e...\x3c/a\x3e");this.dataview.pagenum===l-1&&(k+=" "+this.toTP("jqx-fill-state-pressed"));this.rtl?(h===g-1&&(k=this.toTP("jqx-grid-pager-number"),k+=" "+this.toTP("jqx-rc-all"),f>=1+l&&(d+="\x3ca class\x3d'"+k+"' tabindex\x3d-1 href\x3d'javascript:;' data-page\x3d'"+(1+l)+"'\x3e...\x3c/a\x3e")),this.dataview.pagenum===l-1&&(k+=" "+this.toTP("jqx-fill-state-pressed")),d+="\x3ca class\x3d'"+k+"' tabindex\x3d-1 href\x3d'javascript:;' data-page\x3d'"+l+"'\x3e"+l+"\x3c/a\x3e"):(d+="\x3ca class\x3d'"+k+"' tabindex\x3d-1 href\x3d'javascript:;' data-page\x3d'"+l+"'\x3e"+l+"\x3c/a\x3e",h===g-1&&(k=this.toTP("jqx-grid-pager-number"),k+=" "+this.toTP("jqx-rc-all"),f>=1+l&&(d+="\x3ca class\x3d'"+k+"' tabindex\x3d-1 href\x3d'javascript:;' data-page\x3d'"+(1+l)+"'\x3e...\x3c/a\x3e")));this.rtl&&(k=this.toTP("jqx-grid-pager-number"),k+=" "+this.toTP("jqx-rc-all"),0==h&&l>g&&(d+="\x3ca class\x3d'"+k+"' tabindex\x3d-1 href\x3d'javascript:;' data-page\x3d'"+(-1+l)+"'\x3e...\x3c/a\x3e"));this.rtl?h--:h++}var m=this.pagerbuttons.find("a");this.removeHandler(m,"click");this.removeHandler(m,"mouseenter");this.removeHandler(m,"mouseleave");this.pagerbuttons[0].innerHTML=d;var n=this,m=this.pagerbuttons.find("a");(function(){n.addHandler(m,"click",function(a){a=e(a.target).attr("data-page");n.gotopage(parseInt(a)-1);return!1});n.addHandler(m,"mouseenter",function(a){e(a.target).addClass(n.toTP("jqx-fill-state-hover"))});n.addHandler(m,"mouseleave",function(a){e(a.target).removeClass(n.toTP("jqx-fill-state-hover"))})})(m)}this.pagergotoinput.attr("title","1 - "+f);0==b&&b<a&&(a=0);this.pagerdetails[0].innerHTML=this.rtl?c+this.gridlocalization.pagerrangestring+b+"-"+a:a+"-"+b+this.gridlocalization.pagerrangestring+c;a>b&&this.gotoprevpage()}},_updatepagedview:function(a,b,c){a=this.that;this.dataview.rows.length!=this.dataview.pagesize&&this.dataview.updateview();for(var e=this.dataview.rows.length,d=0;d<e;d++){var g=this.dataview.rows[d].visibleindex,h=this.heights[g],l=this.hiddens[g],k=this.details[g];void 0==this.heights[g]&&(h=this.heights[g]=this.rowsheight);void 0==this.hiddens[g]&&(l=this.hiddens[g]=!1);void 0==this.details[g]&&(this.details[g]=null);h!=a.rowsheight&&(b-=a.rowsheight,b+=h);l?b-=h:(c+=h,g=0,this.rowdetails&&k&&k.rowdetails&&!k.rowdetailshidden&&(g=k.rowdetailsheight,c+=g,b+=g))}this._pageviews[0]={top:0,height:c};return b}})})(jqxBaseFramework);(function(e){e.extend(e.jqx._jqxGrid.prototype,{selectallrows:function(){this._trigger=!1;var a=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=[];for(var b=this.dataview.loadedrecords,c=0;c<a;c++){var e=b[c];e?(e=this.getboundindex(e),void 0!=e&&(this.selectedrowindexes[c]=e)):this.selectedrowindexes[c]=c}"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0});this._renderrows(this.virtualsizeinfo);this._trigger=!0;"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},unselectallrows:function(){this._trigger=!1;var a=this.virtualmode?this.dataview.totalrecords:this.dataview.loadedrecords.length;this.selectedrowindexes=[];for(var b=this.dataview.loadedrecords,c=0;c<a;c++)b[c]?delete this.selectedrowindexes[c]:this.selectedrowindexes[c]=c;"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn&&this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});this._renderrows(this.virtualsizeinfo);this._trigger=!0;"checkbox"==this.selectionmode&&this._raiseEvent(2,{rowindex:this.selectedrowindexes})},selectrow:function(a,b){this._applyrowselection(a,!0,b);!1!==b&&this._updatecheckboxselection()},_updatecheckboxselection:function(){if("checkbox"==this.selectionmode){var a=this.getrows();if(a&&this._checkboxcolumn)if(0===a.length)this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});else{a=a.length;this.groupable&&(a=this.dataview.loadedrecords.length);this.virtualmode&&(a=this.source._source.totalrecords);var b=this.selectedrowindexes.length;b===a?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!0}):0===b?this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1}):this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:null})}}},unselectrow:function(a,b){this._applyrowselection(a,!1,b);!1!==b&&this._updatecheckboxselection()},selectcell:function(a,b){this._applycellselection(a,b,!0)},unselectcell:function(a,b){this._applycellselection(a,b,!1)},clearselection:function(a,b){this._trigger=!1;this.selectedrowindex=-1;this._oldselectedcell=null;if(!1!==b)for(var c=0;c<this.selectedrowindexes.length;c++)this._raiseEvent(3,{rowindex:this.selectedrowindexes[c]});this.selectedrowindexes=[];this.selectedcells=[];this.selectedcell=null;"checkbox"!=this.selectionmode||this._checkboxcolumnupdating||this._checkboxcolumn.checkboxelement.jqxCheckBox({checked:!1});!1===a?this._trigger=!0:(this._renderrows(this.virtualsizeinfo),this._trigger=!0,"checkbox"==this.selectionmode&&this._raiseEvent(3,{rowindex:this.selectedrowindexes}))},getselectedrowindex:function(){if(-1==this.selectedrowindex||void 0==this.selectedrowindex)for(;0<this.selectedrowindexes.length;)return this.selectedrowindexes[0];return this.selectedrowindex},getselectedrowindexes:function(){return this.selectedrowindexes},getselectedcell:function(){if(!this.selectedcell)return null;var a=this.selectedcell;a.row=this.selectedcell.rowindex;a.column=this.selectedcell.datafield;a.value=this.getcellvalue(a.row,a.column);return a},getselectedcells:function(){var a=[];for(obj in this.selectedcells)a[a.length]=this.selectedcells[obj];return a},_getcellsforcopypaste:function(){var a=[];if(-1==this.selectionmode.indexOf("cell"))for(var b=this.selectedrowindexes,c=0;c<b.length;c++)for(var e=b[c],d=0;d<this.columns.records.length;d++)"_checkboxcolumn"!==this.columns.records[d].datafield&&a.push({rowindex:e,datafield:this.columns.records[d].datafield});return a},deleteselection:function(){var a=this.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(a=this._getcellsforcopypaste());if(null!=a&&0<a.length){for(var b=0;b<a.length;b++){var c=a[b],e=this.getcolumn(c.datafield),d=this.getcellvalue(c.rowindex,c.datafield);if(e&&""!==d){var g=null;"checkbox"==e.columntype&&(e.threestatecheckbox||(g=!1));this._raiseEvent(17,{rowindex:c.rowindex,datafield:c.datafield,value:d});b==a.length-1?this.setcellvalue(c.rowindex,c.datafield,g,!0):this.setcellvalue(c.rowindex,c.datafield,g,!1);e.displayfield!=e.datafield&&this.setcellvalue(c.rowindex,e.displayfield,g,!0);this._raiseEvent(18,{rowindex:c.rowindex,datafield:c.datafield,oldvalue:d,value:g})}}this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}},copyselection:function(){var a="",b=this;this.clipboardselection={};this.logicalclipboardselection={};this._clipboardselection=[];var c=b.getselectedcells();-1==this.selectionmode.indexOf("cell")&&(c=this._getcellsforcopypaste());var f=[];if(null!=c&&0<c.length){for(var d=999999999999999,g=-1,h=0;h<c.length;h++){var l=c[h],k=b.getcolumn(l.datafield);if(null!=k&&k.clipboard&&(!k.hidden||this.copytoclipboardhiddencolumns)){-1==f.indexOf(k.text)&&f.push(k.text);var m=b.getcelltext(l.rowindex,k.displayfield),n=this.getrowdisplayindex(l.rowindex);this.clipboardselection[n]||(this.clipboardselection[n]={});this.clipboardselection[n][k.displayfield]=m;this.logicalclipboardselection[n]||(this.logicalclipboardselection[n]={});this.logicalclipboardselection[n][k.displayfield]=m;k.displayfield!=k.datafield&&(this.logicalclipboardselection[n][k.datafield]=b.getcellvalue(l.rowindex,k.datafield));d=Math.min(d,n);g=Math.max(g,n)}}c=[];for(h=d;h<=g;h++)this.logicalclipboardselection[h]&&(l=e.extend({},this.logicalclipboardselection[h]),c.push(l));this.logicalclipboardselection=c;if(this.copytoclipboardwithheaders){for(c=0;c<f.length;c++)0<c&&(a+="\t"),a+=f[c];a+="\r\n"}for(h=d;h<=g;h++){var p=0;this._clipboardselection[this._clipboardselection.length]=[];void 0!=this.clipboardselection[h]&&(e.each(this.clipboardselection[h],function(c,d){0<p&&(a+="\t");var e=d;null==d&&(e="");b._clipboardselection[b._clipboardselection.length-1][p]=e;p++;a+=e}),h<g&&(a+="\r\n"))}}return this.clipboardselectedtext=a},pasteselection:function(){var a=this.getselectedcells();this._oldselectedcell=null;-1==this.selectionmode.indexOf("cell")&&(a=this._getcellsforcopypaste());if(null!=a&&0<a.length){var b=this.getrowdisplayindex(a[0].rowindex),c=this._getcolumnindex(a[0].datafield);this.selectedrowindexes=[];this.selectedcells=[];var e=0,d=[];this.copytoclipboardwithheaders&&this._clipboardselection.splice(0,1);for(var g=0;g<this._clipboardselection.length;g++){e+=this._clipboardselection[g].length;d[g]=[];for(var h=0;h<this._clipboardselection[g].length;h++){var l=this._clipboardselection[g][h];d[g].push(l)}}if(e<a.length){b=[];for(g=0;g<a.length;g++)e=a[g],b[e.rowindex]||(b[e.rowindex]=[]),b[e.rowindex].push(e);for(var k=c=0,g=0;g<b.length;g++)if(b[g]){for(h=0;h<b[g].length;h++){var e=b[g][h],a=e.rowindex,m=this.getcolumn(e.datafield);if("_checkboxcolumn"!==m.datafield&&!m.hidden){l="";d[c][k]||(k=0);l=d[c][k];k++;if(m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){-1<l.indexOf(this.gridlocalization.currencysymbol)&&(l=l.replace(this.gridlocalization.currencysymbol,""));var n=function(a,b,c){var d=a;if(b==c)return a;for(a=d.indexOf(b);-1!=a;)d=d.replace(b,c),a=d.indexOf(b);return d},l=n(l,this.gridlocalization.thousandsseparator,""),l=l.replace(this.gridlocalization.decimalseparator,".");-1<l.indexOf(this.gridlocalization.percentsymbol)&&(l=l.replace(this.gridlocalization.percentsymbol,""));for(var n="",p=0;p<l.length;p++){var q=l.substring(p,p+1);"-"===q&&(n+="-");"."===q&&(n+=".");null!=q.match(/^[0-9]+$/)&&(n+=q)}l=n;l=l.replace(/ /g,"");l=new Number(l);isNaN(l)&&(l="")}this._raiseEvent(17,{rowindex:a,datafield:e.datafield,value:l});this.setcellvalue(a,m.displayfield,l,!1);m.displayfield!=m.datafield&&this.logicalclipboardselection&&this.logicalclipboardselection[a]&&(n=this.logicalclipboardselection[a][m.datafield],void 0!=n&&this.setcellvalue(a,m.datafield,n,!1));this._raiseEvent(18,{rowindex:a,datafield:e.datafield,oldvalue:this.getcellvalue(e.rowindex,e.datafield),value:l});this._applycellselection(a,e.datafield,!0,!1)}}c++;d[c]||(c=0)}}else{if(!this._clipboardselection)return;for(d=0;d<this._clipboardselection.length;d++)for(g=0;g<this._clipboardselection[d].length;g++)if((m=this.getcolumnat(c+g))&&"_checkboxcolumn"!==m.datafield&&!m.hidden&&(a=this.getrowboundindex(b+d),e=this.getcell(a,m.datafield),l=null,l=this._clipboardselection[d][g],null!=l)){if(m.cellsformat&&(-1!=m.cellsformat.indexOf("p")||-1!=m.cellsformat.indexOf("c")||-1!=m.cellsformat.indexOf("n")||-1!=m.cellsformat.indexOf("f"))){-1<l.indexOf(this.gridlocalization.currencysymbol)&&(l=l.replace(this.gridlocalization.currencysymbol,""));n=function(a,b,c){var d=a;if(b==c)return a;for(a=d.indexOf(b);-1!=a;)d=d.replace(b,c),a=d.indexOf(b);return d};l=n(l,this.gridlocalization.thousandsseparator,"");l=l.replace(this.gridlocalization.decimalseparator,".");-1<l.indexOf(this.gridlocalization.percentsymbol)&&(l=l.replace(this.gridlocalization.percentsymbol,""));n="";for(p=0;p<l.length;p++)q=l.substring(p,p+1),"-"===q&&(n+="-"),"."===q&&(n+="."),null!=q.match(/^[0-9]+$/)&&(n+=q);l=n;l=l.replace(/ /g,"");l=new Number(l);isNaN(l)&&(l="")}this._raiseEvent(17,{rowindex:a,datafield:e.datafield,value:l});this.setcellvalue(a,m.displayfield,l,!1);m.displayfield!=m.datafield&&this.logicalclipboardselection&&(n=this.logicalclipboardselection[d][m.datafield],void 0!=n&&this.setcellvalue(a,m.datafield,n,!1));this._raiseEvent(18,{rowindex:a,datafield:e.datafield,oldvalue:this.getcellvalue(e.rowindex,e.datafield),value:l});this._applycellselection(a,e.datafield,!0,!1)}}"checkbox"==this.selectionmode&&this._updatecheckboxselection();this.dataview.updateview();this._renderrows(this.virtualsizeinfo)}this.clipboardend&&this.clipboardend("paste")},_applyrowselection:function(a,b,c,e,d){if(null==a)return!1;d=this.selectedrowindex;"singlerow"==this.selectionmode&&(b?this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)}):this._raiseEvent(3,{rowindex:a,row:this.getrowdata(a)}),this._raiseEvent(3,{rowindex:d}),this.selectedrowindexes=[],this.selectedcells=[]);1==e&&(this.selectedrowindexes=[]);0<this.dataview.filters.length&&((e=this.getrowdata(a))&&void 0!==e.dataindex?a=e.dataindex:e&&void 0===e.dataindex&&void 0!=e.uid&&(a=this.getrowboundindexbyid(e.uid)));e=this.selectedrowindexes.indexOf(a);if(b)this.selectedrowindex=a,-1==e?(this.selectedrowindexes.push(a),"singlerow"!=this.selectionmode&&this._raiseEvent(2,{rowindex:a,row:this.getrowdata(a)})):"multiplerows"==this.selectionmode&&(this.selectedrowindexes.splice(e,1),this._raiseEvent(3,{rowindex:this.selectedrowindex,row:this.getrowdata(a)}),this.selectedrowindex=0<this.selectedrowindexes.length?this.selectedrowindexes[this.selectedrowindexes.length-1]:-1);else if(0<=e||"singlerow"==this.selectionmode||"multiplerowsextended"==this.selectionmode||"multiplerowsadvanced"==this.selectionmode)b=this.selectedrowindexes[e],this.selectedrowindexes.splice(e,1),this._raiseEvent(3,{rowindex:b,row:this.getrowdata(a)}),this.selectedrowindex=-1;(void 0==c||c)&&this._rendervisualrows();return!0},_applycellselection:function(a,b,c,e){if(null==a||null==b)return!1;if("singlecell"==this.selectionmode){var d=this.selectedcell;null!=d&&this._raiseEvent(16,{rowindex:d.rowindex,datafield:d.datafield});this.selectedcells=[]}if("multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode)d=this.selectedcell,null!=d&&this._raiseEvent(16,{rowindex:d.rowindex,datafield:d.datafield});d=a+"_"+b;if(0<this.dataview.filters.length){var g=this.getrowdata(a);g&&void 0!==g.dataindex?(a=g.dataindex,d=a+"_"+b):g&&void 0===g.dataindex&&g.uid&&(a=this.getrowboundindexbyid(g.uid),d=a+"_"+b)}a={rowindex:a,datafield:b};if(c)if(this.selectedcell=a,!this.selectedcells[d])this.selectedcells[d]=a,this.selectedcells.length++,this._raiseEvent(15,a);else{if("multiplecells"==this.selectionmode||"multiplecellsextended"==this.selectionmode||"multiplecellsadvanced"==this.selectionmode)delete this.selectedcells[d],0<this.selectedcells.length&&this.selectedcells.length--,this._raiseEvent(16,a)}else delete this.selectedcells[d],0<this.selectedcells.length&&this.selectedcells.length--,this._raiseEvent(16,a);(void 0==e||e)&&this._rendervisualrows();return!0},_getcellindex:function(a){var b=-1;e.each(this.selectedcells,function(){b++;if(this[a])return!1});return b},_clearhoverstyle:function(){if(void 0!=this.hoveredrow&&-1!=this.hoveredrow&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()){var a=this.table.find(".jqx-grid-cell-hover");0<a.length&&(a.removeClass(this.toTP("jqx-grid-cell-hover")),a.removeClass(this.toTP("jqx-fill-state-hover")));this.hoveredrow=-1}},_clearselectstyle:function(){for(var a=this.table[0].rows.length,b=this.table[0].rows,c=this.toTP("jqx-grid-cell-selected"),f=this.toTP("jqx-fill-state-pressed"),d=this.toTP("jqx-grid-cell-hover"),g=this.toTP("jqx-fill-state-hover"),h=0;h<a;h++)for(var l=b[h],k=l.cells.length,l=l.cells,m=0;m<k;m++){var n=l[m],p=e(n);-1!=n.className.indexOf("jqx-grid-cell-selected")&&(p.removeClass(c),p.removeClass(f));-1!=n.className.indexOf("jqx-grid-cell-hover")&&(p.removeClass(d),p.removeClass(g))}},_selectpath:function(a,b){var c=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0,e=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0;if(c<=e){var d=this._getcolumnindex(this._lastClickedCell.column),g=this._getcolumnindex(b),h=Math.min(d,g),d=Math.max(d,g);this.selectedcells=[];for(g=this.dataview.loadedrecords;c<=e;c++)for(var l=h;l<=d;l++)a=g[c],this._applycellselection(this.getboundindex(a),this._getcolumnat(l).datafield,!0,!1);this._rendervisualrows()}},_selectrowpath:function(a){if("multiplerowsextended"==this.selectionmode){var b=this._lastClickedCell?Math.min(this._lastClickedCell.row,a):0;a=this._lastClickedCell?Math.max(this._lastClickedCell.row,a):0;if(b<=a){for(this.selectedrowindexes=[];b<=a;b++){var c=this.getrowboundindex(b);this._applyrowselection(c,!0,!1)}this._rendervisualrows()}}},_selectrowwithmouse:function(a,b,c,e,d,g){var h=b.row;if(void 0!=h&&(b=b.index,void 0!=this.hittestinfo[b])){var l=this.hittestinfo[b].visualrow;if(!this.hittestinfo[b].details&&!h.group){if("multiplerows"==this.selectionmode||"multiplecells"==this.selectionmode||"checkbox"==this.selectionmode||-1!=this.selectionmode.indexOf("multiple")&&(1==g||1==d)){var k=this.getboundindex(h);if(0<this.dataview.filters.length){var m=this.getrowdata(k);m&&(k=m.dataindex,void 0==k&&(k=this.getboundindex(h)))}k=-1!=c.indexOf(k);c=this.getboundindex(h)+"_"+e;if(-1!=this.selectionmode.indexOf("cell"))d=void 0!=this.selectedcells[c],void 0!=this.selectedcells[c]&&d?this._selectcellwithstyle(a,!1,b,e,l):this._selectcellwithstyle(a,!0,b,e,l),g&&void 0==this._lastClickedCell&&(a=this.getselectedcells())&&0<a.length&&(this._lastClickedCell={row:a[0].rowindex,column:a[0].datafield}),g&&this._lastClickedCell&&(this._selectpath(h.visibleindex,e),this.mousecaptured=!1,"visible"==this.selectionarea.css("visibility")&&this.selectionarea.css("visibility","hidden"));else if(k?d?this._applyrowselection(this.getboundindex(h),!1):this._selectrowwithstyle(a,l,!1,e):this._selectrowwithstyle(a,l,!0,e),g&&void 0==this._lastClickedCell&&(a=this.getselectedrowindexes())&&0<a.length&&(this._lastClickedCell={row:a[0],column:e}),g&&this._lastClickedCell){this.selectedrowindexes=[];a=this._lastClickedCell?Math.max(this._lastClickedCell.row,h.visibleindex):0;d=this.dataview.loadedrecords;for(b=this._lastClickedCell?Math.min(this._lastClickedCell.row,h.visibleindex):0;b<=a;b++)(h=d[b])&&this._applyrowselection(this.getboundindex(h),!0,!1,!1);this._rendervisualrows()}}else this._clearselectstyle(),this._selectrowwithstyle(a,l,!0,e),-1!=this.selectionmode.indexOf("cell")&&this._selectcellwithstyle(a,!0,b,e,l);g||(this._lastClickedCell={row:h.visibleindex,column:e})}}},_selectcellwithstyle:function(a,b,c,f,d){a=e(d.cells[a._getcolumnindex(f)]);a.removeClass(this.toTP("jqx-grid-cell-hover"));a.removeClass(this.toTP("jqx-fill-state-hover"));b?(a.addClass(this.toTP("jqx-grid-cell-selected")),a.addClass(this.toTP("jqx-fill-state-pressed"))):(a.removeClass(this.toTP("jqx-grid-cell-selected")),a.removeClass(this.toTP("jqx-fill-state-pressed")))},_selectrowwithstyle:function(a,b,c,f){f=b.cells.length;var d=0;a.rowdetails&&a.showrowdetailscolumn?this.rtl?(--f,f-=this.groups.length):d=1+this.groups.length:this.groupable&&(this.rtl?f-=this.groups.length:d=this.groups.length);for(;d<f;d++){var g=b.cells[d];c?(e(g).removeClass(this.toTP("jqx-grid-cell-hover")),e(g).removeClass(this.toTP("jqx-fill-state-hover")),-1==a.selectionmode.indexOf("cell")&&(e(g).addClass(this.toTP("jqx-grid-cell-selected")),e(g).addClass(this.toTP("jqx-fill-state-pressed")))):(e(g).removeClass(this.toTP("jqx-grid-cell-hover")),e(g).removeClass(this.toTP("jqx-grid-cell-selected")),e(g).removeClass(this.toTP("jqx-fill-state-hover")),e(g).removeClass(this.toTP("jqx-fill-state-pressed")))}},_handlemousemoveselection:function(a,b){if(b.hScrollInstance.isScrolling()||b.vScrollInstance.isScrolling())return!1;if(("multiplerowsextended"==b.selectionmode||"multiplecellsextended"==b.selectionmode||"multiplecellsadvanced"==b.selectionmode)&&b.mousecaptured){if(b.multipleselectionbegins&&!1===b.multipleselectionbegins(a))return!0;var c=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,d=this.showtoolbar?this.toolbar.height():0,f=f+d,d=this.host.coord();if(this.hasTransform){var d=e.jqx.utilities.getOffset(this.host),g=this._getBodyOffset();d.left-=g.left;d.top-=g.top}"0px"===this.host.css("border-top-width")&&(f-=2);var h=a.pageX,g=a.pageY-f;if(3<Math.abs(this.mousecaptureposition.left-h)||3<Math.abs(this.mousecaptureposition.top-g)){parseInt(this.columnsheader.coord().top);this.hasTransform&&e.jqx.utilities.getOffset(this.columnsheader);h<d.left&&(h=d.left);h>d.left+this.host.width()&&(h=d.left+this.host.width());c=d.top+c;g<c&&(g=c+5);var l=parseInt(Math.min(b.mousecaptureposition.left,h)),c=-5+parseInt(Math.min(b.mousecaptureposition.top,g)),k=parseFloat(Math.abs(b.mousecaptureposition.left-h)),m=parseInt(Math.abs(b.mousecaptureposition.top-g)),l=l-d.left,c=c-d.top;this.selectionarea.css("visibility","visible");if("multiplecellsadvanced"==b.selectionmode){var h=l,n=h+k,p=b.hScrollInstance,g=p.value;this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(g=p.max-p.value);var q=b.table[0].rows[0],r=0,t=p=b.mousecaptureposition.clickedcell,r=!1,v=0,u=q.cells.length;for(b.mousecaptureposition.left<=a.pageX&&(v=p);v<u;v++){var w=parseFloat(e(this.columnsrow[0].cells[v]).css("left")),x=w-g;if(b.columns.records[v].pinned)x=w;else if(w=this._getcolumnat(v),!(null!=w&&w.hidden||b.groupable&&0<b.groups.length&&v<b.groups.length))if(w=x+e(this.columnsrow[0].cells[v]).width(),b.mousecaptureposition.left>a.pageX){if(w>=h&&h>=x){t=v;r=!0;break}}else if(w>=n&&n>=x){t=v;r=!0;break}}if(!r)if(b.mousecaptureposition.left>a.pageX)e.each(this.columns.records,function(a,c){if(b.groupable&&0<b.groups.length&&a<b.groups.length)return!0;if(!this.pinned&&!this.hidden)return t=a,!1});else if(!b.groupable||b.groupable&&0< !b.groups.length)t=q.cells.length-1;v=p;p=Math.min(p,t);t=Math.max(v,t);c=c+5+f;b.table[0].rows.indexOf(b.mousecaptureposition.clickedrow);q=0;n=h=-1;for(v=u=0;v<b.table[0].rows.length;v++){x=e(b.table[0].rows[v]);0==v&&(u=x.coord().top);var w=x.height(),z=u-d.top;if(-1==h&&z+w>=c){for(var r=!1,D=0;D<b.groups.length;D++){var C=x[0].cells[D].className;if(-1!=C.indexOf("jqx-grid-group-collapse")||-1!=C.indexOf("jqx-grid-group-expand")){r=!0;break}}if(r)continue;h=v}u+=w;if(b.groupable&&0<b.groups.length){r=!1;for(D=0;D<b.groups.length;D++)if(C=x[0].cells[D].className,-1!=C.indexOf("jqx-grid-group-collapse")||-1!=C.indexOf("jqx-grid-group-expand")){r=!0;break}if(r)continue;r=0;for(D=b.groups.length;D<x[0].cells.length;D++)""==e(x[0].cells[D]).html()&&r++;if(r==x[0].cells.length-b.groups.length)continue}-1!=h&&(q+=w);if(z+w>c+m){n=v;break}}if(-1!=h&&(c=e(b.table[0].rows[h]).coord().top-d.top-f-2,f=0,this.filterable&&this.showfilterrow&&(f=this.filterrowheight),0>parseFloat(b.table[0].style.top)&&c<this.rowsheight+f&&(c-=parseFloat(b.table[0].style.top),q+=parseFloat(b.table[0].style.top)),m=q,d=e(this.columnsrow[0].cells[p]),f=e(this.columnsrow[0].cells[t]),l=parseFloat(d.css("left")),k=parseFloat(f.css("left"))-parseFloat(l)+f.width()-2,l-=g,b.editcell&&b.editable&&b.endcelledit&&(p!=t||h!=n))){if(0==b.editcell.validated)return;b.endcelledit(b.editcell.row,b.editcell.column,!0,!0)}}this.selectionarea.width(k);this.selectionarea.height(m);this.selectionarea.css("left",l);this.selectionarea.css("top",c)}}},_handlemouseupselection:function(a,b){if(this.selectionarea){if("visible"!=this.selectionarea[0].style.visibility)return b.mousecaptured=!1,!0;if(b.mousecaptured&&("multiplerowsextended"==b.selectionmode||"multiplerowsadvanced"==b.selectionmode||"multiplecellsextended"==b.selectionmode||"multiplecellsadvanced"==b.selectionmode)&&(b.mousecaptured=!1,"visible"==this.selectionarea.css("visibility"))){this.selectionarea.css("visibility","hidden");var c=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0;"0px"===this.host.css("border-top-width")&&(f-=2);var d=this.showtoolbar?this.toolbar.height():0,f=f+d,g=this.selectionarea.coord(),h=this.host.coord();this.hasTransform&&(h=e.jqx.utilities.getOffset(this.host),g=e.jqx.utilities.getOffset(this.selectionarea));"0px"===this.host.css("border-top-width")&&(f-=2);var d=g.left-h.left,l=c=g.top-c-h.top-f,f=d+this.selectionarea.width(),k=[],g=[];if("multiplerowsextended"==b.selectionmode){for(;c<l+this.selectionarea.height();){var m=this._hittestrow(d,c),h=m.row,n=m.index;-1==n||g[n]||(g[n]=!0,k[k.length]=m);c+=20}l=0;e.each(k,function(){var c=this.row;"none"!=b.selectionmode&&b._selectrowwithmouse&&(a.ctrlKey||a.metaKey?b._applyrowselection(b.getboundindex(c),!0,!1,!1):0==l?b._applyrowselection(b.getboundindex(c),!0,!1,!0):b._applyrowselection(b.getboundindex(c),!0,!1,!1),l++)})}else{"multiplecellsadvanced"==b.selectionmode&&(c+=2);h=b.hScrollInstance;k=h.value;this.rtl&&("hidden"!=this.hScrollBar.css("visibility")&&(k=h.max-h.value),"hidden"!=this.vScrollBar[0].style.visibility&&(k-=this.scrollbarsize+4));var p=b.table[0].rows[0],q=b.selectionarea.height();!a.ctrlKey&&!a.metaKey&&0<q&&(b.selectedcells=[]);for(;c<l+q;){if(m=b._hittestrow(d,c))if(h=m.row,n=m.index,-1!=n&&!g[n])for(g[n]=!0,m=0;m<p.cells.length;m++){var n=parseFloat(e(b.columnsrow[0].cells[m]).css("left"))-k,r=n+e(b.columnsrow[0].cells[m]).width();(d>=n&&d<=r||f>=n&&f<=r||n>=d&&n<=f)&&b._applycellselection(b.getboundindex(h),b._getcolumnat(m).datafield,!0,!1)}c+=5}}b.autosavestate&&b.savestate&&b.savestate();b._renderrows(b.virtualsizeinfo)}}},selectprevcell:function(a,b){var c=this._getcolumnindex(b),c=this._getprevvisiblecolumn(c);null!=c&&(this.clearselection(),this.selectcell(a,c.datafield))},selectnextcell:function(a,b){var c=this._getcolumnindex(b),c=this._getnextvisiblecolumn(c);null!=c&&(this.clearselection(),this.selectcell(a,c.datafield))},_getfirstvisiblecolumn:function(){for(var a=this.columns.records.length,b=0;b<a;b++){var c=this.columns.records[b];if(!c.hidden&&null!=c.datafield)return c}return null},_getlastvisiblecolumn:function(){for(var a=this.columns.records.length-1;0<=a;a--){var b=this.columns.records[a];if(!b.hidden&&null!=b.datafield)return b}return null},_handlekeydown:function(a,b){if(b.disabled)return!1;var c=a.charCode?a.charCode:a.keyCode?a.keyCode:0;if(b.editcell&&"multiplecellsadvanced"!=b.selectionmode)return!0;if(b.editcell&&"multiplecellsadvanced"==b.selectionmode)if(33<=c&&40>=c){if(a.altKey||void 0!=b._cancelkeydown&&0!=b._cancelkeydown)return b._cancelkeydown=!1,!0;if("selectedrow"!==b.editmode){if(b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),b._cancelkeydown=!1,b.editcell&&!b.editcell.validated)return b._rendervisualrows(),b.endcelledit(b.editcell.row,b.editcell.column,!1,!0),!1}else return!0}else return!0;if("none"==b.selectionmode||b.showfilterrow&&b.filterable&&this.filterrow&&e(a.target).ischildof(b.filterrow)||b.showeverpresentrow&&(b.addnewrowtop&&e(a.target).ischildof(b.addnewrowtop)||b.addnewrowbottom&&e(a.target).ischildof(b.addnewrowbottom))||b.pageable&&e(a.target).ischildof(this.pager)||this.showtoolbar&&e(a.target).ischildof(this.toolbar)||this.showstatusbar&&e(a.target).ischildof(this.statusbar))return!0;var f=!1;if(a.altKey)return!0;var d=Math.round(b._gettableheight()),g=Math.round(d/b.rowsheight),h=b.getdatainformation();switch(b.selectionmode){case "singlecell":case "multiplecells":case "multiplecellsextended":case "multiplecellsadvanced":var l=b.getselectedcell();if(null!=l){var d=this.getrowvisibleindex(l.rowindex),k=l.datafield,m=b._getcolumnindex(k),n=function(c,d,e,g){var h=function(a,c){var d=b.dataview.loadedrecords[a];if(b.groupable&&0<b.groups.length){var h=a;"up"==g&&h++;"down"==g&&h--;for(var d=b.getdisplayrows()[h],k=1,l=!0;l&&300>k;){l=!1;"down"==g?d=b.getdisplayrows()[h+k]:"up"==g&&(d=b.getdisplayrows()[h-k]);if(!d)break;d&&d.group&&(l=!0);for(var m=d.parentItem;m;){var n;if(n=m)n=m.group?b.expandedgroups[m.uniqueid]?b.expandedgroups[m.uniqueid].expanded:void 0:!1,n=!n;n&&(l=!0);m=m.parentItem}if(!l)break;k++}300==k&&(d=null);if(b.pageable&&(h=!1,d)){for(k=0;k<b.dataview.rows.length;k++)b.dataview.rows[k].boundindex==d.boundindex&&(h=!0);h||(d=null)}}return void 0!=d&&null!=c?((e||void 0==e)&&b.clearselection(),d=b.getboundindex(d),b.selectcell(d,c),b._oldselectedcell=b.selectedcell,f=!0,b.ensurecellvisible(a,c),!0):!1};h(c,d)||(b.ensurecellvisible(c,d),h(c,d),b.virtualmode&&b.host.focus());b.groupable&&0<b.groups.length||(a.shiftKey&&9!=a.keyCode?"multiplecellsextended"!=b.selectionmode&&"multiplecellsadvanced"!=b.selectionmode||!b._lastClickedCell||(b._selectpath(c,d),c=b.getboundindex(b.dataview.loadedrecords[c]),b.selectedcell={rowindex:c,datafield:d}):a.shiftKey||(b._lastClickedCell={row:c,column:d}))},p=a.shiftKey&&"singlecell"!=b.selectionmode&&"multiplecells"!=b.selectionmode,l=function(){n(0,k,!p)},q=function(){n(h.rowscount-1,k,!p)},r=9==c&&!a.shiftKey,t=9==c&&a.shiftKey;if(b.rtl)var v=r,r=t,t=v;if(r||t)p=!1;if((r||t)&&document.activeElement&&document.activeElement.className&&0<=document.activeElement.className.indexOf("jqx-grid-cell-add-new-row"))return!0;(v=a.ctrlKey||a.metaKey)&&37==c?(g=b._getfirstvisiblecolumn(m),null!=g&&n(d,g.datafield)):v&&39==c?(g=b._getlastvisiblecolumn(m),null!=g&&n(d,g.datafield)):39==c||r?(g=b._getnextvisiblecolumn(m),null!=g?n(d,g.datafield,!p):r?(g=b._getfirstvisiblecolumn(),c=40,k=g.displayfield):f=!0):37==c||t?(g=b._getprevvisiblecolumn(m),null!=g?n(d,g.datafield,!p):t?(g=b._getlastvisiblecolumn(),c=38,k=g.displayfield):f=!0):36==c?l():35==c?q():33==c?0<=d-g?n(d-g,k,!p):l():34==c&&(h.rowscount>d+g?n(d+g,k,!p):q());38==c&&(v?l():0<d?n(d-1,k,!p,"up"):f=!0);40==c&&(v?q():h.rowscount>d+1||b.groupable&&0<b.groups.length?n(d+1,k,!p,"down"):f=!0)}break;case "singlerow":case "multiplerows":case "multiplerowsextended":case "multiplerowsadvanced":d=b.getselectedrowindex();if(null==d||-1==d)return!0;var d=this.getrowvisibleindex(d),u=function(d,e,g){var h=function(a){var c=b.dataview.loadedrecords[a];if(b.groupable&&0<b.groups.length){"up"==g&&a++;"down"==g&&a--;for(var c=b.getdisplayrows()[a],d=1,h=!0;h&&300>d;){h=!1;"down"==g?c=b.getdisplayrows()[a+d]:"up"==g&&(c=b.getdisplayrows()[a-d]);if(!c)break;c&&c.group&&(h=!0);for(var k=c.parentItem;k;){var l;if(l=k)l=k.group?b.expandedgroups[k.uniqueid]?b.expandedgroups[k.uniqueid].expanded:void 0:!1,l=!l;l&&(h=!0);k=k.parentItem}if(!h)break;d++}300==d&&(c=null);if(b.pageable&&(d=!1,c)){for(h=0;h<b.dataview.rows.length;h++)b.dataview.rows[h].boundindex==c.boundindex&&(d=!0);d||(c=null)}}return void 0!=c?(c=b.getboundindex(c),d=b.selectedrowindex,(e||void 0==e)&&b.clearselection(),b.selectedrowindex=d,b.selectrow(c,!1),(!b.ensurerowvisible(a)||b.autoheight||b.groupable)&&b._rendervisualrows(),f=!0):!1};h(d)||(b.ensurerowvisible(d),h(d,e),b.virtualmode&&setTimeout(function(){h(d,e)},25),b.virtualmode&&b.host.focus());b.groupable&&0<b.groups.length||(a.shiftKey&&9!=c?"multiplerowsextended"==b.selectionmode&&b._lastClickedCell&&(b._selectrowpath(d),b.selectedrowindex=b.getrowboundindex(d)):a.shiftKey||(b._lastClickedCell={row:d},b.selectedrowindex=b.getrowboundindex(d)))},p=a.shiftKey&&"singlerow"!=b.selectionmode&&"multiplerows"!=b.selectionmode,l=function(){u(0,!p)},q=function(){u(h.rowscount-1,!p)},v=a.ctrlKey||a.metaKey;36==c||v&&38==c?l():35==c||v&&40==c?q():33==c?0<=d-g?u(d-g,!p):l():34==c?h.rowscount>d+g?u(d+g,!p):q():38==c?0<d?u(d-1,!p,"up"):f=!0:40==c&&(h.rowscount>d+1||b.groupable&&0<b.groups.length?u(d+1,!p,"down"):f=!0)}return f?(b.autosavestate&&b.savestate&&b.savestate(),!1):!0},_handlemousemove:function(a,b){if(!b.vScrollInstance.isScrolling()&&!b.hScrollInstance.isScrolling()){var c,f,d,g;if(b.enablehover||"multiplerows"==b.selectionmode)c=this.showheader?this.columnsheader.height()+2:0,f=this._groupsheader()?this.groupsheader.height():0,f+=this.showtoolbar?this.toolbarheight:0,d=this.host.coord(),this.hasTransform&&(d=e.jqx.utilities.getOffset(this.host),g=this._getBodyOffset(),d.left-=g.left,d.top-=g.top),g=a.pageX-d.left,c=a.pageY-c-d.top-f;if("multiplerowsextended"!=b.selectionmode&&"multiplecellsextended"!=b.selectionmode&&"multiplecellsadvanced"!=b.selectionmode||1!=b.mousecaptured)if(b.enablehover){if(!b.disabled&&!this.vScrollInstance.isScrolling()&&!this.hScrollInstance.isScrolling()&&(c=this._hittestrow(g,c))){var h=c.row;c=c.index;if(-1==this.hoveredrow||-1==c||this.hoveredrow!=c||-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode)if(this._clearhoverstyle(),-1!=c&&void 0!=h&&(f=this.hittestinfo[c].visualrow,null!=f&&!(this.hittestinfo[c].details||a.clientX>e(f).width()+e(f).coord().left))){var l=0;d=f.cells.length;b.rowdetails&&b.showrowdetailscolumn?this.rtl?(--d,d-=this.groups.length):l=1+this.groups.length:this.groupable&&(this.rtl?d-=this.groups.length:l=this.groups.length);if(0!=f.cells.length){var k=f.cells[l].className;if(!(h.group||0<=this.selectionmode.indexOf("row")&&-1!=k.indexOf("jqx-grid-cell-selected")))if(this.hoveredrow=c,-1!=this.selectionmode.indexOf("cell")||"checkbox"==this.selectionmode){var h=-1,m=this.hScrollInstance,k=m.value;for(this.rtl&&"hidden"!=this.hScrollBar.css("visibility")&&(k=m.max-m.value);l<d;l++)if(m=parseInt(e(this.columnsrow[0].cells[l]).css("left"))-k,m+e(this.columnsrow[0].cells[l]).width()>=g&&g>=m){h=l;break}if(-1!=h&&(g=f.cells[h],this.cellhover&&this.cellhover(g,a.pageX,a.pageY),-1==g.className.indexOf("jqx-grid-cell-selected"))){if(this.editcell&&(f=this._getcolumnat(h))&&this.editcell.row==c&&this.editcell.column==f.datafield)return;e(g).addClass(this.toTP("jqx-grid-cell-hover"));e(g).addClass(this.toTP("jqx-fill-state-hover"))}}else for(;l<d;l++)g=f.cells[l],e(g).addClass(this.toTP("jqx-grid-cell-hover")),e(g).addClass(this.toTP("jqx-fill-state-hover")),this.cellhover&&this.cellhover(g,a.pageX,a.pageY)}}}}else return!0}}})})(jqxBaseFramework);(function(e){e.jqx.dataview.sort=function(){this.sortby=function(a,b,c){var f=Object.prototype.toString;if(null==b)this.sortdata=null,this.sortcache={},this.grid._pagescache=[],this.grid._cellscache=[],this.refresh();else{void 0==b&&(b=!0);b="a"==b||"asc"==b||"ascending"==b||1==b?!0:!1;var d=a;this.sortfield=a;this.sortfielddirection=b?"asc":"desc";void 0==this.sortcache&&(this.sortcache={});this.sortdata=[];var g=[],h=!1;"constructor"==d&&(d="");if(!this.virtualmode&&null!=this.sortcache[d]){var l=this.sortcache[d],g=l._sortdata;l.direction==b?g.reverse():(!l.direction&&b&&g.reverse(),h=!0);g.length<this.totalrecords&&(this.sortcache={},h=!1,g=[])}Object.prototype.toString="function"==typeof a?a:function(){return this[a]};var l=this.records,k="";this.source.datafields&&e.each(this.source.datafields,function(){if(this.name==a)return this.type&&(k=this.type),!1});if(0==g.length)if(l.length)for(var m=l.length,n=0;n<m;n++){var p=l[n];null!=p&&g.push({sortkey:p.toString(),value:p,index:n})}else{m=!1;for(obj in l){p=l[obj];if(void 0==p){m=!0;break}g.push({sortkey:p.toString(),value:p,index:obj})}m&&e.each(l,function(a,b){g.push({sortkey:b.toString(),value:b,index:a})})}if(!h)if(null==c){this._sortcolumntype=k;var q=this;g.sort(function(a,b){return q._compare(a,b,k)})}else g.sort(c);b||g.reverse();Object.prototype.toString=f;this.sortdata=g;this.sortcache[d]={_sortdata:g,direction:b};this.reload(this.records,this.rows,this.filters,this.updated,!0)}};this.clearsortdata=function(){this.sortcache={};this.sortdata=null};this._compare=function(a,b,c){a=a.sortkey;b=b.sortkey;void 0===a&&(a=null);void 0===b&&(b=null);if(null===a&&null===b)return 0;if(null===a&&null!==b)return-1;if(null!==a&&null===b)return 1;if(e.jqx.dataFormat)if(c&&""!=c)switch(c){case "string":case "text":a=String(a).toLowerCase(),b=String(b).toLowerCase()}else{if(e.jqx.dataFormat.isNumber(a)&&e.jqx.dataFormat.isNumber(b)||e.jqx.dataFormat.isDate(a)&&e.jqx.dataFormat.isDate(b))return a<b?-1:a>b?1:0;e.jqx.dataFormat.isNumber(a)||e.jqx.dataFormat.isNumber(b)||(a=String(a).toLowerCase(),b=String(b).toLowerCase())}return a<b?-1:a>b?1:0};this._equals=function(a,b){return 0===this._compare(a,b)}};e.extend(e.jqx._jqxGrid.prototype,{_rendersortcolumn:function(){var a=this.that,b=this.getsortcolumn();if(this.sortdirection){var c=function(b,c){var g=a.getcolumn(b);g&&(c.ascending?e.jqx.aria(g.element,"aria-sort","ascending"):c.descending?e.jqx.aria(g.element,"aria-sort","descending"):e.jqx.aria(g.element,"aria-sort","none"))};this._oldsortinfo&&this._oldsortinfo.column&&c(this._oldsortinfo.column,{ascending:!1,descending:!1});c(b,this.sortdirection)}this._oldsortinfo={column:b,direction:this.sortdirection};this.sortdirection&&e.each(this.columns.records,function(c,d){var g=e.data(document.body,"groupsortelements"+this.displayfield);null==b||this.displayfield!=b?(e(this.sortasc).hide(),e(this.sortdesc).hide(),null!=g&&(g.sortasc.hide(),g.sortdesc.hide())):a.sortdirection.ascending?(e(this.sortasc).show(),e(this.sortdesc).hide(),null!=g&&(g.sortasc.show(),g.sortdesc.hide())):(e(this.sortasc).hide(),e(this.sortdesc).show(),null!=g&&(g.sortasc.hide(),g.sortdesc.show()))})},getsortcolumn:function(){return void 0!=this.sortcolumn?this.sortcolumn:null},removesort:function(){this.sortby(null)},sortby:function(a,b,c,e,d){if(this._loading&&!1!==d)throw Error("jqxGrid: "+this.loadingerrormessage);null==a&&(b=null,a=this.sortcolumn);if(void 0!=a){d=this.that;void 0==c&&null!=d.source.sortcomparer&&(c=d.source.sortcomparer);ascending="a"==b||"asc"==b||"ascending"==b||1==b?!0:!1;d.sortdirection=null!=b?{ascending:ascending,descending:!ascending}:{ascending:!1,descending:!1};d.sortcolumn=null!=b?a:null;if(d.source.sort||d.virtualmode){if(d.dataview.sortfield=a,d.dataview.sortfielddirection=null==b?"":ascending?"asc":"desc",d.source.sort&&!this._loading){d.source.sort(a,b);d._raiseEvent(6,{sortinformation:d.getsortinformation()});return}}else d.dataview.sortby(a,b,c);!1!==e&&(d.groupable&&0<d.groups.length?(d._render(!0,!1,!1),d._updategroupheadersbounds&&d.showgroupsheader&&d._updategroupheadersbounds()):(d.pageable&&d.dataview.updateview(),d._updaterowsproperties(),d.rendergridcontent(!0)),d._raiseEvent(6,{sortinformation:d.getsortinformation()}))}},_togglesort:function(a){var b=this.that;if(!this.disabled&&a.sortable&&b.sortable){var c=b.getsortinformation(),e=null;null!=c.sortcolumn&&c.sortcolumn==a.displayfield?(e=c.sortdirection.ascending,e=1<b.sorttogglestates?1==e?!1:null:!e):e=!0;b.sortby(a.displayfield,e,null)}}})})(jqxBaseFramework);
(function(e){e.jqx.cssroundedcorners=function(a){var b={all:"jqx-rc-all",top:"jqx-rc-t",bottom:"jqx-rc-b",left:"jqx-rc-l",right:"jqx-rc-r","top-right":"jqx-rc-tr","top-left":"jqx-rc-tl","bottom-right":"jqx-rc-br","bottom-left":"jqx-rc-bl"};for(prop in b)if(b.hasOwnProperty(prop)&&a==prop)return b[prop]};e.jqx.jqxWidget("jqxButton","",{});e.extend(e.jqx._jqxButton.prototype,{defineInstance:function(){var a={cursor:"arrow",roundedCorners:"all",disabled:!1,height:null,width:null,overrideTheme:!1,enableHover:!0,enableDefault:!0,enablePressed:!0,rtl:!1,_ariaDisabled:!1,_scrollAreaButton:!1,template:"default",aria:{"aria-disabled":{name:"disabled",type:"boolean"}}};e.extend(!0,this,a);return a},createInstance:function(a){var b=this;b._setSize();b._ariaDisabled||b.host.attr("role","button");b.overrideTheme||(b.host.addClass(b.toThemeProperty(e.jqx.cssroundedcorners(b.roundedCorners))),b.enableDefault&&b.host.addClass(b.toThemeProperty("jqx-button")),b.host.addClass(b.toThemeProperty("jqx-widget")));b.isTouchDevice=e.jqx.mobile.isTouchDevice();b._ariaDisabled||e.jqx.aria(this);"arrow"!=b.cursor&&(b.disabled?b.host.css({cursor:"arrow"}):b.host.css({cursor:b.cursor}));a="mouseenter mouseleave mousedown focus blur";b._scrollAreaButton&&(a="mousedown");b.isTouchDevice&&(b.addHandler(b.host,e.jqx.mobile.getTouchEventName("touchstart"),function(a){b.isPressed=!0;b.refresh()}),b.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+b.element.id,function(a){b.isPressed=!1;b.refresh()}));b.addHandler(b.host,a,function(a){switch(a.type){case "mouseenter":b.isTouchDevice||b.disabled||!b.enableHover||(b.isMouseOver=!0,b.refresh());break;case "mouseleave":b.isTouchDevice||b.disabled||!b.enableHover||(b.isMouseOver=!1,b.refresh());break;case "mousedown":b.disabled||(b.isPressed=!0,b.refresh());break;case "focus":b.disabled||(b.isFocused=!0,b.refresh());break;case "blur":b.disabled||(b.isFocused=!1,b.refresh())}});b.mouseupfunc=function(a){b.disabled||!b.isPressed&&!b.isMouseOver||(b.isPressed=!1,b.refresh())};b.addHandler(e(document),"mouseup.button"+b.element.id,b.mouseupfunc);try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(a="",window.parent&&document.referrer&&(a=document.referrer),-1!=a.indexOf(document.location.host)&&(a=function(a){b.isPressed=!1;b.refresh()},window.top.document&&b.addHandler(e(window.top.document),"mouseup",a)))}catch(c){}b.propertyChangeMap.roundedCorners=function(a,b,d,g){a.host.removeClass(a.toThemeProperty(e.jqx.cssroundedcorners(d)));a.host.addClass(a.toThemeProperty(e.jqx.cssroundedcorners(g)))};b.propertyChangeMap.width=function(a,b,d,e){a._setSize();a.refresh()};b.propertyChangeMap.height=function(a,b,d,e){a._setSize();a.refresh()};b.propertyChangeMap.disabled=function(a,b,d,g){d!=g&&(a.host[0].disabled=g,a.host.attr("disabled",g),a.refresh(),g?a.host.css({cursor:"default"}):a.host.css({cursor:a.cursor}),e.jqx.aria(a,"aria-disabled",a.disabled))};b.propertyChangeMap.rtl=function(a,b,d,e){d!=e&&a.refresh()};b.propertyChangeMap.template=function(a,b,d,e){d!=e&&(a.host.removeClass("jqx-"+d),a.refresh())};b.propertyChangeMap.theme=function(a,b,d,g){a.host.removeClass();a.enableDefault&&a.host.addClass(a.toThemeProperty("jqx-button"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.overrideTheme||a.host.addClass(a.toThemeProperty(e.jqx.cssroundedcorners(a.roundedCorners)));a._oldCSSCurrent=null;a.refresh()};b.disabled&&(b.element.disabled=!0,b.host.attr("disabled",!0))},resize:function(a,b){this.width=a;this.height=b;this._setSize()},val:function(){var a=this.host.find("input");if(0<a.length){if(0==arguments.length||"object"==typeof value)return a.val();a.val(value);this.refresh();return a.val()}if(0==arguments.length||"object"==typeof value)return"button"==this.element.nodeName.toLowerCase()?e(this.element).text():this.element.value;this.element.value=arguments[0];"button"==this.element.nodeName.toLowerCase()&&e(this.element).text(arguments[0]);this.refresh()},_setSize:function(){null==this.width||-1==this.width.toString().indexOf("px")&&-1==this.width.toString().indexOf("%")?void 0==this.width||isNaN(this.width)||this.host.css("width",this.width):this.host.css("width",this.width);null==this.height||-1==this.height.toString().indexOf("px")&&-1==this.height.toString().indexOf("%")?void 0==this.height||isNaN(this.height)||this.host.css("height",parseInt(this.height)):this.host.css("height",this.height)},_removeHandlers:function(){this.removeHandler(this.host,"selectstart");this.removeHandler(this.host,"click");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(this.host,"mousedown");this.removeHandler(e(document),"mouseup.button"+this.element.id,this.mouseupfunc);this.isTouchDevice&&(this.removeHandler(this.host,e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchend")+"."+this.element.id));this.mouseupfunc=null;delete this.mouseupfunc},focus:function(){this.host.focus()},destroy:function(){this._removeHandlers();var a=e.data(this.element,"jqxButton");a&&delete a.instance;this.host.removeClass();this.host.removeData();this.host.remove();delete this.set;delete this.get;delete this.call;delete this.element;delete this.host},render:function(){this.refresh()},refresh:function(){if(!this.overrideTheme){var a=this.toThemeProperty("jqx-fill-state-focus"),b=this.toThemeProperty("jqx-fill-state-disabled"),c=this.toThemeProperty("jqx-fill-state-normal");this.enableDefault||(c="");var e=this.toThemeProperty("jqx-fill-state-hover"),d=this.toThemeProperty("jqx-fill-state-pressed"),g=this.toThemeProperty("jqx-fill-state-pressed");this.enablePressed||(d="");var h="";this.host&&((this.host[0].disabled=this.disabled)?(h=c+" "+b,"default"!==this.template&&""!==this.template&&(h+=" jqx-"+this.template),this.host.addClass(h),this._oldCSSCurrent=h):(h=this.isMouseOver&&!this.isTouchDevice?this.isPressed?g:e:this.isPressed?d:c,this.isFocused&&(h+=" "+a),"default"!==this.template&&""!==this.template&&(h+=" jqx-"+this.template),h!=this._oldCSSCurrent&&(this._oldCSSCurrent&&this.host.removeClass(this._oldCSSCurrent),this.host.addClass(h),this._oldCSSCurrent=h),this.rtl&&(this.host.addClass(this.toThemeProperty("jqx-rtl")),this.host.css("direction","rtl"))))}}});e.jqx.jqxWidget("jqxLinkButton","",{});e.extend(e.jqx._jqxLinkButton.prototype,{defineInstance:function(){this.disabled=!1;this.width=this.height=null;this.rtl=!1;this.href=null},createInstance:function(a){var b=this;this.host.onselectstart=function(){return!1};this.host.attr("role","button");var c=this.height||this.host.height(),e=this.width||this.host.width();this.href=this.host.attr("href");this.target=this.host.attr("target");this.content=this.host.text();this.element.innerHTML="";this.host.append("\x3cinput type\x3d'button' class\x3d'jqx-wrapper'/\x3e");var d=this.host.find("input");d.addClass(this.toThemeProperty("jqx-reset"));d.width(e);d.height(c);d.val(this.content);this.host.find("tr").addClass(this.toThemeProperty("jqx-reset"));this.host.find("td").addClass(this.toThemeProperty("jqx-reset"));this.host.find("tbody").addClass(this.toThemeProperty("jqx-reset"));this.host.css("color","inherit");this.host.addClass(this.toThemeProperty("jqx-link"));d.css({width:e});d.css({height:c});d.jqxButton(void 0==a?{}:a[0]||{});this.disabled&&(this.host[0].disabled=!0);this.propertyChangeMap.disabled=function(a,b,c,d){a.host[0].disabled=d;a.host.find("input").jqxButton({disabled:d})};this.addHandler(d,"click",function(a){if(!this.disabled)b.onclick(a);return!1})},onclick:function(a){null!=this.target?window.open(this.href,this.target):window.location=this.href}});e.jqx.jqxWidget("jqxRepeatButton","jqxButton",{});e.extend(e.jqx._jqxRepeatButton.prototype,{defineInstance:function(){this.delay=50},createInstance:function(a){var b=this,c=e.jqx.mobile.isTouchDevice();a=c?"touchend."+this.base.element.id:"mouseup."+this.base.element.id;var f=c?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.addHandler(e(document),a,function(a){null!=b.timeout&&(clearTimeout(b.timeout),b.timeout=null,b.refresh());void 0!=b.timer&&(clearInterval(b.timer),b.timer=null,b.refresh())});this.addHandler(this.base.host,f,function(a){null!=b.timer&&clearInterval(b.timer);b.timeout=setTimeout(function(){clearInterval(b.timer);b.timer=setInterval(function(a){b.ontimer(a)},b.delay)},150)});this.mousemovefunc=function(a){c||0!=a.which||null==b.timer||(clearInterval(b.timer),b.timer=null)};this.addHandler(this.base.host,"mousemove",this.mousemovefunc)},destroy:function(){var a=e.jqx.mobile.isTouchDevice(),b=a?"touchend."+this.base.element.id:"mouseup."+this.base.element.id,a=a?"touchstart."+this.base.element.id:"mousedown."+this.base.element.id;this.removeHandler(this.base.host,"mousemove",this.mousemovefunc);this.removeHandler(this.base.host,a);this.removeHandler(e(document),b);this.timer=null;delete this.mousemovefunc;delete this.timer;(b=e.data(this.base.element,"jqxRepeatButton"))&&delete b.instance;e(this.base.element).removeData();this.base.destroy();delete this.base},stop:function(){clearInterval(this.timer);this.timer=null},ontimer:function(a){a=new e.Event("click");null!=this.base&&null!=this.base.host&&this.base.host.trigger(a)}});e.jqx.jqxWidget("jqxToggleButton","jqxButton",{});e.extend(e.jqx._jqxToggleButton.prototype,{defineInstance:function(){this.toggled=!1;this.uiToggle=!0;this.aria={"aria-checked":{name:"toggled",type:"boolean"},"aria-disabled":{name:"disabled",type:"boolean"}}},createInstance:function(a){var b=this;b.base.overrideTheme=!0;b.isTouchDevice=e.jqx.mobile.isTouchDevice();e.jqx.aria(this);b.propertyChangeMap.roundedCorners=function(a,b,d,g){a.base.host.removeClass(a.toThemeProperty(e.jqx.cssroundedcorners(d)));a.base.host.addClass(a.toThemeProperty(e.jqx.cssroundedcorners(g)))};b.propertyChangeMap.toggled=function(a,b,d,e){a.refresh()};b.propertyChangeMap.disabled=function(a,b,d,e){a.base.disabled=e;a.refresh()};b.addHandler(b.base.host,"click",function(a){!b.base.disabled&&b.uiToggle&&b.toggle()});b.isTouchDevice||(b.addHandler(b.base.host,"mouseenter",function(a){b.base.disabled||b.refresh()}),b.addHandler(b.base.host,"mouseleave",function(a){b.base.disabled||b.refresh()}));b.addHandler(b.base.host,"mousedown",function(a){b.base.disabled||b.refresh()});b.addHandler(e(document),"mouseup.togglebutton"+b.base.element.id,function(a){b.base.disabled||b.refresh()})},destroy:function(){this._removeHandlers();this.base.destroy()},_removeHandlers:function(){this.removeHandler(this.base.host,"click");this.removeHandler(this.base.host,"mouseenter");this.removeHandler(this.base.host,"mouseleave");this.removeHandler(this.base.host,"mousedown");this.removeHandler(e(document),"mouseup.togglebutton"+this.base.element.id)},toggle:function(){this.toggled=!this.toggled;this.refresh();e.jqx.aria(this,"aria-checked",this.toggled)},unCheck:function(){this.toggled=!1;this.refresh()},check:function(){this.toggled=!0;this.refresh()},refresh:function(){var a=this.base.toThemeProperty("jqx-fill-state-disabled"),b=this.base.toThemeProperty("jqx-fill-state-normal");this.base.enableDefault||(b="");var c=this.base.toThemeProperty("jqx-fill-state-hover"),e=this.base.toThemeProperty("jqx-fill-state-pressed"),d=this.base.toThemeProperty("jqx-fill-state-pressed"),g="";(this.base.host[0].disabled=this.base.disabled)?this.base.host.addClass(b+" "+a):(g=this.base.isMouseOver&&!this.isTouchDevice?this.base.isPressed||this.toggled?d:c:this.base.isPressed||this.toggled?e:b,"default"!==this.base.template&&""!==this.base.template&&(g+=" jqx-"+this.base.template),this.base.host.hasClass(a)&&a!=g&&this.base.host.removeClass(a),this.base.host.hasClass(b)&&b!=g&&this.base.host.removeClass(b),this.base.host.hasClass(c)&&c!=g&&this.base.host.removeClass(c),this.base.host.hasClass(e)&&e!=g&&this.base.host.removeClass(e),this.base.host.hasClass(d)&&d!=g&&this.base.host.removeClass(d),this.base.host.hasClass(g)||this.base.host.addClass(g))}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxComboBox","",{});e.extend(e.jqx._jqxComboBox.prototype,{defineInstance:function(){var a={disabled:!1,width:200,height:25,items:[],selectedIndex:-1,selectedItems:[],_selectedItems:[],source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,arrowSize:18,enableHover:!0,enableSelection:!0,visualItems:[],groups:[],equalItemsWidth:!0,itemHeight:-1,visibleItems:[],emptyGroupText:"Group",emptyString:"",openDelay:250,closeDelay:300,animationType:"default",dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",searchMode:"startswithignorecase",autoComplete:!1,remoteAutoComplete:!1,remoteAutoCompleteDelay:500,selectionMode:"default",minLength:2,displayMember:"",valueMember:"",groupMember:"",searchMember:"",keyboardSelection:!0,renderer:null,autoOpen:!1,checkboxes:!1,promptText:"",placeHolder:"",rtl:!1,listBox:null,validateSelection:null,showCloseButtons:!0,renderSelectedItem:null,search:null,popupZIndex:1E5,searchString:null,multiSelect:!1,showArrow:!0,_disabledItems:[],touchMode:"auto",autoBind:!0,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:"open close select unselect change checkChange bindingComplete".split(" ")};e.extend(!0,this,a);return a},createInstance:function(a){this.host.attr("role","combobox");e.jqx.aria(this,"aria-autocomplete","both");if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw Error("jqxComboBox: Missing reference to jqxlistbox.js.");e.jqx.aria(this);""!=this.promptText&&(this.placeHolder=this.promptText);this.render()},render:function(){var a=this,b=a.element.nodeName.toLowerCase();if("select"==b||"ul"==b||"ol"==b){a.field=a.element;a.field.className&&(a._className=a.field.className);b={title:a.field.title};b.id=a.field.id.length?a.field.id.replace(/[^\w]/g,"_")+"_jqxComboBox":e.jqx.utilities.createId()+"_jqxComboBox";var c=e("\x3cdiv\x3e\x3c/div\x3e",b);a.width||(a.width=e(a.field).width());a.height||(a.height=e(a.field).outerHeight());e(a.field).hide().after(c);var f=a.host.data();a.host=c;a.host.data(f);a.element=c[0];a.element.id=a.field.id;a.field.id=b.id;a._className&&(a.host.addClass(a._className),e(a.field).removeClass(a._className));a.field.tabIndex&&(b=a.field.tabIndex,a.field.tabIndex=-1,a.element.tabIndex=b);b=e.jqx.parseSourceTag(a.field);a.source=b.items;-1==a.selectedIndex&&(a.selectedIndex=b.index)}a.removeHandlers();a.isanimating=!1;a.id=e.jqx.utilities.createId();a.element.innerHTML="";b=e("\x3cdiv style\x3d'background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'\x3e\x3cdiv id\x3d'dropdownlistWrapper' style\x3d'padding: 0; margin: 0; border: none; background-color: transparent; float: left; width:100%; height: 100%; position: relative;'\x3e\x3cdiv id\x3d'dropdownlistContent' style\x3d'padding: 0; margin: 0; border-top: none; border-bottom: none; float: left; position: absolute;'/\x3e\x3cdiv id\x3d'dropdownlistArrow' role\x3d'button' style\x3d'padding: 0; margin: 0; border-left-width: 1px; border-bottom-width: 0px; border-top-width: 0px; border-right-width: 0px; float: right; position: absolute;'/\x3e\x3c/div\x3e\x3c/div\x3e");a.comboStructure=b;if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw"jqxComboBox: Missing reference to jqxlistbox.js.";a.touch=e.jqx.mobile.isTouchDevice();!0===a.touchMode&&(a.touch=!0);a.host.append(b);a.dropdownlistWrapper=a.host.find("#dropdownlistWrapper");a.dropdownlistArrow=a.host.find("#dropdownlistArrow");a.dropdownlistContent=a.host.find("#dropdownlistContent");a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content"));a.dropdownlistContent.addClass(a.toThemeProperty("jqx-widget-content"));a.dropdownlistWrapper[0].id="dropdownlistWrapper"+a.element.id;a.dropdownlistArrow[0].id="dropdownlistArrow"+a.element.id;a.dropdownlistContent[0].id="dropdownlistContent"+a.element.id;a.dropdownlistContent.append(e('\x3cinput autocomplete\x3d"off" style\x3d"margin: 0; padding: 0; border: 0;" type\x3d"textarea"/\x3e'));a.input=a.dropdownlistContent.find("input");a.input.addClass(a.toThemeProperty("jqx-combobox-input"));a.input.addClass(a.toThemeProperty("jqx-widget-content"));a.host.attr("tabindex")&&(a.input.attr("tabindex",a.host.attr("tabindex")),a.host.removeAttr("tabindex"));a._addInput();a.rtl&&(a.input.css({direction:"rtl"}),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content-rtl")));try{var d="listBox"+a.id,g=e(e.find("#"+d));0<g.length&&g.remove();e.jqx.aria(this,"aria-owns",d);e.jqx.aria(this,"aria-haspopup",!0);e.jqx.aria(this,"aria-multiline",!1);a.listBoxContainer&&a.listBoxContainer.jqxListBox("destroy");a.container&&a.container.remove();var h=e("\x3cdiv style\x3d'overflow: hidden; border: none; background-color: transparent; position: absolute;' id\x3d'listBox"+a.id+"'\x3e\x3cdiv id\x3d'innerListBox"+a.id+"'\x3e\x3c/div\x3e\x3c/div\x3e");h.hide();h.appendTo(document.body);a.container=h;a.listBoxContainer=e(e.find("#innerListBox"+a.id));var l=a.width;"auto"!=a.dropDownWidth&&(l=a.dropDownWidth);null==a.dropDownHeight&&(a.dropDownHeight=200);a.container.width(parseInt(l)+25);a.container.height(parseInt(a.dropDownHeight)+25);a.addHandler(a.listBoxContainer,"bindingComplete",function(b){a.listBox||(a.listBox=e.data(a.listBoxContainer[0],"jqxListBox").instance);a._raiseEvent("6")});a.listBoxContainer.jqxListBox({_checkForHiddenParent:!1,allowDrop:!1,allowDrag:!1,checkboxes:a.checkboxes,emptyString:a.emptyString,autoBind:!a.remoteAutoComplete&&a.autoBind,renderer:a.renderer,rtl:a.rtl,itemHeight:a.itemHeight,selectedIndex:a.selectedIndex,incrementalSearch:!1,width:l,scrollBarSize:a.scrollBarSize,autoHeight:a.autoDropDownHeight,height:a.dropDownHeight,groupMember:a.groupMember,searchMember:a.searchMember,displayMember:a.displayMember,valueMember:a.valueMember,source:a.source,theme:a.theme,rendered:function(){a.listBox=e.data(a.listBoxContainer[0],"jqxListBox").instance;if(a.remoteAutoComplete)if(a.autoDropDownHeight?(a.container.height(a.listBox.virtualSize.height+25),a.listBoxContainer.height(a.listBox.virtualSize.height),a.listBox._arrange()):(a.listBox._arrange(),a.listBox.ensureVisible(0),a.listBox._renderItems(),a.container.height(a.listBoxContainer.height()+25)),void 0!=a.searchString&&a.searchString.length>=a.minLength){var b=a.listBoxContainer.jqxListBox("items");b?0<b.length?a.isOpened()||a.open():a.close():a.close()}else a.close();else a.renderSelection("mouse"),a.multiSelect&&a.doMultiSelect(!1);a.rendered&&a.rendered()}});a.listBoxContainer.css({position:"absolute",zIndex:a.popupZIndex,top:0,left:0});a.listBoxContainer.css("border-top-width","1px");a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup"));e.jqx.browser.msie&&a.listBoxContainer.addClass(a.toThemeProperty("jqx-noshadow"));a.listBox=e.data(a.listBoxContainer[0],"jqxListBox").instance;a.listBox.enableSelection=a.enableSelection;a.listBox.enableHover=a.enableHover;a.listBox.equalItemsWidth=a.equalItemsWidth;a.listBox._arrange();a.addHandler(a.listBoxContainer,"unselect",function(b){a.multiSelect||a._raiseEvent("3",{index:b.args.index,type:b.args.type,item:b.args.item})});a.addHandler(a.listBoxContainer,"change",function(b){a.multiSelect||(a.selectedIndex=a.listBox.selectedIndex,a._raiseEvent("4",{index:b.args.index,type:b.args.type,item:b.args.item}))});"none"==a.animationType?a.container.css("display","none"):a.container.hide()}catch(m){throw m;}var k=this;k.input.attr("disabled",k.disabled);e.jqx.browser.msie&&8>e.jqx.browser.version||k.input.attr("placeholder",k.placeHolder);a.propertyChangeMap.disabled=function(a,b,c,d){d?(a.host.addClass(k.toThemeProperty("jqx-combobox-state-disabled")),a.host.addClass(k.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.addClass(k.toThemeProperty("jqx-combobox-content-disabled"))):(a.host.removeClass(k.toThemeProperty("jqx-combobox-state-disabled")),a.host.removeClass(k.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.removeClass(k.toThemeProperty("jqx-combobox-content-disabled")));a.input.attr("disabled",a.disabled);e.jqx.aria(a,"aria-disabled",a.disabled);a.input.attr("disabled",a.disabled)};a.disabled&&(a.host.addClass(a.toThemeProperty("jqx-combobox-state-disabled")),a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content-disabled")));a.host.addClass(a.toThemeProperty("jqx-combobox-state-normal"));a.host.addClass(a.toThemeProperty("jqx-combobox"));a.host.addClass(a.toThemeProperty("jqx-rc-all"));a.host.addClass(a.toThemeProperty("jqx-widget"));a.host.addClass(a.toThemeProperty("jqx-widget-content"));a.dropdownlistArrowIcon=e("\x3cdiv\x3e\x3c/div\x3e");a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon-arrow-down"));a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon"));a.dropdownlistArrow.append(a.dropdownlistArrowIcon);a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-combobox-arrow-normal"));a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-fill-state-normal"));a.rtl?a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-rc-l")):a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-rc-r"));a._setSize();a._updateHandlers();a.addHandler(a.input,"keyup.textchange",function(b){a._search(b);a.cinput&&a.input&&(a.displayMember?a._updateInputSelection():a.cinput[0].value=a.input[0].value)});e.jqx.browser.msie&&8>e.jqx.browser.version&&0<a.host.parents(".jqx-window").length&&(d=a.host.parents(".jqx-window").css("z-index"),h.css("z-index",d+10),a.listBoxContainer.css("z-index",d+10));a.checkboxes?(a.input.attr("readonly",!0),e.jqx.aria(this,"aria-readonly",!0)):e.jqx.aria(this,"aria-readonly",!1);a.remoteAutoComplete||(a.searchString="")},_addInput:function(){var a=this.host.attr("name");this.cinput=e("\x3cinput type\x3d'hidden'/\x3e");this.host.append(this.cinput);a&&this.cinput.attr("name",a)},_updateInputSelection:function(){if(this.cinput){var a=[];if(-1==this.selectedIndex)this.cinput.val("");else{var b=this.getSelectedItem();null!=b?(this.cinput.val(b.value),a.push(b.value)):this.cinput.val(this.dropdownlistContent.text())}if(this.checkboxes||this.multiSelect){var b=this.multiSelect?this.getSelectedItems():this.getCheckedItems(),c="";if(null!=b)for(var f=0;f<b.length;f++)c=f==b.length-1?c+b[f].value:c+(b[f].value+","),a.push(b[f].value);this.cinput.val(c)}this.field&&this.cinput&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(b,c){e(this).removeAttr("selected");(this.selected=0<=a.indexOf(this.value))&&e(this).attr("selected",!0)}):e.each(this.items,function(b,c){e(this.originalItem.originalItem).removeAttr("data-selected");(this.selected=0<=a.indexOf(this.value))&&e(this.originalItem.originalItem).attr("data-selected",!0)}))}},_search:function(a){if(9!=a.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode&&16!=a.keyCode&&17!=a.keyCode&&20!=a.keyCode&&!this.checkboxes){if(this.multiSelect){var b=e("\x3cspan style\x3d'visibility: hidden; white-space: nowrap;'\x3e"+this.input.val()+"\x3c/span\x3e");b.addClass(this.toThemeProperty("jqx-widget"));e(document.body).append(b);var c=b.width()+15;b.remove();c>this.host.width()&&(c=this.host.width());25>c&&(c=25);this.input.css("width",c+"px");0==this.selectedItems.length?(this.input.css("width","100%"),this.input.attr("placeholder",this.placeHolder)):this.input.attr("placeholder","");b=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px";c=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();null!=c&&c&&(b=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(b=parseInt(b)-this._getBodyOffset().top+"px"));this.container.css("top",b);b=parseInt(this.host.height());this.dropdownlistArrow.height(b)}if(!this.isanimating){if(a.altKey&&38==a.keyCode)return this.hideListBox("altKey"),!1;if(a.altKey&&40==a.keyCode)return this.isOpened()||this.showListBox("altKey"),!1}if(37==a.keyCode||39==a.keyCode)return!1;if(!(a.altKey||18==a.keyCode||33<=a.keyCode&&40>=a.keyCode||(a.ctrlKey||this.ctrlKey)&&88!=a.keyCode&&86!=a.keyCode))if(b=this.input.val(),0!=b.length||this.autoComplete)if(this.remoteAutoComplete){var f=this;b.length>=f.minLength?a.ctrlKey||a.altKey||(f.searchString!=b&&(null==f.listBoxContainer.jqxListBox("source")&&f.listBoxContainer.jqxListBox({source:f.source}),this._searchTimer&&clearTimeout(this._searchTimer),13!=a.keyCode&&27!=a.keyCode&&(this._searchTimer=setTimeout(function(){f.listBox.vScrollInstance.value=0;f.autoDropDownHeight&&(f.listBox.autoHeight=!0);f.searchString=f.input.val();if(null!=f.search)f.search(f.input.val());else throw"'search' function is not defined";},this.remoteAutoCompleteDelay))),f.searchString=b):(this._searchTimer&&clearTimeout(this._searchTimer),f.listBox.vScrollInstance.value=0,f.searchString="",f.listBoxContainer.jqxListBox({source:null}))}else{if(f=this,b!==f.searchString){if("27"!=a.keyCode&&"13"!=a.keyCode){var d=this._updateItemsVisibility(b),b=d.matchItems,d=d.index;this.autoComplete||this.removeAutoComplete||this.multiSelect&&!(this.multiSelect&&0<=d)||(this.listBox.selectIndex(d),this.listBox.isIndexInView(d)?this.listBox._renderItems():this.listBox.ensureVisible(d));this.autoComplete&&0===b.length&&this.hideListBox("search")}if("13"==a.keyCode)(d="block"==this.container.css("display"))&&!this.isanimating&&(this.hideListBox("keyboard"),this._oldvalue=this.listBox.selectedValue);else if("27"==a.keyCode){if((d="block"==this.container.css("display"))&&!this.isanimating){if(h.multiSelect)h.input.val(""),h.listBox.selectedValue=null;else{var g=this.listBox.getVisibleItem(this._oldvalue);if(g){var h=this;setTimeout(function(){h.autoComplete&&h._updateItemsVisibility("");h.listBox.selectIndex(g.index);h.renderSelection("api")},h.closeDelay)}else this.clearSelection()}this.hideListBox("keyboard");this.renderSelection("api");a.preventDefault();return!1}}else this.isOpened()||this.opening||a.ctrlKey||this.listBox.visibleItems&&0<this.listBox.visibleItems.length&&this.input.val()!=this.searchString&&void 0!=this.searchString&&-1!=d&&this.showListBox("search"),this.searchString=this.input.val(),""!=this.searchString||this.listBox.itemsByValue[""]||(d=-1,this.multiSelect||this.clearSelection()),g=this.listBox.getVisibleItem(d),void 0!=g&&this._updateInputSelection()}}else this.listBox.searchString=this.input.val(),this.listBox.clearSelection(),this.hideListBox("search"),this.searchString=this.input.val()}},val:function(a){if(!this.input)return"";var b;a:{for(b in a)if(a.hasOwnProperty(b)){b=!1;break a}b="number"==typeof a||"date"==typeof a||"boolean"==typeof a||"string"==typeof a?!1:!0}if(b||0==arguments.length)return(b=this.getSelectedItem())?b.value:this.input.val();b=this.getItemByValue(a);null!=b?this.selectItem(b):this.input.val(a);return this.input.val()},focus:function(){var a=this,b=function(){a.input.focus();var b=a.input.val();a._setSelection(0,b.length)};b();setTimeout(function(){b()},10)},_setSelection:function(a,b){try{if("selectionStart"in this.input[0])this.input[0].focus(),this.input[0].setSelectionRange(a,b);else{var c=this.input[0].createTextRange();c.collapse(!0);c.moveEnd("character",b);c.moveStart("character",a);c.select()}}catch(e){}},setContent:function(a){this.input.val(a)},_updateItemsVisibility:function(a){var b=this.getItems();if(void 0==b)return{index:-1,matchItem:[]};var c=this,f=-1,d=[],g=0;e.each(b,function(b){b="";if(!this.isGroup){b=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";b=b.toString();var h=!1;switch(c.searchMode){case "containsignorecase":h=e.jqx.string.containsIgnoreCase(b,a);break;case "contains":h=e.jqx.string.contains(b,a);break;case "equals":h=e.jqx.string.equals(b,a);break;case "equalsignorecase":h=e.jqx.string.equalsIgnoreCase(b,a);break;case "startswith":h=e.jqx.string.startsWith(b,a);break;case "startswithignorecase":h=e.jqx.string.startsWithIgnoreCase(b,a);break;case "endswith":h=e.jqx.string.endsWith(b,a);break;case "endswithignorecase":h=e.jqx.string.endsWithIgnoreCase(b,a)}c.autoComplete&&!h&&(this.visible=!1);h&&c.autoComplete&&(d[g++]=this,this.visible=!0,f=this.visibleIndex);""==a&&c.autoComplete&&(this.visible=!0,h=!1);c.multiSelect&&(this.disabled=!1,0<=c.selectedItems.indexOf(this.value)||0<=c._disabledItems.indexOf(this.value))&&(this.disabled=!0,h=!1);if(!c.multiSelect){if(h&&!c.autoComplete)return f=this.visibleIndex,!1}else if(h&&!c.autoComplete)return-1===f&&(f=this.visibleIndex),!0}});this.listBox.searchString=a;var h=this,l=function(){if(h.multiSelect){for(var a=0,b=!1,c=null,d=0;d<h.listBox.items.length;d++)h.listBox.selectedIndexes[d]=-1,h.listBox.items[d].disabled||0!=b||(c=h.listBox.items[d],a=c.visibleIndex,b=!0);h.listBox.selectedIndex=-1;h.listBox.selectedIndex=a;h.listBox.selectedIndexes[a]=a;h.listBox.selectedValue=0<h.listBox.visibleItems.length?c?c.value:null:null;h.listBox.ensureVisible(0)}};if(!this.autoComplete)return l(),{index:f,matchItems:d};this.listBox.renderedVisibleItems=[];b=this.listBox.vScrollInstance.value;this.listBox.vScrollInstance.value=0;this.listBox.visibleItems=[];this.listBox._renderItems();var k=this.listBox.getItemByValue(this.listBox.selectedValue);if(this.multiSelect)l();else if(k)if(k.visible){this.listBox.selectedIndex=k.visibleIndex;for(l=0;l<this.listBox.items.length;l++)this.listBox.selectedIndexes[l]=-1;this.listBox.selectedIndexes[k.visibleIndex]=k.visibleIndex}else{for(l=0;l<this.listBox.items.length;l++)this.listBox.selectedIndexes[l]=-1;this.listBox.selectedIndex=-1}this.listBox._renderItems();k=this.listBox._calculateVirtualSize().height;k<b&&(b=0,this.listBox.vScrollInstance.refresh());this.autoDropDownHeight?(this._disableSelection=!0,this.listBox.autoHeight!=this.autoDropDownHeight&&this.listBoxContainer.jqxListBox({autoHeight:this.autoDropDownHeight}),this.container.height(k+25),this.listBox.invalidate(),this._disableSelection=!1):(k<parseInt(this.dropDownHeight)?(l="hidden"==this.listBox.hScrollBar[0].style.visibility?0:20,this.listBox.height=l+k,this.container.height(k+25+l)):(this.listBox.height=parseInt(this.dropDownHeight),this.container.height(parseInt(this.dropDownHeight)+25)),this.listBox.invalidate());this.listBox.vScrollInstance.setPosition(b);return{index:f,matchItems:d}},findItems:function(a){var b=this.getItems(),c=this,f=0,d=[];e.each(b,function(b){b="";if(!this.isGroup){b=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(c.searchMode){case "containsignorecase":h=e.jqx.string.containsIgnoreCase(b,a);break;case "contains":h=e.jqx.string.contains(b,a);break;case "equals":h=e.jqx.string.equals(b,a);break;case "equalsignorecase":h=e.jqx.string.equalsIgnoreCase(b,a);break;case "startswith":h=e.jqx.string.startsWith(b,a);break;case "startswithignorecase":h=e.jqx.string.startsWithIgnoreCase(b,a);break;case "endswith":h=e.jqx.string.endsWith(b,a);break;case "endswithignorecase":h=e.jqx.string.endsWithIgnoreCase(b,a)}h&&(d[f++]=this)}});return d},_resetautocomplete:function(){e.each(this.listBox.items,function(a){this.visible=!0});this.listBox.vScrollInstance.value=0;this.listBox._addItems();this.listBox.autoHeight=!1;this.listBox.height=this.dropDownHeight;this.container.height(parseInt(this.dropDownHeight)+25);this.listBoxContainer.height(parseInt(this.dropDownHeight));this.listBox._arrange();this.listBox._addItems();this.listBox._renderItems()},getItems:function(){return this.listBox.items},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width);null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var a=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(a=!0,this.host.width(this.width));null!=this.height&&-1!=this.height.toString().indexOf("%")&&(a=!0,this.host.height(this.height));if(a){var b=this,a=this.host.width();"auto"!=this.dropDownWidth&&(a=this.dropDownWidth);this.listBoxContainer.jqxListBox({width:a});this.container.width(parseInt(a)+25);this._arrange()}b=this;b.oldWidth=b.host.width();b.oldHeight=b.host.height();e.jqx.utilities.resize(this.host,function(){var a=b.host.width(),e=b.host.height();if(a!=b.oldWidth||e!=b.oldHeight)b.multiSelect&&b.host.height(b.height),b._arrange(),b.multiSelect&&b.host.height("auto"),b.hideListBox("api");b.oldWidth=a;b.oldHeight=e})},isOpened:function(){var a=e.data(document.body,"openedCombojqxListBox"+this.element.id);return"block"!=this.container.css("display")?!1:null!=a&&a==this.listBoxContainer?!0:!1},_updateHandlers:function(){var a=this;this.removeHandlers();this.multiSelect&&(this.addHandler(this.dropdownlistContent,"click",function(b){if(b.target.href)return!1;a.input.focus();setTimeout(function(){a.input.focus()},10)}),this.addHandler(this.dropdownlistContent,"focus",function(b){if(b.target.href)return!1;a.input.focus();setTimeout(function(){a.input.focus()},10)}));this.touch||(this.host.parents()&&this.addHandler(this.host.parents(),"scroll.combobox"+this.element.id,function(b){a.isOpened()&&a.close()}),this.addHandler(this.host,"mouseenter",function(){!a.disabled&&a.enableHover&&(a.host.addClass(a.toThemeProperty("jqx-combobox-state-hover")),a.dropdownlistArrowIcon.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-combobox-arrow-hover")),a.dropdownlistArrow.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!a.disabled&&a.enableHover&&(a.host.removeClass(a.toThemeProperty("jqx-combobox-state-hover")),a.dropdownlistArrowIcon.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.dropdownlistArrow.removeClass(a.toThemeProperty("jqx-combobox-arrow-hover")),a.dropdownlistArrow.removeClass(a.toThemeProperty("jqx-fill-state-hover")))}));a.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!a.isOpened()&&a.autoOpen&&(a.open(),a.host.focus())}),this.addHandler(e(document),"mousemove."+a.id,function(b){if(a.isOpened()&&a.autoOpen){var c=a.host.coord(),e=c.top,c=c.left,h=a.container.coord(),l=h.left,h=h.top;canClose=!0;b.pageY>=e&&b.pageY<=e+a.host.height()+2&&b.pageX>=c&&b.pageX<c+a.host.width()&&(canClose=!1);b.pageY>=h&&b.pageY<=h+a.container.height()-20&&b.pageX>=l&&b.pageX<l+a.container.width()&&(canClose=!1);canClose&&a.close()}}));var b="mousedown";this.touch&&(b=e.jqx.mobile.getTouchEventName("touchstart"));var c=function(b){if(!a.disabled&&(b="block"==a.container.css("display"),!a.isanimating)){if(b)return a.hideListBox("api"),e.jqx.mobile.isTouchDevice()||(a.input.focus(),setTimeout(function(){a.input.focus()},10)),!0;a.autoDropDownHeight&&(a.container.height(a.listBoxContainer.height()+25),a.listBoxContainer.jqxListBox("autoHeight")||(a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight}),a.listBox._arrange(),a.listBox.ensureVisible(0),a.listBox._renderItems(),a.container.height(a.listBoxContainer.height()+25)));a.showListBox("api");if(e.jqx.mobile.isTouchDevice())return!0;setTimeout(function(){a.input.focus()},10)}};this.addHandler(this.dropdownlistArrow,b,function(a){c(a)});this.addHandler(this.dropdownlistArrowIcon,b,function(a){});this.addHandler(this.host,"focus",function(){a.focus()});this.addHandler(this.input,"focus",function(b){a.focused=!0;a.host.addClass(a.toThemeProperty("jqx-combobox-state-focus"));a.host.addClass(a.toThemeProperty("jqx-fill-state-focus"));a.dropdownlistContent.addClass(a.toThemeProperty("jqx-combobox-content-focus"));b.stopPropagation&&b.stopPropagation()});this.addHandler(this.input,"blur",function(){a.focused=!1;a.isOpened()||a.opening||("dropDownList"==a.selectionMode&&a._selectOldValue(),a.host.removeClass(a.toThemeProperty("jqx-combobox-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.dropdownlistContent.removeClass(a.toThemeProperty("jqx-combobox-content-focus")));a._searchTimer&&clearTimeout(a._searchTimer)});this.addHandler(e(document),"mousedown."+this.id,a.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});this.touch&&this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,a.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});this.addHandler(this.host,"keydown",function(b){var c="block"==a.container.css("display");a.ctrlKey=b.ctrlKey;if("none"==a.host.css("display"))return!0;if(("13"==b.keyCode||"9"==b.keyCode)&&c&&!a.isanimating){if(-1!=a.listBox.selectedIndex){a.renderSelection("mouse");var e=a.listBox.getVisibleItem(a.listBox.selectedIndex);e&&(a.listBox.selectedValue=e.value);a._setSelection(a.input.val().length,a.input.val().length);a.hideListBox("keyboard")}"13"==b.keyCode&&(a._oldvalue=a.listBox.selectedValue);a.keyboardSelection||a._raiseEvent("2",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)});return"9"==b.keyCode?!0:!1}if(115==b.keyCode)return a.isanimating||(a.isOpened()?a.isOpened()&&a.hideListBox("keyboard"):a.showListBox("keyboard")),!1;b.altKey&&"block"==a.host.css("display")&&(a.isanimating||(38==b.keyCode?a.isOpened()&&a.hideListBox("altKey"):40==b.keyCode&&(a.isOpened()||a.showListBox("altKey"))));if(("27"==b.keyCode||"9"==b.keyCode)&&a.isOpened()&&!a.isanimating){"27"==b.keyCode&&(a.multiSelect?(a.listBox.selectedValue=null,a.input.val("")):(e=a.listBox.getItemByValue(a._oldvalue))?setTimeout(function(){a.autoComplete&&a._updateItemsVisibility("");a.listBox.selectIndex(e.index);a.renderSelection("api")},a.closeDelay):a.clearSelection());a.hideListBox("keyboard");if("9"==b.keyCode)return!0;a.renderSelection("api");b.preventDefault();return!1}var h=b.keyCode;if(c&&!a.disabled&&8!=h||!a.disabled&&!c&&(h=b.keyCode,33==h||34==h||35==h||36==h||38==h||40==h))return a.listBox._handleKeyDown(b);if(8===h&&a.multiSelect&&0===a.input.val().length)return b=a.selectedItems[a.selectedItems.length-1],a.selectedItems.pop(),a._selectedItems.pop(),b&&(a._raiseEvent("3",{index:b.index,type:"keyboard",item:b}),a._raiseEvent("4",{index:b.index,type:"keyboard",item:b})),a.listBox.selectedValue=null,a.doMultiSelect(),!1});this.addHandler(this.listBoxContainer,"checkChange",function(b){a.renderSelection("mouse");a._updateInputSelection();a._raiseEvent(5,{label:b.args.label,value:b.args.value,checked:b.args.checked,item:b.args.item})});this.addHandler(this.listBoxContainer,"select",function(b){if(!a.disabled&&("keyboard"!=b.args.type||a.keyboardSelection)&&(a.renderSelection(b.args.type),a.multiSelect||a._raiseEvent("2",{index:b.args.index,type:b.args.type,item:b.args.item}),"mouse"==b.args.type&&(a._oldvalue=a.listBox.selectedValue,!a.checkboxes))){a.hideListBox("mouse");if(a.touch)return!1;a.input.focus()}});null!=this.listBox&&null!=this.listBox.content&&this.addHandler(this.listBox.content,"click",function(b){if(!a.disabled){if(a.listBox.itemswrapper&&b.target===a.listBox.itemswrapper[0]||b.target&&b.target.className&&0<=b.target.className.indexOf("jqx-fill-state-disabled"))return!0;a.renderSelection("mouse");a._oldvalue=a.listBox.selectedValue;a.touch||a.ishiding||a.checkboxes||(a.hideListBox("mouse"),a.input.focus());!0===a.touch&&(a.checkboxes||a.hideListBox("mouse"))}})},_selectOldValue:function(){var a=this;if(-1==a.listBox.selectedIndex)if(a.multiSelect)a.listBox.selectedValue=null,a.input.val("");else{var b=a.listBox.getItemByValue(a._oldvalue);b?setTimeout(function(){a.autoComplete&&a._updateItemsVisibility("");a.listBox.selectIndex(b.index);a.renderSelection("api")},a.closeDelay):(a.clearSelection(),a.listBox.selectIndex(0),a.renderSelection("api"))}else a.renderSelection("api")},removeHandlers:function(){null!=this.dropdownlistWrapper&&this.removeHandler(this.dropdownlistWrapper,"mousedown");this.dropdownlistContent&&(this.removeHandler(this.dropdownlistContent,"click"),this.removeHandler(this.dropdownlistContent,"focus"));this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");null!=this.input&&(this.removeHandler(this.input,"focus"),this.removeHandler(this.input,"blur"));this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(e(document),"mousemove."+this.id);this.listBoxContainer&&(this.removeHandler(this.listBoxContainer,"checkChange"),this.removeHandler(this.listBoxContainer,"select"));this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.combobox"+this.element.id);if(this.dropdownlistArrowIcon&&this.dropdownlistArrow){var a="mousedown";this.touch&&(a=e.jqx.mobile.getTouchEventName("touchstart"));this.removeHandler(this.dropdownlistArrowIcon,a);this.removeHandler(this.dropdownlistArrow,a)}},getItem:function(a){return this.listBox.getItem(a)},getItemByValue:function(a){return this.listBox.getItemByValue(a)},getVisibleItem:function(a){return this.listBox.getVisibleItem(a)},renderSelection:function(a){if(void 0!=a&&"none"!=a&&!0!==this._disableSelection&&null!=this.listBox&&!this.multiSelect)if(a=this.listBox.visibleItems[this.listBox.selectedIndex],this.autoComplete&&!this.checkboxes&&void 0!==this.listBox.selectedValue&&(a=this.getItemByValue(this.listBox.selectedValue)),this.checkboxes&&(a=this.getCheckedItems(),a=null!=a&&0<a.length?a[0]:null),null==a)a=e.jqx.browser.msie&&8>e.jqx.browser.version,this.input.val(""),this.input.attr("value",""),a||this.input.attr("placeholder",this.placeHolder),this._updateInputSelection();else{this.selectedIndex=this.listBox.selectedIndex;var b=e("\x3cspan\x3e\x3c/span\x3e");void 0!=a.label&&null!=a.label&&0<a.label.toString().length?e.jqx.utilities.html(b,a.label):void 0!=a.value&&null!=a.value&&0<a.value.toString().length?e.jqx.utilities.html(b,a.value):void 0!=a.title&&null!=a.title&&0<a.title.toString().length?e.jqx.utilities.html(b,a.title):e.jqx.utilities.html(b,this.emptyString);b.outerHeight();if(this.checkboxes){for(var c=this.getCheckedItems(),f="",d=0;d<c.length;d++)f=d==c.length-1?f+c[d].label:f+(c[d].label+", ");this.input.val(f)}else this.input.val(b.text());b.remove();this._updateInputSelection();this.renderSelectedItem&&(a=this.renderSelectedItem(this.listBox.selectedIndex,a),void 0!=a&&(this.input[0].value=a));this.input.attr("value",this.input.val());this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id)}},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1;this.listBox.clearSelection();this.input.val("");this.multiSelect&&(this.listBox.selectedValue="",this.selectedItems=[],this._selectedItems=[],this.doMultiSelect(!1))},unselectIndex:function(a,b){if(!isNaN(a)&&(this.autoComplete&&this._updateItemsVisibility(""),this.listBox.unselectIndex(a,b),this.renderSelection("mouse"),this.multiSelect)){if(0<=a){var c=this.getItem(a),e=this.selectedItems.indexOf(c.value);0<=e&&(c.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(e,1),this._selectedItems.splice(e,1))}this.doMultiSelect(!1)}},selectIndex:function(a,b,c,e){this.autoComplete&&this._updateItemsVisibility("");this.listBox.selectIndex(a,b,c,e);this.renderSelection("mouse");this.selectedIndex=a;this.multiSelect&&this.doMultiSelect()},selectItem:function(a){this.autoComplete&&this._updateItemsVisibility("");void 0!=this.listBox&&(this.listBox.selectedIndex=-1,this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"),this.multiSelect&&this.doMultiSelect(!1))},unselectItem:function(a){this.autoComplete&&this._updateItemsVisibility("");if(void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"),this.multiSelect)){if(a=this.getItemByValue(a)){var b=this.selectedItems.indexOf(a.value);0<=b&&(a.value===this.listBox.selectedValue&&(this.listBox.selectedValue=null),this.selectedItems.splice(b,1),this._selectedItems.splice(b,1))}this.doMultiSelect(!1)}},checkItem:function(a){this.autoComplete&&this._updateItemsVisibility("");void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){this.autoComplete&&this._updateItemsVisibility("");void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeterminateItem:function(a){this.autoComplete&&this._updateItemsVisibility("");void 0!=this.listBox&&this.listBox.indeterminateItem(a)},getSelectedValue:function(){return this.listBox.selectedValue},getSelectedIndex:function(){if(!this.multiSelect)return this.listBox.selectedIndex;if(this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length||this._selectedItems&&0<this._selectedItems.length)return this.getSelectedItems()[0].index},getSelectedItem:function(){return this.multiSelect?this.remoteAutoComplete&&this.multiSelect&&0<this._selectedItems.length||this._selectedItems&&0<this._selectedItems.length?this.getSelectedItems()[0]:null:this.getVisibleItem(this.listBox.selectedIndex)},getSelectedItems:function(){if(this.remoteAutoComplete&&this.multiSelect)return this._selectedItems;var a=[],b=this;e.each(this.selectedItems,function(){var c=b.getItemByValue(this);c?a.push(c):(c=b._selectedItems[this])&&a.push(c)});return a},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse")},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},addItem:function(a){return this.listBox.addItem(a)},removeAt:function(a){a=this.listBox.removeAt(a);this.renderSelection("mouse");return a},removeItem:function(a){a=this.listBox.removeItem(a);this.renderSelection("mouse");return a},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);this.renderSelection("mouse");return c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);this.renderSelection("mouse");return c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){var b=this.getVisibleItem(a);b&&this._disabledItems.push(b.value);return this.listBox.disableAt(a)},enableAt:function(a){var b=this.getVisibleItem(a);b&&this._disabledItems.splice(this._disabledItems.indexOf(b.value),1);return this.listBox.enableAt(a)},disableItem:function(a){(a=this.getVisibleItem(a))&&this._disabledItems.push(a.value);return this.listBox.disableItem(a)},enableItem:function(a){(a=this.getVisibleItem(a))&&this._disabledItems.splice(this._disabledItems.indexOf(a.value),1);return this.listBox.enableItem(a)},_findPos:function(a){for(;a&&("hidden"==a.type||1!=a.nodeType||e.expr.filters.hidden(a));)a=a.nextSibling;if(a)return a=e(a).coord(!0),[a.left,a.top]},testOffset:function(a,b,c){var f=a.outerWidth();a=a.outerHeight();var d=e(window).width()+e(window).scrollLeft(),g=e(window).height()+e(window).scrollTop();b.left+f>d&&f>this.host.width()&&(d=this.host.coord().left,f-=this.host.width(),b.left=d-f+2);0>b.left&&(b.left=parseInt(this.host.coord().left)+"px");b.top-=Math.min(b.top,b.top+a>g&&g>a?Math.abs(a+c+23):0);return b},open:function(){this.isOpened()||this.opening||this.showListBox("api")},close:function(){this.isOpened()&&this.hideListBox("api")},_getBodyOffset:function(){var a=0,b=0;"0px"!=e("body").css("border-top-width")&&(a=parseInt(e("body").css("border-top-width")),isNaN(a)&&(a=0));"0px"!=e("body").css("border-left-width")&&(b=parseInt(e("body").css("border-left-width")),isNaN(b)&&(b=0));return{left:b,top:a}},showListBox:function(a){if(!this.listBox.items||0!=this.listBox.items.length){"search"!=a||this.autoComplete||this.remoteAutoComplete||this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25);if((this.autoComplete||this.multiSelect&&!this.remoteAutoComplete)&&"search"!=a&&(this._updateItemsVisibility(""),this.multiSelect))for(var b=this.getVisibleItems(),c=0;c<b.length;c++)if(!b[c].disabled){this.ensureVisible(c);break}this.remoteAutoComplete&&this.listBox.clearSelection();"search"!=a&&(this._oldvalue=this.listBox.selectedValue);e.jqx.aria(this,"aria-expanded",!0);"auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&-1!=this.width.indexOf("%")&&this.listBox.host.width()!=this.host.width()&&(a=this.host.width(),this.listBoxContainer.jqxListBox({width:a}),this.container.width(parseInt(a)+25));var f=this,d=this.listBoxContainer;a=this.listBox;e(window).scrollTop();e(window).scrollLeft();var b=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",g,c=parseInt(Math.round(this.host.coord(!0).left));g=c+"px";var h=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();this.ishiding=!1;if(e.jqx.utilities.hasTransform(this.host)||null!=h&&h)g=e.jqx.mobile.getLeftPos(this.element),b=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(b=parseInt(b)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(g=parseInt(g)-this._getBodyOffset().left+"px");this.host.addClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.host.addClass(this.toThemeProperty("jqx-combobox-state-focus"));this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistContent.addClass(this.toThemeProperty("jqx-combobox-content-focus"));this.container.css("left",g);this.container.css("top",b);a._arrange();g=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),l=Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(c))-l+"px"):this.container.css("left",25+parseInt(Math.round(c))+l+"px")}this.enableBrowserBoundsDetection&&(b=this.testOffset(d,{left:parseInt(this.container.css("left")),top:parseInt(b)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=b.top?(g=!0,d.css("top",23),d.addClass(this.toThemeProperty("jqx-popup-up"))):d.css("top",0),this.container.css("top",b.top),this.container.css("top",b.top),parseInt(this.container.css("left"))!=b.left&&this.container.css("left",b.left));"none"==this.animationType?(this.container.css("display","block"),e.data(document.body,"openedCombojqxListBoxParent",f),e.data(document.body,"openedCombojqxListBox"+f.element.id,d),d.css("margin-top",0),d.css("opacity",1)):(this.container.css("display","block"),b=d.outerHeight(),d.stop(),"fade"==this.animationType?(d.css("margin-top",0),d.css("opacity",0),d.animate({opacity:1},this.openDelay,function(){f.isanimating=!1;f.opening=!1;e.data(document.body,"openedCombojqxListBoxParent",f);e.data(document.body,"openedCombojqxListBox"+f.element.id,d)})):(d.css("opacity",1),g?d.css("margin-top",b):d.css("margin-top",-b),this.opening=this.isanimating=!0,d.animate({"margin-top":0},this.openDelay,function(){f.isanimating=!1;f.opening=!1;e.data(document.body,"openedCombojqxListBoxParent",f);e.data(document.body,"openedCombojqxListBox"+f.element.id,d)})));a._renderItems();g?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),d.addClass(this.toThemeProperty("jqx-rc-b-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-t-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),d.addClass(this.toThemeProperty("jqx-rc-t-expanded")),this.dropdownlistArrow.addClass(this.toThemeProperty("jqx-rc-b-expanded")));d.addClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("0",a)}},doMultiSelect:function(a){this.checkboxes&&(this.multiSelect=!1);var b=this;if(this.multiSelect){if(!this.validateSelection||this.validateSelection(this.listBox.selectedValue)){if(this.listBox.selectedValue){if(-1===this.selectedItems.indexOf(this.listBox.selectedValue)){var c=this.getItemByValue(this.listBox.selectedValue);c&&c.visible&&(this.selectedItems.push(this.listBox.selectedValue),this._selectedItems.push(c),this._raiseEvent("2",{index:c.index,item:c}),this._raiseEvent("4",{index:c.index,item:c}))}this.listBox.selectedIndex=0}if(c=this.listBox.items){for(var f=0;f<c.length;f++)if(c[f].disabled=!1,0<=this.selectedItems.indexOf(c[f].value)||0<=this._disabledItems.indexOf(this.value))c[f].disabled=!0;this.listBox._renderItems();this.searchString="";this.input.val("");c="";f="mousedown";c=b.dropdownlistContent.find(".jqx-button");this.touch&&(f=e.jqx.mobile.getTouchEventName("touchstart"));this.removeHandler(c,f);this.removeHandler(c.find(".jqx-icon-close"),f);c.remove();b.input.detach();0<this.selectedItems.length?(b.input.css("width","25px"),b.input.attr("placeholder","")):(b.input.css("width","100%"),b.input.attr("placeholder",this.placeHolder));e.each(this.selectedItems,function(a){var c=b.getItemByValue(this);if(!c||b.remoteAutoComplete)c=b._selectedItems[a];var f=e('\x3cdiv style\x3d"overflow: hidden; float: left;"\x3e\x3c/div\x3e');f.addClass(b.toThemeProperty("jqx-button"));f.addClass(b.toThemeProperty("jqx-combobox-multi-item"));f.addClass(b.toThemeProperty("jqx-fill-state-normal"));f.addClass(b.toThemeProperty("jqx-rc-all"));if(c){var l=c.label;b.renderSelectedItem&&(a=b.renderSelectedItem(a,c))&&(l=a);""==f[0].innerHTML&&(f[0].innerHTML='\x3ca data-value\x3d"'+c.value+'" style\x3d"float: left;" href\x3d"#"\x3e'+l+"\x3c/a\x3e");b.rtl&&(f[0].innerHTML='\x3ca data-value\x3d"'+c.value+'" style\x3d"float: right;" href\x3d"#"\x3e'+l+"\x3c/a\x3e");c=b.rtl?"left":"right";b.showCloseButtons&&(l='\x3cdiv style\x3d"position: relative; overflow: hidden; float: '+c+'; min-height: 16px; min-width: 18px;"\x3e\x3cdiv style\x3d"position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class\x3d"'+b.toThemeProperty("jqx-icon-close")+'"\x3e\x3c/div\x3e\x3c/div\x3e',e.jqx.browser.msie&&8>e.jqx.browser.version&&(l='\x3cdiv style\x3d"position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"\x3e\x3cdiv style\x3d"position: absolute; left: 100%; top: 50%; margin-left: -18px; margin-top: -7px; float: none; width: 16px; height: 16px;" class\x3d"'+b.toThemeProperty("jqx-icon-close")+'"\x3e\x3c/div\x3e\x3c/div\x3e'),b.rtl&&(l='\x3cdiv style\x3d"position: relative; overflow: hidden; float: '+c+'; min-height: 16px; min-width: 18px;"\x3e\x3cdiv style\x3d"position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class\x3d"'+b.toThemeProperty("jqx-icon-close")+'"\x3e\x3c/div\x3e\x3c/div\x3e',e.jqx.browser.msie&&8>e.jqx.browser.version&&(l='\x3cdiv style\x3d"position: relative; overflow: hidden; float: left; min-height: 16px; min-width: 18px;"\x3e\x3cdiv style\x3d"position: absolute; left: 0px; top: 50%; margin-top: -7px; float: none; width: 16px; height: 16px;" class\x3d"'+b.toThemeProperty("jqx-icon-close")+'"\x3e\x3c/div\x3e\x3c/div\x3e')),f[0].innerHTML+=l)}else""==f[0].innerHTML&&(f[0].innerHTML='\x3ca href\x3d"#"\x3e\x3c/a\x3e');b.dropdownlistContent.append(f)});b.dropdownlistContent.append(b.input);b.input.val("");!1!==a&&(b.input.focus(),setTimeout(function(){b.input.focus()},10));c=b.dropdownlistContent.find(".jqx-button");!0===this.touchMode&&(f="mousedown");this.addHandler(c,f,function(a){if(0<=a.target.className.indexOf("jqx-icon-close")||b.disabled)return!0;var c=e(a.target).attr("data-value");b.getItemByValue(c)&&(b.listBox.selectedValue=null,b.listBox.clearSelection());b.listBox.scrollTo(0,0);b.open();a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();return!1});this.addHandler(c.find(".jqx-icon-close"),f,function(a){if(!b.disabled){a=e(a.target).parent().parent().find("a").attr("data-value");var c=b.getItemByValue(a);if(c||b.remoteAutoComplete&&!c&&0<=b.selectedItems.indexOf(a)){b.listBox.selectedValue=null;var f=b.selectedItems.indexOf(a),l=c&&0<=c.index?c.index:f;if(0<=f){b.selectedItems.splice(f,1);var k=b._selectedItems[f];k||(k=c);b._selectedItems.splice(f,1);b._raiseEvent("3",{index:l,type:"mouse",item:k});b._raiseEvent("4",{index:l,type:"mouse",item:k});b.doMultiSelect()}else for(f=0;f<b.selectedItems.length;f++)if(k=b.selectedItems[f],k==a){b.selectedItems.splice(f,1);b._selectedItems.splice(f,1);b._raiseEvent("3",{index:l,type:"mouse",item:c});b._raiseEvent("4",{index:l,type:"mouse",item:c});b.doMultiSelect();break}}}});b.dropdownlistArrow.height(this.host.height());b._updateInputSelection()}}}else c=b.dropdownlistContent.find(".jqx-button"),f="mousedown",this.touch&&(f=e.jqx.mobile.getTouchEventName("touchstart")),this.removeHandler(c,f),this.removeHandler(c.find(".jqx-icon-close"),f),c.remove(),this.selectedItems=[],this._selectedItems=[]},hideListBox:function(a){var b=this.listBoxContainer,c=this.listBox,f=this.container;if("none"!=this.container[0].style.display){e.jqx.aria(this,"aria-expanded",!1);if("keyboard"==a||"mouse"==a)this.listBox.searchString="";("keyboard"==a||"mouse"==a&&this.multiSelect)&&this.doMultiSelect();var d=this;e.data(document.body,"openedCombojqxListBox"+this.element.id,null);if("none"==this.animationType)this.opening=!1,this.container.css("display","none");else if(!this.ishiding){a=b.outerHeight();b.css("margin-top",0);b.stop();this.opening=!1;this.isanimating=!0;var g=-a;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=a);"fade"==this.animationType?(b.css({opacity:1}),b.animate({opacity:0},this.closeDelay,function(){d.isanimating=!1;f.css("display","none");d.ishiding=!1})):b.animate({"margin-top":g},this.closeDelay,function(){d.isanimating=!1;f.css("display","none");d.ishiding=!1})}this.ishiding=!0;this.host.removeClass(this.toThemeProperty("jqx-combobox-state-selected"));this.dropdownlistArrowIcon.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-combobox-arrow-selected"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.focused||(this.host.removeClass(this.toThemeProperty("jqx-combobox-state-focus")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus")),this.dropdownlistContent.removeClass(this.toThemeProperty("jqx-combobox-content-focus")));this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));b.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));b.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));b.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.dropdownlistArrow.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));this._raiseEvent("1",c)}},closeOpenedListBox:function(a){var b=a.data.me,c=e(a.target),f=a.data.listbox;if(null==f)return!0;if(!e(a.target).ischildof(a.data.me.host)){var d=!1;e.each(c.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return d=!0,!1;if(-1!=this.className.indexOf("jqx-combobox"))return b.element.id==this.id&&(d=!0),!1}});null!=f&&!d&&b.isOpened()&&(b.hideListBox("api"),b.input.blur());return!0}},loadFromSelect:function(a){this.listBox.loadFromSelect(a);this.clearSelection()},refresh:function(a){this._setSize();this._arrange();this.listBox&&this.renderSelection()},resize:function(){this._setSize();this._arrange()},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height()),c=this.arrowSize,f=1;this.showArrow||(c=0,this.dropdownlistArrow.hide(),f=0,this.host.css("cursor","arrow"));a=a-c-1*f;0<a&&(this.dropdownlistContent[0].style.width=a+"px");this.rtl&&(this.dropdownlistContent[0].style.width=-1+a+"px");this.dropdownlistContent[0].style.height=b+"px";this.dropdownlistContent[0].style.left="0px";this.dropdownlistContent[0].style.top="0px";this.dropdownlistArrow[0].style.width=c+1+"px";this.dropdownlistArrow[0].style.height=b+"px";this.dropdownlistArrow[0].style.left=1+a+"px";this.input[0].style.width="100%";this.multiSelect||this.input.height(b);c=this.input.height();0==c&&(c=parseInt(this.input.css("font-size"))+3);-1==this.input[0].className.indexOf("jqx-rc-all")&&this.input.addClass(this.toThemeProperty("jqx-rc-all"));b=parseInt(b)/2-parseInt(c)/2;this.rtl&&(this.dropdownlistArrow.css("left","0px"),this.dropdownlistContent.css("left",this.dropdownlistArrow.width()),e.jqx.browser.msie&&8>=e.jqx.browser.version&&this.dropdownlistContent.css("left",1+this.dropdownlistArrow.width()));this.multiSelect&&(this.input.css("float","left"),this.dropdownlistWrapper.parent().css("height","auto"),this.dropdownlistContent.css("height","auto"),this.dropdownlistWrapper.css("height","auto"),this.dropdownlistContent.css("position","relative"),this.dropdownlistContent.css("cursor","text"),this.host.css("height","auto"),this.host.css("min-height",this.height),this.dropdownlistContent.css("min-height",this.height),b=parseInt(this.host.height()),this.dropdownlistArrow.height(b),b=parseInt(this.host.css("min-height")),b=parseInt(b)/2-parseInt(c)/2,0<b&&this.input.css("margin-top",b))},destroy:function(){this.source&&this.source.unbindBindingUpdate&&(this.source.unbindBindingUpdate(this.element.id),this.source.unbindBindingUpdate(this.listBoxContainer[0].id),this.source.unbindDownloadComplete(this.element.id),this.source.unbindDownloadComplete(this.listBoxContainer[0].id));e.jqx.utilities.resize(this.host,null,!0);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.listBoxContainer,"bindingComplete");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandlers();this.removeHandler(this.input,"keyup.textchange");this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox);this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id);this.cinput.remove();delete this.cinput;this.dropdownlistArrow.remove();delete this.dropdownlistArrow;this.dropdownlistArrowIcon.remove();delete this.dropdownlistArrowIcon;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.dropdownlistContent;delete this.comboStructure;this.container.remove();delete this.listBox;delete this.container;var a=e.data(this.element,"jqxComboBox");a&&delete a.instance;this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b;args.owner=this;c=new e.Event(c);c.owner=this;if(2==a||3==a||4==a||5==a)c.args=b;return this.host.trigger(c)},propertyChangedHandler:function(a,b,c,f){if(void 0!=a.isInitialized&&0!=a.isInitialized){"itemHeight"==b&&a.listBoxContainer.jqxListBox({itemHeight:f});"renderSelectedItem"==b&&a.renderSelection("mouse");"renderer"==b&&a.listBoxContainer.jqxListBox({renderer:f});"enableSelection"==b&&a.listBoxContainer.jqxListBox({enableSelection:f});"enableHover"==b&&a.listBoxContainer.jqxListBox({enableHover:f});"touchMode"===b&&(a.listBoxContainer.jqxListBox({touchMode:f}),a.touch=e.jqx.mobile.isTouchDevice(),!0===a.touchMode&&(a.touch=!0),a._updateHandlers());"multiSelect"==b&&(f?a.doMultiSelect(!1):(a.doMultiSelect(!1),a.dropdownlistWrapper.parent().css("height","100%"),a.dropdownlistContent.css("height","100"),a.dropdownlistWrapper.css("height","100"),a.dropdownlistContent.css("position","relative"),a.host.css("min-height",null),a._setSize(),a._arrange()));"showArrow"==b&&(a._arrange(),a.multiSelect&&a.doMultiSelect(!1));"placeHolder"==b&&a.input.attr("placeholder",a.placeHolder);"popupZIndex"==b&&a.listBoxContainer.css({zIndex:a.popupZIndex});"promptText"==b&&(a.placeHolder=f);"autoOpen"==b&&a._updateHandlers();"renderer"==b&&(a.listBox.renderer=a.renderer);"itemHeight"==b&&(a.listBox.itemHeight=f);"source"==b&&(a.input.val(""),a.listBoxContainer.jqxListBox({source:a.source}),a.renderSelection("mouse"),null==a.source&&a.clearSelection(),a.multiSelect&&(a.selectedItems=[],a._selectedItems=[],a.doMultiSelect(!1)));"rtl"==b&&(f?(a.dropdownlistArrow.css("float","left"),a.dropdownlistContent.css("float","right")):(a.dropdownlistArrow.css("float","right"),a.dropdownlistContent.css("float","left")),a.listBoxContainer.jqxListBox({rtl:a.rtl}));if("displayMember"==b||"valueMember"==b)a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember}),a.renderSelection("mouse");"autoDropDownHeight"==b&&(a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight}),a.autoDropDownHeight?a.container.height(a.listBoxContainer.height()+25):(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25)),a.listBox._arrange(),a.listBox._updatescrollbars());"dropDownHeight"!=b||a.autoDropDownHeight||(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25));if("dropDownWidth"==b||"scrollBarSize"==b){var d=a.width;"auto"!=a.dropDownWidth&&(d=a.dropDownWidth);a.listBoxContainer.jqxListBox({width:d,scrollBarSize:a.scrollBarSize});a.container.width(parseInt(d)+25)}"autoComplete"==b&&a._resetautocomplete();"checkboxes"==b&&(a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes}),a.checkboxes?(a.input.attr("readonly",!0),e.jqx.aria(a,"aria-readonly",!0)):e.jqx.aria(a,"aria-readonly",!1));"theme"==b&&null!=f&&(a.listBoxContainer.jqxListBox({theme:f}),a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup")),e.jqx.browser.msie&&a.listBoxContainer.addClass(a.toThemeProperty("jqx-noshadow")),e.jqx.utilities.setTheme(c,f,a.host));"rtl"==b&&(a.render(),a.refresh());if("width"==b||"height"==b)a._setSize(),"width"==b&&"auto"==a.dropDownWidth&&(d=a.host.width(),a.listBoxContainer.jqxListBox({width:d}),a.container.width(parseInt(d)+25)),a._arrange();"selectedIndex"==b&&(a.listBox.selectIndex(f),a.renderSelection("mouse"))}}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxDropDownList","",{});e.extend(e.jqx._jqxDropDownList.prototype,{defineInstance:function(){var a={disabled:!1,width:null,height:null,items:[],selectedIndex:-1,source:null,scrollBarSize:15,arrowSize:19,enableHover:!0,enableSelection:!0,visualItems:[],groups:[],equalItemsWidth:!0,itemHeight:-1,visibleItems:[],emptyGroupText:"Group",checkboxes:!1,openDelay:250,closeDelay:300,animationType:"default",autoOpen:!1,dropDownWidth:"auto",dropDownHeight:"200px",autoDropDownHeight:!1,keyboardSelection:!0,enableBrowserBoundsDetection:!1,dropDownHorizontalAlignment:"left",displayMember:"",valueMember:"",groupMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:700,renderer:null,placeHolder:"Please Choose:",promptText:"Please Choose:",emptyString:"",rtl:!1,selectionRenderer:null,listBox:null,popupZIndex:9999999999999,renderMode:"default",touchMode:"auto",_checkForHiddenParent:!0,autoBind:!0,focusable:!0,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:"open close select unselect change checkChange bindingComplete".split(" ")};e.extend(!0,this,a);return a},createInstance:function(a){this.render()},render:function(){var a=this;a.width||(a.width=200);a.height||(a.height=25);var b=a.element.nodeName.toLowerCase();if("select"==b||"ul"==b||"ol"==b){a.field=a.element;a.field.className&&(a._className=a.field.className);b={title:a.field.title};b.id=a.field.id.length?a.field.id.replace(/[^\w]/g,"_")+"_jqxDropDownList":e.jqx.utilities.createId()+"_jqxDropDownList";var c=e("\x3cdiv\x3e\x3c/div\x3e",b);a.width||(a.width=e(a.field).width());a.height||(a.height=e(a.field).outerHeight());e(a.field).hide().after(c);var f=a.host.data();a.host=c;a.host.data(f);a.element=c[0];a.element.id=a.field.id;a.field.id=b.id;a._className&&(a.host.addClass(a._className),e(a.field).removeClass(a._className));a.field.tabIndex&&(b=a.field.tabIndex,a.field.tabIndex=-1,a.element.tabIndex=b);b=e.jqx.parseSourceTag(a.field);a.source=b.items;-1==a.selectedIndex&&(a.selectedIndex=b.index)}a.element.innerHTML="";a.isanimating=!1;a.id=a.element.id||e.jqx.utilities.createId();a.host.attr("role","combobox");e.jqx.aria(a,"aria-autocomplete","both");e.jqx.aria(a,"aria-readonly",!1);if(null==e.jqx._jqxListBox||void 0==e.jqx._jqxListBox)throw Error("jqxDropDownList: Missing reference to jqxlistbox.js.");a.host.attr("tabindex")?(a.host.attr("tabindex",a.host.attr("tabindex")),a.host.removeAttr("tabindex")):a.host.attr("tabindex",0);a.touch=e.jqx.mobile.isTouchDevice();a.comboStructure="\x3cdiv style\x3d'background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'\x3e\x3cdiv id\x3d'dropdownlistWrapper' style\x3d'overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'\x3e\x3cdiv id\x3d'dropdownlistContent' unselectable\x3d'on' style\x3d'outline: none; background-color: transparent; border: none; float: left; position: relative;'\x3e\x3c/div\x3e\x3cdiv id\x3d'dropdownlistArrow' unselectable\x3d'on' style\x3d'background-color: transparent; border: none; float: right; position: relative;'\x3e\x3cdiv unselectable\x3d'on'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";a.element.innerHTML="\x3cdiv style\x3d'background-color: transparent; -webkit-appearance: none; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; border: 0px; position: relative;'\x3e\x3cdiv id\x3d'dropdownlistWrapper' style\x3d'overflow: hidden; outline: none; background-color: transparent; border: none; float: left; width:100%; height: 100%; position: relative;'\x3e\x3cdiv id\x3d'dropdownlistContent' unselectable\x3d'on' style\x3d'outline: none; background-color: transparent; border: none; float: left; position: relative;'\x3e\x3c/div\x3e\x3cdiv id\x3d'dropdownlistArrow' unselectable\x3d'on' style\x3d'background-color: transparent; border: none; float: right; position: relative;'\x3e\x3cdiv unselectable\x3d'on'\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";a.dropdownlistWrapper=e(a.element.firstChild.firstChild);a.dropdownlistArrow=e(a.dropdownlistWrapper[0].firstChild.nextSibling);a.arrow=e(a.dropdownlistArrow[0].firstChild);a.dropdownlistContent=e(a.dropdownlistWrapper[0].firstChild);a.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content jqx-disableselect"));a.rtl&&a.dropdownlistContent.addClass(a.toThemeProperty("jqx-rtl jqx-dropdownlist-content-rtl"));a.addHandler(a.dropdownlistWrapper,"selectstart",function(){return!1});a.dropdownlistWrapper[0].id="dropdownlistWrapper"+a.element.id;a.dropdownlistArrow[0].id="dropdownlistArrow"+a.element.id;a.dropdownlistContent[0].id="dropdownlistContent"+a.element.id;a._addInput();"Please Choose:"!=a.promptText&&(a.placeHolder=a.promptText);b=a.toThemeProperty("jqx-widget")+" "+a.toThemeProperty("jqx-dropdownlist-state-normal")+" "+a.toThemeProperty("jqx-rc-all")+" "+a.toThemeProperty("jqx-fill-state-normal");a.element.className+=" "+b;a._firstDiv=e(a.element.firstChild);try{var d="listBox"+a.id,g=e(e.find("#"+d));0<g.length&&g.remove();e.jqx.aria(a,"aria-owns",d);e.jqx.aria(a,"aria-haspopup",!0);var h=e("\x3cdiv style\x3d'overflow: hidden; background-color: transparent; border: none; position: absolute;' id\x3d'listBox"+a.id+"'\x3e\x3cdiv id\x3d'innerListBox"+a.id+"'\x3e\x3c/div\x3e\x3c/div\x3e");h.hide();h.appendTo(document.body);a.container=h;a.listBoxContainer=e(e.find("#innerListBox"+a.id));var l=a.width;"auto"!=a.dropDownWidth&&(l=a.dropDownWidth);null==l&&(l=a.host.width(),0==l&&(l=a.dropDownWidth));null==a.dropDownHeight&&(a.dropDownHeight=200);a.container.width(parseInt(l)+25);a.container.height(parseInt(a.dropDownHeight)+25);a.addHandler(a.listBoxContainer,"bindingComplete",function(b){a.listBox||(a.listBox=e.data(a.listBoxContainer[0],"jqxListBox").instance);a._raiseEvent("6")});a.listBoxContainer.jqxListBox({filterHeight:a.filterHeight,filterPlaceHolder:a.filterPlaceHolder,filterDelay:a.filterDelay,filterable:a.filterable,allowDrop:!1,allowDrag:!1,autoBind:a.autoBind,_checkForHiddenParent:!1,focusable:a.focusable,touchMode:a.touchMode,checkboxes:a.checkboxes,rtl:a.rtl,_renderOnDemand:!0,emptyString:a.emptyString,itemHeight:a.itemHeight,width:l,searchMode:a.searchMode,incrementalSearch:a.incrementalSearch,incrementalSearchDelay:a.incrementalSearchDelay,groupMember:a.groupMember,searchMember:a.searchMember,displayMember:a.displayMember,valueMember:a.valueMember,height:a.dropDownHeight,autoHeight:a.autoDropDownHeight,scrollBarSize:a.scrollBarSize,selectedIndex:a.selectedIndex,source:a.source,theme:a.theme,rendered:function(){a.selectedIndex!=a.listBoxContainer.jqxListBox("selectedIndex")&&(a.listBox=e.data(a.listBoxContainer[0],"jqxListBox").instance,a.listBoxContainer.jqxListBox({selectedIndex:a.selectedIndex}));a.renderSelection("mouse")},renderer:a.renderer});a.listBoxContainer.css({position:"absolute",zIndex:a.popupZIndex,top:0,left:0});a.listBox=e.data(a.listBoxContainer[0],"jqxListBox").instance;a.listBox.enableSelection=a.enableSelection;a.listBox.enableHover=a.enableHover;a.listBox.equalItemsWidth=a.equalItemsWidth;a.listBox.selectIndex(a.selectedIndex);a.listBox._arrange();a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup"));e.jqx.browser.msie&&a.listBoxContainer.addClass(a.toThemeProperty("jqx-noshadow"));a.addHandler(a.listBoxContainer,"unselect",function(b){a._raiseEvent("3",{index:b.args.index,type:b.args.type,item:b.args.item})});a.addHandler(a.listBoxContainer,"change",function(b){b.args&&("keyboard"!=b.args.type?a._raiseEvent("4",{index:b.args.index,type:b.args.type,item:b.args.item}):"keyboard"==b.args.type&&(a.isOpened()||a._raiseEvent("4",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)})))});"none"==a.animationType?a.container.css("display","none"):a.container.hide()}catch(k){console&&console.log(k)}a.propertyChangeMap.disabled=function(b,c,d,f){f?(b.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled"))):(b.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),b.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),b.dropdownlistContent.removeClass(a.toThemeProperty("jqx-dropdownlist-content-disabled")));e.jqx.aria(b,"aria-disabled",b.disabled)};a.disabled&&(a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-disabled")),a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.dropdownlistContent.addClass(a.toThemeProperty("jqx-dropdownlist-content-disabled")));a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down"));a.arrow.addClass(a.toThemeProperty("jqx-icon"));"simple"===a.renderMode&&(a.arrow.remove(),a.host.removeClass(a.toThemeProperty("jqx-fill-state-normal")),a.host.removeClass(a.toThemeProperty("jqx-rc-all")));a._updateHandlers();a._setSize();a._arrange();a.listBox&&a.renderSelection();e.jqx.browser.msie&&8>e.jqx.browser.version&&0<a.host.parents(".jqx-window").length&&(d=a.host.parents(".jqx-window").css("z-index"),h.css("z-index",d+10),a.listBoxContainer.css("z-index",d+10))},resize:function(a,b){this.width=a;this.height=b;this._setSize();this._arrange()},val:function(a){if(!this.dropdownlistContent)return"";var b;if(b=this.input){a:{for(var c in a)if(a.hasOwnProperty(c)){b=!1;break a}b="number"==typeof a||"date"==typeof a||"boolean"==typeof a||"string"==typeof a?!1:!0}b=b||0==arguments.length}if(b)return this.input.val();b=this.getItemByValue(a);null!=b&&this.selectItem(b);if(this.input)return this.input.val()},focus:function(){try{var a=this,b=function(){a.host.focus();a._firstDiv&&a._firstDiv.focus()};b();setTimeout(function(){b()},10)}catch(c){}},_addInput:function(){var a=this.host.attr("name");this.input=e("\x3cinput type\x3d'hidden'/\x3e");this.host.append(this.input);a&&this.input.attr("name",a)},getItems:function(){return this.listBox?this.listBox.items:[]},getVisibleItems:function(){return this.listBox.getVisibleItems()},_setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width);null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);var a=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(a=!0,this.host.width(this.width));null!=this.height&&-1!=this.height.toString().indexOf("%")&&(a=!0,this.host.height(this.height));var b=this;a&&(a=this.host.width(),"auto"!=this.dropDownWidth&&(a=this.dropDownWidth),this.listBoxContainer.jqxListBox({width:a}),this.container.width(parseInt(a)+25));e.jqx.utilities.resize(this.host,function(){b._arrange();if("auto"==b.dropDownWidth){var a=b.host.width();b.listBoxContainer.jqxListBox({width:a});b.container.width(parseInt(a)+25)}},!1,this._checkForHiddenParent)},isOpened:function(){var a=e.data(document.body,"openedJQXListBox"+this.id);return null!=a&&a==this.listBoxContainer?!0:!1},_updateHandlers:function(){var a=this;this.removeHandlers();this.touch||(this.addHandler(this.host,"mouseenter",function(){!a.disabled&&a.enableHover&&"simple"!==a.renderMode&&(a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-hover")),a.arrow.addClass(a.toThemeProperty("jqx-icon-arrow-down-hover")),a.host.addClass(a.toThemeProperty("jqx-fill-state-hover")))}),this.addHandler(this.host,"mouseleave",function(){!a.disabled&&a.enableHover&&"simple"!==a.renderMode&&(a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-hover")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a.arrow.removeClass(a.toThemeProperty("jqx-icon-arrow-down-hover")))}));this.host.parents()&&this.addHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id,function(b){a.isOpened()&&a.close()});var b="mousedown";this.touch&&(b=e.jqx.mobile.getTouchEventName("touchstart"));this.addHandler(this.dropdownlistWrapper,b,function(b){if(!a.disabled){var e="block"==a.container.css("display");if(!a.isanimating){if(e)return a.hideListBox(),!1;a.showListBox();a.focusable?a.focus():b.preventDefault&&b.preventDefault()}}});a.autoOpen&&(this.addHandler(this.host,"mouseenter",function(){!a.isOpened()&&a.autoOpen&&(a.open(),a.host.focus())}),e(document).on("mousemove."+a.id,function(b){if(a.isOpened()&&a.autoOpen){var e=a.host.coord(),d=e.top,e=e.left,g=a.container.coord(),h=g.left,g=g.top;canClose=!0;b.pageY>=d&&b.pageY<=d+a.host.height()&&b.pageX>=e&&b.pageX<e+a.host.width()&&(canClose=!1);b.pageY>=g&&b.pageY<=g+a.container.height()&&b.pageX>=h&&b.pageX<h+a.container.width()&&(canClose=!1);canClose&&a.close()}}));this.touch?this.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id,a.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id}):this.addHandler(e(document),"mousedown."+this.id,a.closeOpenedListBox,{me:this,listbox:this.listBox,id:this.id});this.addHandler(this.host,"keydown",function(b){var e="block"==a.container.css("display");if("none"==a.host.css("display"))return!0;if(("13"==b.keyCode||"9"==b.keyCode)&&!a.isanimating)return e&&(a.renderSelection(),"13"==b.keyCode&&a.focusable&&a._firstDiv.focus(),a.hideListBox(),a.keyboardSelection||a._raiseEvent("2",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)}),"13"==b.keyCode&&a._raiseEvent("4",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)})),e&&"9"!=b.keyCode?!1:!0;if(115==b.keyCode)return a.isanimating||(a.isOpened()?a.isOpened()&&a.hideListBox():a.showListBox()),!1;if(b.altKey&&"block"==a.host.css("display"))if(38==b.keyCode){if(a.isOpened())return a.hideListBox(),!0}else if(40==b.keyCode&&!a.isOpened())return a.showListBox(),!0;if("27"==b.keyCode&&!a.ishiding)return a.isOpened()&&(a.hideListBox(),void 0!=a.tempSelectedIndex&&a.selectIndex(a.tempSelectedIndex)),!0;if(!a.disabled)return a._kbnavigated=a.listBox._handleKeyDown(b),a._kbnavigated});this.addHandler(this.listBoxContainer,"checkChange",function(b){a.renderSelection();a._updateInputSelection();a._raiseEvent(5,{label:b.args.label,value:b.args.value,checked:b.args.checked,item:b.args.item})});this.addHandler(this.listBoxContainer,"select",function(b){!a.disabled&&b.args&&("keyboard"!=b.args.type||a.isOpened()||a.renderSelection(),"keyboard"!=b.args.type||a.keyboardSelection)&&(a.renderSelection(),a._raiseEvent("2",{index:b.args.index,type:b.args.type,item:b.args.item,originalEvent:b.args.originalEvent}),"mouse"!=b.args.type||a.checkboxes||(a.hideListBox(),a._firstDiv&&a.focusable&&a._firstDiv.focus()))});this.listBox&&this.listBox.content&&this.addHandler(this.listBox.content,"click",function(b){if(!a.disabled){if(a.listBox.itemswrapper&&b.target===a.listBox.itemswrapper[0])return!0;a.renderSelection("mouse");a.touch||a.ishiding||a.checkboxes||(a.hideListBox(),a._firstDiv&&a.focusable&&a._firstDiv.focus());a.keyboardSelection||(!1===a._kbnavigated&&(a.tempSelectedIndex!=a.selectedIndex&&a._raiseEvent("4",{index:a.selectedIndex,type:"mouse",item:a.getItem(a.selectedIndex)}),a._kbnavigated=!0),void 0==a._oldSelectedInd&&(a._oldSelectedIndx=a.selectedIndex),a.selectedIndex!=a._oldSelectedIndx&&(a._raiseEvent("2",{index:a.selectedIndex,type:"keyboard",item:a.getItem(a.selectedIndex)}),a._oldSelectedIndx=a.selectedIndex))}});this.addHandler(this.host,"focus",function(b){"simple"!==a.renderMode&&(a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")))});this.addHandler(this.host,"blur",function(){"simple"!==a.renderMode&&(a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")))});this.addHandler(this._firstDiv,"focus",function(b){"simple"!==a.renderMode&&(a.host.addClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")))});this.addHandler(this._firstDiv,"blur",function(){"simple"!==a.renderMode&&(a.host.removeClass(a.toThemeProperty("jqx-dropdownlist-state-focus")),a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")))})},removeHandlers:function(){var a="mousedown";this.touch&&(a=e.jqx.mobile.getTouchEventName("touchstart"));this.removeHandler(this.dropdownlistWrapper,a);this.listBox&&this.listBox.content&&this.removeHandler(this.listBox.content,"click");this.removeHandler(this.host,"loadContent");this.removeHandler(this.listBoxContainer,"checkChange");this.removeHandler(this.host,"keydown");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this._firstDiv,"focus");this.removeHandler(this._firstDiv,"blur");this.removeHandler(this.host,"mouseenter");this.removeHandler(this.host,"mouseleave");this.removeHandler(e(document),"mousemove."+this.id)},getItem:function(a){return this.listBox.getItem(a)},getItemByValue:function(a){return this.listBox.getItemByValue(a)},selectItem:function(a){void 0!=this.listBox&&(this.listBox.selectItem(a),this.selectedIndex=this.listBox.selectedIndex,this.renderSelection("mouse"))},unselectItem:function(a){void 0!=this.listBox&&(this.listBox.unselectItem(a),this.renderSelection("mouse"))},checkItem:function(a){void 0!=this.listBox&&this.listBox.checkItem(a)},uncheckItem:function(a){void 0!=this.listBox&&this.listBox.uncheckItem(a)},indeterminateItem:function(a){void 0!=this.listBox&&this.listBox.indeterminateItem(a)},renderSelection:function(){if(null!=this.listBox){this.height&&-1!=this.height.toString().indexOf("%")&&this._arrange();var a=this.listBox.visibleItems[this.listBox.selectedIndex];if(this.filterable&&-1==this.listBox.selectedIndex)for(var b in this.listBox.selectedValues){var c=this.listBox.getItemByValue(this.listBox.selectedValues[b]);c&&(a=c)}this.checkboxes&&(b=this.getCheckedItems(),a=null!=b&&0<b.length?b[0]:null);if(null==a){b=e('\x3cspan unselectable\x3d"on" style\x3d"color: inherit; border: none; background-color: transparent;"\x3e\x3c/span\x3e');b.appendTo(e(document.body));b.addClass(this.toThemeProperty("jqx-widget"));b.addClass(this.toThemeProperty("jqx-listitem-state-normal"));b.addClass(this.toThemeProperty("jqx-item"));e.jqx.utilities.html(b,this.placeHolder);var f=this.dropdownlistContent.css("padding-top"),c=this.dropdownlistContent.css("padding-bottom");b.css("padding-top",f);b.css("padding-bottom",c);f=b.outerHeight();b.remove();b.removeClass();e.jqx.utilities.html(this.dropdownlistContent,b);c=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(c=parseInt(this.height));c=parseInt((parseInt(c)-parseInt(f))/2);0<c&&(this.dropdownlistContent.css("margin-top",c+"px"),this.dropdownlistContent.css("margin-bottom",c+"px"));this.selectionRenderer&&(e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(b,-1,"","")),this.dropdownlistContent.css("margin-top","0px"),this.dropdownlistContent.css("margin-bottom","0px"));this._updateInputSelection();this.selectedIndex=this.listBox.selectedIndex;"auto"===this.width&&this._arrange();this.focusable&&this.isOpened()&&this.focus()}else{this.selectedIndex=this.listBox.selectedIndex;b=e(document.createElement("span"));b[0].setAttribute("unselectable","on");try{b[0].style.color="inherit"}catch(l){}b[0].style.borderWidth="0px";b[0].style.backgroundColor="transparent";b.appendTo(e(document.body));b.addClass(this.toThemeProperty("jqx-widget jqx-listitem-state-normal jqx-item"));var d=!1;try{if(void 0!=a.html&&null!=a.html&&0<a.html.toString().length)e.jqx.utilities.html(b,a.html);else if(void 0!=a.label&&null!=a.label&&0<a.label.toString().length)e.jqx.utilities.html(b,a.label);else if(null===a.label||""===a.label)d=!0,e.jqx.utilities.html(b,"");else if(void 0!=a.value&&null!=a.value&&0<a.value.toString().length)e.jqx.utilities.html(b,a.value);else if(void 0!=a.title&&null!=a.title&&0<a.title.toString().length)e.jqx.utilities.html(b,a.title);else if(""==a.label||null==a.label)d=!0,e.jqx.utilities.html(b,"")}catch(l){}f=this.dropdownlistContent[0].style.paddingTop;c=this.dropdownlistContent[0].style.paddingBottom;""===f&&(f="0px");""===c&&(c="0px");b[0].style.paddingTop=f;b[0].style.paddingBottom=c;f=b.outerHeight();0===f&&(f=16);""!=a.label&&null!=a.label||!d||e.jqx.utilities.html(b,"");d=this.width&&0>=this.width.toString().indexOf("%");b.remove();b.removeClass();if(this.selectionRenderer)e.jqx.utilities.html(this.dropdownlistContent,this.selectionRenderer(b,a.index,a.label,a.value));else if(this.checkboxes){for(var a=this.getCheckedItems(),g="",h=0;h<a.length;h++)g=h==a.length-1?g+a[h].label:g+(a[h].label+",");b.text(g);d&&b.css("max-width",this.host.width()-30);b.css("overflow","hidden");b.css("display","block");this.rtl||d&&b.css("width",this.host.width()-30);b.css("text-overflow","ellipsis");b.css("padding-bottom",1+parseInt(c));this.dropdownlistContent.html(b)}else a=this.host.width()-this.arrowSize-3,this.width&&"auto"!==this.width&&(d&&(this.rtl||b.css("max-width",a+"px")),b[0].style.overflow="hidden",b[0].style.display="block",b[0].style.paddingTop=1+parseInt(c)+"px",!this.rtl&&d&&(b[0].style.width=a+"px"),b[0].style.textOverflow="ellipsis"),this.dropdownlistContent[0].innerHTML=b[0].innerHTML;this.focusable&&this.isOpened()&&this.focus();c=this.host.height();null!=this.height&&void 0!=this.height&&-1===this.height.toString().indexOf("%")&&(c=parseInt(this.height));c=parseInt((parseInt(c)-parseInt(f))/2);0<c&&(this.dropdownlistContent[0].style.marginTop=c+"px",this.dropdownlistContent[0].style.marginBottom=c+"px");this.selectionRenderer&&(this.dropdownlistContent[0].style.marginTop="0px",this.dropdownlistContent[0].style.marginBottom="0px");this.dropdownlistContent&&this.input&&this._updateInputSelection();this.listBox&&this.listBox._activeElement&&e.jqx.aria(this,"aria-activedescendant",this.listBox._activeElement.id);"auto"===this.width&&this._arrange()}}},_updateInputSelection:function(){if(this.input){var a=[];if(-1==this.selectedIndex)this.input.val("");else{var b=this.getSelectedItem();null!=b?(this.input.val(b.value),a.push(b.value)):this.input.val(this.dropdownlistContent.text())}if(this.checkboxes){var b=this.getCheckedItems(),c="";if(null!=b)for(var f=0;f<b.length;f++){var d=b[f].value;void 0!=d&&(c=f==b.length-1?c+d:c+(d+","),a.push(d))}this.input.val(c)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(b,c){e(this).removeAttr("selected");(this.selected=0<=a.indexOf(this.value))&&e(this).attr("selected",!0)}):e.each(this.items,function(b,c){e(this.originalItem.originalItem).removeAttr("data-selected");(this.selected=0<=a.indexOf(this.value))&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},setContent:function(a){e.jqx.utilities.html(this.dropdownlistContent,a);this._updateInputSelection()},dataBind:function(){this.listBoxContainer.jqxListBox({source:this.source});this.renderSelection("mouse");null==this.source&&this.clearSelection()},clear:function(){this.listBoxContainer.jqxListBox({source:null});this.clearSelection()},clearSelection:function(a){this.selectedIndex=-1;this._updateInputSelection();this.listBox.clearSelection();this.renderSelection();this.selectionRenderer||e.jqx.utilities.html(this.dropdownlistContent,this.placeHolder)},unselectIndex:function(a,b){isNaN(a)||(this.listBox.unselectIndex(a,b),this.renderSelection())},selectIndex:function(a,b,c,e){this.listBox.selectIndex(a,b,c,e,"api")},getSelectedIndex:function(){return this.selectedIndex},getSelectedItem:function(){return this.listBox.getVisibleItem(this.selectedIndex)},getCheckedItems:function(){return this.listBox.getCheckedItems()},checkIndex:function(a){this.listBox.checkIndex(a)},uncheckIndex:function(a){this.listBox.uncheckIndex(a)},indeterminateIndex:function(a){this.listBox.indeterminateIndex(a)},checkAll:function(){this.listBox.checkAll();this.renderSelection("mouse")},uncheckAll:function(){this.listBox.uncheckAll();this.renderSelection("mouse")},addItem:function(a){return this.listBox.addItem(a)},insertAt:function(a,b){return null==a?!1:this.listBox.insertAt(a,b)},removeAt:function(a){a=this.listBox.removeAt(a);this.renderSelection("mouse");return a},removeItem:function(a){a=this.listBox.removeItem(a);this.renderSelection("mouse");return a},updateItem:function(a,b){var c=this.listBox.updateItem(a,b);this.renderSelection("mouse");return c},updateAt:function(a,b){var c=this.listBox.updateAt(a,b);this.renderSelection("mouse");return c},ensureVisible:function(a){return this.listBox.ensureVisible(a)},disableAt:function(a){return this.listBox.disableAt(a)},enableAt:function(a){return this.listBox.enableAt(a)},disableItem:function(a){return this.listBox.disableItem(a)},enableItem:function(a){return this.listBox.enableItem(a)},_findPos:function(a){for(;a&&("hidden"==a.type||1!=a.nodeType||e.expr.filters.hidden(a));)a=a.nextSibling;a=e(a).coord(!0);return[a.left,a.top]},testOffset:function(a,b,c){var f=a.outerWidth();a=a.outerHeight();var d=e(window).width()+e(window).scrollLeft(),g=e(window).height()+e(window).scrollTop();b.left+f>d&&f>this.host.width()&&(d=this.host.coord().left,f-=this.host.width(),b.left=d-f+2);0>b.left&&(b.left=parseInt(this.host.coord().left)+"px");b.top-=Math.min(b.top,b.top+a>g&&g>a?Math.abs(a+c+22):0);return b},open:function(){this.showListBox()},close:function(){this.hideListBox()},_getBodyOffset:function(){var a=0,b=0;"0px"!=e("body").css("border-top-width")&&(a=parseInt(e("body").css("border-top-width")),isNaN(a)&&(a=0));"0px"!=e("body").css("border-left-width")&&(b=parseInt(e("body").css("border-left-width")),isNaN(b)&&(b=0));return{left:b,top:a}},showListBox:function(){e.jqx.aria(this,"aria-expanded",!0);this.listBox._renderOnDemand&&this.listBoxContainer.jqxListBox({_renderOnDemand:!1});if("auto"==this.dropDownWidth&&null!=this.width&&this.width.indexOf&&(-1!=this.width.indexOf("%")||-1!=this.width.indexOf("auto"))&&this.listBox.host.width()!=this.host.width()){var a=this.host.width();this.listBoxContainer.jqxListBox({width:a});this.container.width(parseInt(a)+25)}var b=this,c=this.listBoxContainer,f=this.listBox;e(window).scrollTop();e(window).scrollLeft();var a=parseInt(this._findPos(this.host[0])[1])+parseInt(this.host.outerHeight())-1+"px",d,g=parseInt(Math.round(this.host.coord(!0).left));d=g+"px";var h=e.jqx.mobile.isSafariMobileBrowser()||e.jqx.mobile.isWindowsPhone();if(null!=this.listBox){this.ishiding=!1;this.keyboardSelection||(this.listBox.selectIndex(this.selectedIndex),this.listBox.ensureVisible(this.selectedIndex));this.tempSelectedIndex=this.selectedIndex;this.autoDropDownHeight&&this.container.height(this.listBoxContainer.height()+25);null!=h&&h&&(d=e.jqx.mobile.getLeftPos(this.element),a=e.jqx.mobile.getTopPos(this.element)+parseInt(this.host.outerHeight()),"0px"!=e("body").css("border-top-width")&&(a=parseInt(a)-this._getBodyOffset().top+"px"),"0px"!=e("body").css("border-left-width")&&(d=parseInt(d)-this._getBodyOffset().left+"px"));c.stop();"simple"!==this.renderMode&&(this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-selected")),this.host.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.arrow.addClass(this.toThemeProperty("jqx-icon-arrow-down-selected")));this.container.css("left",d);this.container.css("top",a);f._arrange();d=!1;if("right"==this.dropDownHorizontalAlignment||this.rtl){var h=this.container.outerWidth(),l=Math.abs(h-this.host.width());h>this.host.width()?this.container.css("left",25+parseInt(Math.round(g))-l+"px"):this.container.css("left",25+parseInt(Math.round(g))+l+"px")}this.enableBrowserBoundsDetection&&(a=this.testOffset(c,{left:parseInt(this.container.css("left")),top:parseInt(a)},parseInt(this.host.outerHeight())),parseInt(this.container.css("top"))!=a.top?(d=!0,c.css("top",23),c.addClass(this.toThemeProperty("jqx-popup-up"))):c.css("top",0),this.container.css("top",a.top),parseInt(this.container.css("left"))!=a.left&&this.container.css("left",a.left));"none"==this.animationType?(this.container.css("display","block"),e.data(document.body,"openedJQXListBoxParent",b),e.data(document.body,"openedJQXListBox"+this.id,c),c.css("margin-top",0),c.css("opacity",1),f._renderItems(),b._raiseEvent("0",f)):(this.container.css("display","block"),b.isanimating=!0,"fade"==this.animationType?(c.css("margin-top",0),c.css("opacity",0),c.animate({opacity:1},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",b);e.data(document.body,"openedJQXListBox"+b.id,c);b.ishiding=!1;b.isanimating=!1;f._renderItems();b._raiseEvent("0",f)})):(c.css("opacity",1),a=c.outerHeight(),d?c.css("margin-top",a):c.css("margin-top",-a),c.animate({"margin-top":0},this.openDelay,function(){e.data(document.body,"openedJQXListBoxParent",b);e.data(document.body,"openedJQXListBox"+b.id,c);b.ishiding=!1;b.isanimating=!1;f._renderItems();b._raiseEvent("0",f)})));d?(this.host.addClass(this.toThemeProperty("jqx-rc-t-expanded")),c.addClass(this.toThemeProperty("jqx-rc-b-expanded"))):(this.host.addClass(this.toThemeProperty("jqx-rc-b-expanded")),c.addClass(this.toThemeProperty("jqx-rc-t-expanded")));"simple"!==this.renderMode&&(c.addClass(this.toThemeProperty("jqx-fill-state-focus")),this.host.addClass(this.toThemeProperty("jqx-dropdownlist-state-focus")),this.host.addClass(this.toThemeProperty("jqx-fill-state-focus")))}},hideListBox:function(){e.jqx.aria(this,"aria-expanded",!1);var a=this.listBoxContainer,b=this.listBox,c=this.container,f=this;e.data(document.body,"openedJQXListBox"+this.id,null);if("none"==this.animationType)this.container.css("display","none");else if(!f.ishiding){a.stop();var d=a.outerHeight();a.css("margin-top",0);f.isanimating=!0;var g=-d;parseInt(this.container.coord().top)<parseInt(this.host.coord().top)&&(g=d);"fade"==this.animationType?(a.css({opacity:1}),a.animate({opacity:0},this.closeDelay,function(){c.css("display","none");f.isanimating=!1;f.ishiding=!1})):a.animate({"margin-top":g},this.closeDelay,function(){c.css("display","none");f.isanimating=!1;f.ishiding=!1})}this.ishiding=!0;this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-selected"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));this.arrow.removeClass(this.toThemeProperty("jqx-icon-arrow-down-selected"));this.host.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));a.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));this.host.removeClass(this.toThemeProperty("jqx-rc-t-expanded"));a.removeClass(this.toThemeProperty("jqx-rc-b-expanded"));a.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-dropdownlist-state-focus"));this.host.removeClass(this.toThemeProperty("jqx-fill-state-focus"));this._raiseEvent("1",b)},closeOpenedListBox:function(a){var b=a.data.me,c=e(a.target),f=a.data.listbox;if(null==f||e(a.target).ischildof(a.data.me.host)||!b.isOpened()||e(a.target).ischildof(b.listBoxContainer))return!0;var d=!1;e.each(c.parents(),function(){if("undefined"!=this.className&&this.className.indexOf){if(-1!=this.className.indexOf("jqx-listbox"))return d=!0,!1;if(-1!=this.className.indexOf("jqx-dropdownlist"))return b.element.id==this.id&&(d=!0),!1}});null!=f&&!d&&b.isOpened()&&b.hideListBox();return!0},clearFilter:function(){this.listBox.clearFilter()},loadFromSelect:function(a){this.listBox.loadFromSelect(a)},refresh:function(a){!0!==a&&(this._setSize(),this._arrange(),this.listBox&&this.renderSelection())},_arrange:function(){var a=parseInt(this.host.width()),b=parseInt(this.host.height()),c=this.arrowSize,e=a-c-6;0<e&&"auto"!==this.width?this.dropdownlistContent[0].style.width=e+"px":0>=e&&(this.dropdownlistContent[0].style.width="0px");"auto"===this.width&&(this.dropdownlistContent.css("width","auto"),a=this.dropdownlistContent.width()+c+6,this.host.width(a));this.dropdownlistContent[0].style.height=b+"px";this.dropdownlistContent[0].style.left="0px";this.dropdownlistContent[0].style.top="0px";this.dropdownlistArrow[0].style.width=c+"px";this.width&&0<=this.width.toString().indexOf("%")&&(this.dropdownlistArrow[0].style.width=100*c/a+"%",this.dropdownlistContent[0].style.width=100*e/a+"%");this.dropdownlistArrow[0].style.height=b+"px";this.rtl&&(this.dropdownlistArrow.css("float","left"),this.dropdownlistContent.css("float","right"))},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBoxContainer,"unselect");this.removeHandler(this.listBoxContainer,"change");this.removeHandler(this.dropdownlistWrapper,"selectstart");this.removeHandler(this.dropdownlistWrapper,"mousedown");this.removeHandler(this.host,"keydown");this.removeHandler(this.listBoxContainer,"select");this.removeHandler(this.listBox.content,"click");this.removeHandler(this.listBoxContainer,"bindingComplete");this.host.parents()&&this.removeHandler(this.host.parents(),"scroll.dropdownlist"+this.element.id);this.removeHandlers();this.listBoxContainer.jqxListBox("destroy");this.listBoxContainer.remove();this.host.removeClass();this.removeHandler(e(document),"mousedown."+this.id,this.closeOpenedListBox);this.touch&&this.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+"."+this.id);this.dropdownlistArrow.remove();delete this.dropdownlistArrow;delete this.dropdownlistWrapper;delete this.listBoxContainer;delete this.input;delete this.arrow;delete this.dropdownlistContent;delete this.listBox;delete this._firstDiv;this.container.remove();delete this.container;var a=e.data(this.element,"jqxDropDownList");a&&delete a.instance;this.host.removeData();this.host.remove();delete this.comboStructure;delete this.host;delete this.element},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b;args.owner=this;c=new e.Event(c);c.owner=this;if(2==a||3==a||4==a||5==a)c.args=b;return this.host.trigger(c)},propertyChangedHandler:function(a,b,c,f){if(void 0!=a.isInitialized&&0!=a.isInitialized){"filterable"==b&&a.listBoxContainer.jqxListBox({filterable:f});"filterHeight"==b&&a.listBoxContainer.jqxListBox({filterHeight:f});"filterPlaceHolder"==b&&a.listBoxContainer.jqxListBox({filterPlaceHolder:f});"filterDelay"==b&&a.listBoxContainer.jqxListBox({filterDelay:f});"enableSelection"==b&&a.listBoxContainer.jqxListBox({enableSelection:f});"enableHover"==b&&a.listBoxContainer.jqxListBox({enableHover:f});"autoOpen"==b&&a._updateHandlers();"emptyString"==b&&(a.listBox.emptyString=a.emptyString);"itemHeight"==b&&a.listBoxContainer.jqxListBox({itemHeight:f});"renderer"==b&&a.listBoxContainer.jqxListBox({renderer:f});"rtl"==b&&(f?(a.dropdownlistArrow.css("float","left"),a.dropdownlistContent.css("float","right")):(a.dropdownlistArrow.css("float","right"),a.dropdownlistContent.css("float","left")),a.listBoxContainer.jqxListBox({rtl:a.rtl}));"source"==b&&(a.listBoxContainer.jqxListBox({source:a.source}),a.listBox.selectedIndex=-1,a.listBox.selectIndex(this.selectedIndex),a.renderSelection(),null==f&&a.clear());if("displayMember"==b||"valueMember"==b)a.listBoxContainer.jqxListBox({displayMember:a.displayMember,valueMember:a.valueMember}),a.renderSelection();"placeHolder"==b&&a.renderSelection();"theme"==b&&null!=f&&(a.listBoxContainer.jqxListBox({theme:f}),a.listBoxContainer.addClass(a.toThemeProperty("jqx-popup")),e.jqx.utilities.setTheme(c,f,a.host));"autoDropDownHeight"==b&&(a.listBoxContainer.jqxListBox({autoHeight:a.autoDropDownHeight}),a.autoDropDownHeight?a.container.height(a.listBoxContainer.height()+25):(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25)),a.listBox._arrange(),a.listBox._updatescrollbars());"searchMode"==b&&a.listBoxContainer.jqxListBox({searchMode:a.searchMode});"incrementalSearch"==b&&a.listBoxContainer.jqxListBox({incrementalSearch:a.incrementalSearch});"incrementalSearchDelay"==b&&a.listBoxContainer.jqxListBox({incrementalSearchDelay:a.incrementalSearchDelay});"dropDownHeight"!=b||a.autoDropDownHeight||(a.listBoxContainer.jqxListBox({height:a.dropDownHeight}),a.container.height(parseInt(a.dropDownHeight)+25));if("dropDownWidth"==b||"scrollBarSize"==b){var d=a.width;"auto"!=a.dropDownWidth&&(d=a.dropDownWidth);a.listBoxContainer.jqxListBox({width:d,scrollBarSize:a.scrollBarSize});a.container.width(parseInt(d)+25)}"width"!=b&&"height"!=b||f==c||(this.refresh(),"width"==b&&"auto"==a.dropDownWidth&&(d=a.host.width(),a.listBoxContainer.jqxListBox({width:d}),a.container.width(parseInt(d)+25)));"checkboxes"==b&&a.listBoxContainer.jqxListBox({checkboxes:a.checkboxes});"selectedIndex"==b&&null!=a.listBox&&(a.listBox.selectIndex(parseInt(f)),a.renderSelection())}}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxInput","",{});e.extend(e.jqx._jqxInput.prototype,{defineInstance:function(){var a={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:e("\x3cul\x3e\x3c/ul\x3e"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,value:"",rtl:!1,displayMember:"",valueMember:"",events:["select","open","close","change"],popupZIndex:2E4,items:8,item:'\x3cli\x3e\x3ca href:"#"\x3e\x3c/a\x3e\x3c/li\x3e',minLength:1,maxLength:null};e.extend(!0,this,a);return a},createInstance:function(a){this.render()},render:function(){if("textarea"==this.element.nodeName.toLowerCase())this.element.style.overflow="auto";else if("div"==this.element.nodeName.toLowerCase()){this.baseHost=this.element;var a=this.host.find("input"),b=!1;e.each(a,function(){var c=this.type;if(null==c||"text"==c||"textarea"==c)return a=e(this),b=!0,!1});if(!b)throw Error("jqxInput: Missing Text Input in the Input Group");if(0<a.length){this.baseHost=e(this.element);this.host=a;this.element=a[0];this.baseHost.addClass(this.toThemeProperty("jqx-widget"));this.baseHost.addClass(this.toThemeProperty("jqx-rc-all"));this.baseHost.addClass(this.toThemeProperty("jqx-input-group"));var c=this.baseHost.children(),f=this;e.each(c,function(a){e(this).addClass(f.toThemeProperty("jqx-input-group-addon"));e(this).removeClass(f.toThemeProperty("jqx-rc-all"));0==a&&e(this).addClass(f.toThemeProperty("jqx-rc-l"));a==c.length-1&&e(this).addClass(f.toThemeProperty("jqx-rc-r"));this!=f.element&&e(this).addClass(f.toThemeProperty("jqx-fill-state-normal"))})}}this.addHandlers();this.rtl&&this.host.addClass(this.toThemeProperty("jqx-rtl"));this.host.attr("role","textbox");e.jqx.aria(this,"aria-autocomplete","both");e.jqx.aria(this,"aria-disabled",this.disabled);e.jqx.aria(this,"aria-readonly",!1);e.jqx.aria(this,"aria-multiline",!1);this.source&&this.source.length&&e.jqx.aria(this,"aria-haspopup",!0);""!=this.value&&(this.element.value=this.value);this._oldsource=this.source;this._updateSource()},_updateSource:function(){var a=this,b=function(b){var c=[];return c=e.map(b,function(b){if(void 0==b)return null;if("string"===typeof b||b instanceof String)return{label:b,value:b};if("string"!=typeof b&&0==b instanceof String){var c="",d="";""!=a.displayMember&&void 0!=a.displayMember&&b[a.displayMember]&&(c=b[a.displayMember]);""!=a.valueMember&&void 0!=a.valueMember&&(d=b[a.valueMember]);""==c&&(c=b.label);""==d&&(d=b.value);return{label:c,value:d}}return b})};if(this.source&&this.source._source){this.adapter=this.source;if(null!=this.adapter._source.localdata)this.adapter.unbindBindingUpdate(this.element.id),this.adapter.bindBindingUpdate(this.element.id,function(c){a.source=b(a.adapter.records)});else{var c={};this.adapter._options.data?e.extend(a.adapter._options.data,c):(this.source._source.data&&e.extend(c,this.source._source.data),this.adapter._options.data=c);this.adapter.unbindDownloadComplete(this.element.id);this.adapter.bindDownloadComplete(this.element.id,function(c){a.source=b(a.adapter.records)})}this.source.dataBind()}else e.isFunction(this.source)||(this.source=b(this.source))},_refreshClasses:function(a){a=a?"addClass":"removeClass";this.host[a](this.toThemeProperty("jqx-widget-content"));this.host[a](this.toThemeProperty("jqx-input"));this.host[a](this.toThemeProperty("jqx-widget"));this.$popup[a](this.toThemeProperty("jqx-popup"));if(e.jqx.browser.msie)this.$popup[a](this.toThemeProperty("jqx-noshadow"));this.$popup[a](this.toThemeProperty("jqx-input-popup"));this.$popup[a](this.toThemeProperty("jqx-menu"));this.$popup[a](this.toThemeProperty("jqx-menu-vertical"));this.$popup[a](this.toThemeProperty("jqx-menu-dropdown"));this.$popup[a](this.toThemeProperty("jqx-widget"));this.$popup[a](this.toThemeProperty("jqx-widget-content"));this.roundedCorners&&(this.host[a](this.toThemeProperty("jqx-rc-all")),this.$popup[a](this.toThemeProperty("jqx-rc-all")));if(this.disabled)this.host[a](this.toThemeProperty("jqx-fill-state-disabled"));else this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"))},selectAll:function(){var a=this.host;setTimeout(function(){if("selectionStart"in a[0])a[0].focus(),a[0].setSelectionRange(0,a[0].value.length);else{var b=a[0].createTextRange();b.collapse(!0);b.moveEnd("character",a[0].value.length);b.moveStart("character",0);b.select()}},10)},selectLast:function(){this.selectStart(this.host[0].value.length)},selectFirst:function(){this.selectStart(0)},selectStart:function(a){var b=this.host;setTimeout(function(){if("selectionStart"in b[0])b[0].focus(),b[0].setSelectionRange(a,a);else{var c=b[0].createTextRange();c.collapse(!0);c.moveEnd("character",a);c.moveStart("character",a);c.select()}},10)},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25)}catch(b){}},resize:function(a,b){this.width=a;this.height=b;this.refresh()},refresh:function(){this._refreshClasses(!1);this._refreshClasses(!0);if(this.baseHost){if(this.width&&this.baseHost.width(this.width),this.height){this.baseHost.height(this.height);var a=this,b=0,c=this.baseHost.height()-2;e.jqx.browser.msie&&8>e.jqx.browser.version&&this.baseHost.css("display","inline-block");e.each(this.baseHost.children(),function(){e(this).css("height","100%");e.jqx.browser.msie&&8>e.jqx.browser.version&&e(this).css("height",c+"px");this!==a.element&&(b+=e(this).outerWidth()+2)});this.host.css("width",this.baseHost.width()-b-4+"px");e.jqx.browser.msie&&9>e.jqx.browser.version&&(this.host.css("min-height",c+"px"),this.host.css("line-height",c+"px"))}}else this.width&&this.host.width(this.width),this.height&&this.host.height(this.height);this.host.attr("disabled",this.disabled);this.maxLength&&this.host.attr("maxlength",this.maxLength);this.host.attr("placeholder")||this._refreshPlaceHolder()},_refreshPlaceHolder:function(){if("placeholder"in this.element)this.host.attr("placeHolder",this.placeHolder);else{var a=this;""==this.element.value&&(this.element.value=this.placeHolder,this.host.focus(function(){a.element.value==a.placeHolder&&(a.element.value="")}),this.host.blur(function(){if(""==a.element.value||a.element.value==a.placeHolder)a.element.value=a.placeHolder}))}},destroy:function(){this.removeHandlers();this.baseHost?this.baseHost.remove():this.host.remove();this.$popup&&this.$popup.remove()},propertyChangedHandler:function(a,b,c,f){if("placeHolder"==b)a._refreshPlaceHolder();else if("theme"===b&&e.jqx.utilities.setTheme(c,f,a.host),"opened"==b)f?a.open():a.close();else{"source"==b&&(a._oldsource=f,a._updateSource());if("displayMember"==b||"valueMember"==b)a.source=a._oldsource,a._updateSource();"disabled"==b&&e.jqx.aria(a,"aria-disabled",a.disabled);"value"==b&&(a.element.value=f);a.refresh()}},select:function(a,b){var c=this.$popup.find(".jqx-fill-state-pressed").attr("data-value"),e=this.$popup.find(".jqx-fill-state-pressed").attr("data-name");this.element.value=this.renderer(e,this.element.value);this.selectedItem={label:e,value:c};this.host.attr("data-value",c);this.host.attr("data-label",e);this._raiseEvent("0",{item:{label:e,value:c},label:e,value:c});this._raiseEvent("3",{item:{label:e,value:c},label:e,value:c});return this.close()},val:function(a){if(0==arguments.length||null!=a&&"object"==typeof a&&!a.label&&!a.value)return""!=this.displayMember&&""!=this.valueMember&&this.selectedItem?""===this.element.value?"":this.selectedItem:this.element.value;if(a&&a.label)return this.selectedItem={label:a.label,value:a.value},this.host.attr("data-value",a.value),this.host.attr("data-label",a.label),this.value=a,this.element.value=a.label,this.element.value;this.value=a;this.element.value=a;this.host.attr("data-value",a);this.host.attr("data-label",a);a&&a.label?this._raiseEvent("3",{item:{label:a.label,value:a.value},label:a.label,value:a.value}):this._raiseEvent("3",{item:{label:a,value:a},label:a,value:a});return this.element.value},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];b.owner=this;c=new e.Event(c);c.owner=this;c.args=b;c.preventDefault&&c.preventDefault();return this.host.trigger(c)},_renderer:function(a){return a},open:function(){if(!e.jqx.isHidden(this.host)){var a=e.extend({},this.host.coord(!0),{height:this.host[0].offsetHeight});if(0==this.$popup.parent().length){var b=this.element.id+"_popup";this.$popup[0].id=b;e.jqx.aria(this,"aria-owns",b)}this.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:a.top+a.height,left:a.left}).show();var c=0,a=this.$popup.children();e.each(a,function(){c+=e(this).outerHeight(!0)-1});this.$popup.height(c);this.opened=!0;this._raiseEvent("1",{popup:this.$popup});e.jqx.aria(this,"aria-expanded",!0);return this}},close:function(){this.$popup.hide();this.opened=!1;this._raiseEvent("2",{popup:this.$popup});e.jqx.aria(this,"aria-expanded",!1);return this},suggest:function(a){this.query=this.element.value;return!this.query||this.query.length<this.minLength?this.opened?this.close():this:(a=e.isFunction(this.source)?this.source(this.query,e.proxy(this.load,this)):this.source)?this.load(a):this},load:function(a){var b=this;a=e.grep(a,function(a){return b.filter(a)});a=this.sort(a);return a.length?this._render(a.slice(0,this.items)).open():this.opened?this.close():this},_filter:function(a){var b=this.query,c=a;null!=a.label?c=a.label:this.displayMember&&(c=a[this.displayMember]);switch(this.searchMode){case "none":break;default:return e.jqx.string.containsIgnoreCase(c,b);case "contains":return e.jqx.string.contains(c,b);case "equals":return e.jqx.string.equals(c,b);case "equalsignorecase":return e.jqx.string.equalsIgnoreCase(c,b);case "startswith":return e.jqx.string.startsWith(c,b);case "startswithignorecase":return e.jqx.string.startsWithIgnoreCase(c,b);case "endswith":return e.jqx.string.endsWith(c,b);case "endswithignorecase":return e.jqx.string.endsWithIgnoreCase(c,b)}},_sort:function(a){for(var b=[],c=[],e=[],d,g=0;g<a.length;g++){var h=d=a[g];d.label?h=d.label:this.displayMember&&(h=d[this.displayMember]);0===h.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?b.push(d):0<=h.toString().indexOf(this.query)?c.push(d):0<=h.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())&&e.push(d)}return b.concat(c,e)},_highlight:function(a){var b=this.query,b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"\x3cb\x3e"+b+"\x3c/b\x3e"})},_render:function(a){var b=this;a=e(a).map(function(a,f){var d=f;a=void 0!=f.value?void 0!=f.label?e(b.item).attr({"data-name":f.label,"data-value":f.value}):e(b.item).attr({"data-name":f.value,"data-value":f.value}):void 0!=f.label?e(b.item).attr({"data-value":f.label,"data-name":f.label}):void 0!=b.displayMember&&""!=b.displayMember?e(b.item).attr({"data-name":f[b.displayMember],"data-value":f[b.valueMember]}):e(b.item).attr({"data-value":f,"data-name":f});f.label?d=f.label:b.displayMember&&(d=f[b.displayMember]);a.find("a").html(b.highlight(d));d="";b.rtl&&(d=" "+b.toThemeProperty("jqx-rtl"));a[0].className=b.toThemeProperty("jqx-item")+" "+b.toThemeProperty("jqx-menu-item")+" "+b.toThemeProperty("jqx-rc-all")+d;return a[0]});a.first().addClass(this.toThemeProperty("jqx-fill-state-pressed"));this.$popup.html(a);this.dropDownWidth?this.$popup.width(this.dropDownWidth):this.$popup.width(this.host.outerWidth()-6);return this},next:function(a){a=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).next();a.length||(a=e(this.$popup.find("li")[0]));a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},prev:function(a){a=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).prev();a.length||(a=this.$popup.find("li").last());a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},addHandlers:function(){this.addHandler(this.host,"focus",e.proxy(this.onFocus,this));this.addHandler(this.host,"blur",e.proxy(this.onBlur,this));this.addHandler(this.host,"keypress",e.proxy(this.keypress,this));this.addHandler(this.host,"keyup",e.proxy(this.keyup,this));this.addHandler(this.host,"keydown",e.proxy(this.keydown,this));this.addHandler(this.$popup,"mousedown",e.proxy(this.click,this));if(this.host.on)this.$popup.on("mouseenter","li",e.proxy(this.mouseenter,this));else this.$popup.bind("mouseenter","li",e.proxy(this.mouseenter,this))},removeHandlers:function(){this.removeHandler(this.host,"focus",e.proxy(this.onFocus,this));this.removeHandler(this.host,"blur",e.proxy(this.onBlur,this));this.removeHandler(this.host,"keypress",e.proxy(this.keypress,this));this.removeHandler(this.host,"keyup",e.proxy(this.keyup,this));this.removeHandler(this.host,"keydown",e.proxy(this.keydown,this));this.removeHandler(this.$popup,"mousedown",e.proxy(this.click,this));this.host.off?this.$popup.off("mouseenter","li",e.proxy(this.mouseenter,this)):this.$popup.unbind("mouseenter","li",e.proxy(this.mouseenter,this))},move:function(a){if(this.opened){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.shiftKey||(a.preventDefault(),this.prev());break;case 40:a.shiftKey||(a.preventDefault(),this.next())}a.stopPropagation()}},keydown:function(a){this.suppressKeyPressRepeat=~e.inArray(a.keyCode,[40,38,9,13,27]);this.move(a)},keypress:function(a){this.suppressKeyPressRepeat||this.move(a)},keyup:function(a){switch(a.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.opened)return;this.select(a,this);break;case 27:if(!this.opened)return;this.close();break;default:var b=this;this.timer&&clearTimeout(this.timer);this.timer=setTimeout(function(){b.suggest()},300)}a.stopPropagation();a.preventDefault()},clear:function(){this.host.val("")},onBlur:function(a){var b=this;setTimeout(function(){b.close()},150);b.host.removeClass(b.toThemeProperty("jqx-fill-state-focus"));this.value=this.host.val()},onFocus:function(a){this.host.addClass(this.toThemeProperty("jqx-fill-state-focus"))},click:function(a){a.stopPropagation();a.preventDefault();this.select(a,this)},mouseenter:function(a){this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed"));e(a.currentTarget).addClass(this.toThemeProperty("jqx-fill-state-pressed"))}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxListBox","",{});e.extend(e.jqx._jqxListBox.prototype,{defineInstance:function(){var a={disabled:!1,width:null,height:null,items:[],multiple:!1,selectedIndex:-1,selectedIndexes:[],source:null,scrollBarSize:e.jqx.utilities.scrollBarSize,enableHover:!0,enableSelection:!0,visualItems:[],groups:[],equalItemsWidth:!0,itemHeight:-1,visibleItems:[],emptyGroupText:"Group",checkboxes:!1,hasThreeStates:!1,autoHeight:!1,autoItemsHeight:!1,roundedcorners:!0,touchMode:"auto",displayMember:"",groupMember:"",valueMember:"",searchMember:"",searchMode:"startswithignorecase",incrementalSearch:!0,incrementalSearchDelay:1E3,incrementalSearchKeyDownDelay:300,allowDrag:!1,allowDrop:!0,dropAction:"default",touchModeStyle:"auto",keyboardNavigation:!0,enableMouseWheel:!0,multipleextended:!1,selectedValues:[],emptyString:"",rtl:!1,rendered:null,renderer:null,dragStart:null,dragEnd:null,focusable:!0,ready:null,_checkForHiddenParent:!0,autoBind:!0,_renderOnDemand:!1,filterable:!1,filterHeight:27,filterPlaceHolder:"Looking for",filterDelay:100,aria:{"aria-disabled":{name:"disabled",type:"boolean"}},events:"select unselect change checkChange dragStart dragEnd bindingComplete".split(" ")};e.extend(!0,this,a);return a},createInstance:function(a){15!=e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize);null==this.width&&(this.width=200);null==this.height&&(this.height=200);this.render();var b=this;e.jqx.utilities.resize(this.host,function(){b._updateSize()},!1,this._checkForHiddenParent)},resize:function(a,b){this.width=a;this.height=b;this._updateSize()},render:function(){var a=this,b=a.element.nodeName.toLowerCase();if("select"==b||"ul"==b||"ol"==b){a.field=a.element;a.field.className&&(a._className=a.field.className);b={title:a.field.title};b.id=a.field.id.length?a.field.id.replace(/[^\w]/g,"_")+"_jqxListBox":e.jqx.utilities.createId()+"_jqxListBox";var c=e("\x3cdiv\x3e\x3c/div\x3e",b);a.width||(a.width=e(a.field).width());a.height||(a.height=e(a.field).outerHeight());e(a.field).hide().after(c);var f=a.host.data();a.host=c;a.host.data(f);a.element=c[0];a.element.id=a.field.id;a.field.id=b.id;a._className&&(a.host.addClass(a._className),e(a.field).removeClass(a._className));a.field.tabIndex&&(b=a.field.tabIndex,a.field.tabIndex=-1,a.element.tabIndex=b)}a.element.innerHTML="";b=a.element.className;b+=" "+a.toThemeProperty("jqx-listbox");b+=" "+a.toThemeProperty("jqx-reset");b+=" "+a.toThemeProperty("jqx-rc-all");b+=" "+a.toThemeProperty("jqx-widget");b+=" "+a.toThemeProperty("jqx-widget-content");a.element.className=b;null!=a.width&&-1!=a.width.toString().indexOf("%")&&a.host.width(a.width);null!=a.height&&-1!=a.height.toString().indexOf("%")&&(a.host.height(a.height),0==a.host.height()&&a.host.height(200));null!=a.width&&-1!=a.width.toString().indexOf("px")?a.host.width(a.width):void 0==a.width||isNaN(a.width)||(a.element.style.width=parseInt(a.width)+"px");null!=a.height&&-1!=a.height.toString().indexOf("px")?a.host.height(a.height):void 0==a.height||isNaN(a.height)||(a.element.style.height=parseInt(a.height)+"px");a.multiple||a.multipleextended||a.checkboxes?e.jqx.aria(a,"aria-multiselectable",!0):e.jqx.aria(a,"aria-multiselectable",!1);b="\x3cdiv style\x3d'-webkit-appearance: none; background: transparent; outline: none; width:100%; height: 100%; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;'\x3e\x3cdiv style\x3d'-webkit-appearance: none; border: none; background: transparent; outline: none; width:100%; height: 100%; padding: 0px; margin: 0px; align:left; left: 0px; top: 0px; valign:top; position: relative;'\x3e\x3cdiv id\x3d'filter"+a.element.id+"' style\x3d'display: none; visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3cinput style\x3d'position: absolute;'/\x3e\x3c/div\x3e\x3cdiv id\x3d'listBoxContent' style\x3d'-webkit-appearance: none; border: none; background: transparent; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'verticalScrollBar"+a.element.id+"' style\x3d'visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'horizontalScrollBar"+a.element.id+"' style\x3d'visibility: inherit; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'bottomRight' style\x3d'align:left; valign:top; left: 0px; top: 0px; border: none; position: absolute;'/\x3e\x3c/div\x3e\x3c/div\x3e";a.host.attr("role","listbox");a.element.innerHTML=b;a._checkForHiddenParent&&(a._addInput(),a.host.attr("tabIndex")||a.host.attr("tabIndex",1));a.filter=e(a.element.firstChild.firstChild.firstChild);a.filterInput=e(a.filter[0].firstChild);a.filterInput.attr("placeholder",a.filterPlaceHolder);a.filterInput.addClass(a.toThemeProperty("jqx-widget jqx-input jqx-rc-all"));a.addHandler(a.filterInput,"keyup.textchange",function(b){13==b.keyCode?a._search(b):0<a.filterDelay&&(a._filterTimer&&clearTimeout(a._filterTimer),a._filterTimer=setTimeout(function(){a._search(b)},a.filterDelay));b.stopPropagation()});b=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling);if(!a.host.jqxButton)throw Error("jqxListBox: Missing reference to jqxbuttons.js.");if(!b.jqxScrollBar)throw Error("jqxListBox: Missing reference to jqxscrollbar.js.");c=parseInt(a.host.height())/2;0==c&&(c=10);a.vScrollBar=b.jqxScrollBar({_initialLayout:!0,vertical:!0,rtl:a.rtl,theme:a.theme,touchMode:a.touchMode,largestep:c});b=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling);a.hScrollBar=b.jqxScrollBar({_initialLayout:!0,vertical:!1,rtl:a.rtl,touchMode:a.touchMode,theme:a.theme});a.content=e(a.element.firstChild.firstChild.firstChild.nextSibling);a.content[0].id="listBoxContent"+a.element.id;a.bottomRight=e(a.element.firstChild.firstChild.firstChild.nextSibling.nextSibling.nextSibling.nextSibling).addClass(a.toThemeProperty("jqx-listbox-bottomright")).addClass(a.toThemeProperty("jqx-scrollbar-state-normal"));a.bottomRight[0].id="bottomRight"+a.element.id;a.vScrollInstance=e.data(a.vScrollBar[0],"jqxScrollBar").instance;a.hScrollInstance=e.data(a.hScrollBar[0],"jqxScrollBar").instance;!a.isTouchDevice()||e.jqx.browser.msie&&9>e.jqx.browser.version||(b=e("\x3cdiv class\x3d'overlay' unselectable\x3d'on' style\x3d'z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e"),a.content.parent().append(b),a.overlayContent=a.host.find(".overlay"),a.filterable&&a.overlayContent.css("top","30px"));a._updateTouchScrolling();a.host.addClass("jqx-disableselect");a.host.jqxDragDrop&&jqxListBoxDragDrop()},_highlight:function(a,b){var c=b.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$\x26");return a.replace(new RegExp("("+c+")","ig"),function(a,b){return"\x3cb\x3e"+b+"\x3c/b\x3e"})},_addInput:function(){var a=this.host.attr("name");a&&this.host.attr("name","");this.input=e("\x3cinput type\x3d'hidden'/\x3e");this.host.append(this.input);this.input.attr("name",a)},_updateTouchScrolling:function(){var a=this;if(this.isTouchDevice()){a.enableHover=!1;var b=this.overlayContent?this.overlayContent:this.content;this.removeHandler(e(b),e.jqx.mobile.getTouchEventName("touchstart")+".touchScroll");this.removeHandler(e(b),e.jqx.mobile.getTouchEventName("touchmove")+".touchScroll");this.removeHandler(e(b),e.jqx.mobile.getTouchEventName("touchend")+".touchScroll");this.removeHandler(e(b),"touchcancel.touchScroll");e.jqx.mobile.touchScroll(b,a.vScrollInstance.max,function(b,e){if("hidden"!=a.vScrollBar.css("visibility")){var d=a.vScrollInstance.value;a.vScrollInstance.setPosition(d+e);a._lastScroll=new Date}"hidden"!=a.hScrollBar.css("visibility")&&(d=a.hScrollInstance.value,a.hScrollInstance.setPosition(d+b),a._lastScroll=new Date)},this.element.id,this.hScrollBar,this.vScrollBar);"visible"!=a.vScrollBar.css("visibility")&&"visible"!=a.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id);this._arrange()}},isTouchDevice:function(){var a=e.jqx.mobile.isTouchDevice();if(1==this.touchMode){if(this.touchDevice)return!0;if(e.jqx.browser.msie&&9>e.jqx.browser.version)return!1;a=this.touchDevice=!0;e.jqx.mobile.setMobileSimulator(this.element)}else 0==this.touchMode&&(a=!1);a&&0!=this.touchModeStyle&&(this.scrollBarSize=e.jqx.utilities.touchScrollBarSize);a&&this.host.addClass(this.toThemeProperty("jqx-touch"));return a},beginUpdate:function(){this.updatingListBox=!0},endUpdate:function(){this.updatingListBox=!1;this._addItems();this._renderItems()},beginUpdateLayout:function(){this.updating=!0},resumeUpdateLayout:function(){this.updating=!1;this.vScrollInstance.value=0;this._render(!1)},propertiesChangedHandler:function(a,b,c){a._cachedItemHtml=[];a.clearSelection();a.refresh()},propertyChangedHandler:function(a,b,c,f){if(void 0!=this.isInitialized&&0!=this.isInitialized&&(!a.batchUpdate||"touchMode"==b||"rtl"==b)){if("_renderOnDemand"==b&&(a._render(!1,!0),-1!=a.selectedIndex)){var d=a.selectedIndex;a.selectedIndex=-1;a._stopEvents=!0;a.selectIndex(d,!1,!0);-1==a.selectedIndex&&(a.selectedIndex=d);a._stopEvents=!1}"filterable"==b&&a.refresh();"filterHeight"==b&&a._arrange();"filterPlaceHolder"==b&&a.filterInput.attr("placeholder",f);"renderer"==b&&(a._cachedItemHtml=[],a.refresh());"itemHeight"==b&&a.refresh();if("source"==b||"checkboxes"==b)null==f&&c&&c.unbindBindingUpdate&&(c.unbindBindingUpdate(a.element.id),c.unbindDownloadComplete(a.element.id)),a.clearSelection(),a.refresh();"scrollBarSize"!=b&&"equalItemsWidth"!=b||f==c||a._updatescrollbars();"disabled"==b&&(a._renderItems(),a.vScrollBar.jqxScrollBar({disabled:f}),a.hScrollBar.jqxScrollBar({disabled:f}));if("touchMode"==b||"rtl"==b)a._removeHandlers(),a.vScrollBar.jqxScrollBar({touchMode:f}),a.hScrollBar.jqxScrollBar({touchMode:f}),"touchMode"!=b||e.jqx.browser.msie&&9>e.jqx.browser.version||(d=e("\x3cdiv class\x3d'overlay' unselectable\x3d'on' style\x3d'z-index: 99; -webkit-appearance: none; border: none; background: black; opacity: 0.01; outline: none; border: none; padding: 0px; overflow: hidden; margin: 0px; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e"),a.content.parent().append(d),a.overlayContent=a.host.find(".overlay")),a.filterable&&a.filterInput&&("rtl"==b&&f?a.filterInput.addClass(a.toThemeProperty("jqx-rtl")):"rtl"!=b||f||a.filterInput.removeClass(a.toThemeProperty("jqx-rtl")),a._arrange()),a._updateTouchScrolling(),a._addHandlers(),a._render(!1);this.updating||"width"!=b&&"height"!=b||a._updateSize();"theme"==b&&c!=f&&(a.hScrollBar.jqxScrollBar({theme:a.theme}),a.vScrollBar.jqxScrollBar({theme:a.theme}),a.host.removeClass(),a.host.addClass(a.toThemeProperty("jqx-listbox")),a.host.addClass(a.toThemeProperty("jqx-widget")),a.host.addClass(a.toThemeProperty("jqx-widget-content")),a.host.addClass(a.toThemeProperty("jqx-reset")),a.host.addClass(a.toThemeProperty("jqx-rc-all")),a.refresh());"selectedIndex"==b&&(a.clearSelection(),a.selectIndex(f,!0));if("displayMember"==b||"valueMember"==b)c!=f&&(d=a.selectedIndex,a.refresh(),a.selectedIndex=d,a.selectedIndexes[d]=d),a._renderItems();"autoHeight"==b&&(c!=f?a._render(!1):(a._updatescrollbars(),a._renderItems()));a._checkForHiddenParent&&e.jqx.isHidden(a.host)&&e.jqx.utilities.resize(this.host,function(){a._updateSize()},!1,a._checkForHiddenParent)}},loadFromSelect:function(a){if(null!=a&&(a=e("#"+a),0<a.length)){a=e.jqx.parseSourceTag(a[0]);var b=a.index;this.source=a.items;this.fromSelect=!0;this.clearSelection();this.selectedIndex=b;this.selectedIndexes[this.selectedIndex]=this.selectedIndex;this.refresh()}},invalidate:function(){this._cachedItemHtml=[];this._renderItems();this.virtualSize=null;this._updateSize()},refresh:function(a){if(void 0!=this.vScrollBar){this._cachedItemHtml=[];this.visibleItems=[];null!=this.itemswrapper&&(this.itemswrapper.remove(),this.itemswrapper=null);if(e.jqx.dataAdapter&&null!=this.source&&this.source._source)this.databind(this.source,a);else{if(this.autoBind||!this.autoBind&&!a)this.field&&this.loadSelectTag(),this.items=this.loadItems(this.source);this._raiseEvent("6");this._render(!1,1==a)}1==a&&-1!=this.selectedIndex&&(a=this.selectedIndex,this.selectedIndex=-1,this._stopEvents=!0,this.selectIndex(a,!1,!0),-1==this.selectedIndex&&(this.selectedIndex=a),this._stopEvents=!1)}},loadSelectTag:function(){var a=e.jqx.parseSourceTag(this.field);this.source=a.items;-1==this.selectedIndex&&(this.selectedIndex=a.index)},_render:function(a,b){if(this._renderOnDemand)this.visibleItems=[],this.renderedVisibleItems=[],this._renderItems();else{this._addItems();this._renderItems();this.vScrollInstance.setPosition(0);this._cachedItemHtml=[];(void 0==a||a)&&void 0!=this.items&&null!=this.items&&0<=this.selectedIndex&&this.selectedIndex<this.items.length&&this.selectIndex(this.selectedIndex,!0,!0,!0);if(this.allowDrag&&this._enableDragDrop&&(this._enableDragDrop(),this.isTouchDevice())){this._removeHandlers();this.overlayContent&&(this.overlayContent.remove(),this.overlayContent=null);this._updateTouchScrolling();this._addHandlers();return}this._updateTouchScrolling();this.rendered&&this.rendered();this.ready&&this.ready()}},_hitTest:function(a,b){this.filterable&&(b-=this.filterHeight,0>b&&(b=0));var c=parseInt(this.vScrollInstance.value),e=this._searchFirstVisibleIndex(b+c,this.renderedVisibleItems);if(void 0!=this.renderedVisibleItems[e]&&this.renderedVisibleItems[e].isGroup||0<this.renderedVisibleItems.length&&(e=this.renderedVisibleItems[this.renderedVisibleItems.length-1],e.height+e.top<b+c))return null;e=this._searchFirstVisibleIndex(b+c);return this.visibleItems[e]},_searchFirstVisibleIndex:function(a,b){void 0==a&&(a=parseInt(this.vScrollInstance.value));var c=0;if(void 0==b||null==b)b=this.visibleItems;for(var e=b.length;c<=e;){mid=parseInt((c+e)/2);var d=b[mid];if(void 0==d)break;if(d.initialTop>a&&d.initialTop+d.height>a)e=mid-1;else if(d.initialTop<a&&d.initialTop+d.height<=a)c=mid+1;else return mid}return 0},_renderItems:function(){if(void 0==this.items||0==this.items.length)this.visibleItems=[];else if(1!=this.updatingListBox){var a=this.isTouchDevice(),b=this.vScrollInstance,c=this.hScrollInstance,f=parseInt(b.value),d=parseInt(c.value);this.rtl&&"hidden"!=this.hScrollBar[0].style.visibility&&(d=c.max-d);this.host.width();var g=parseInt(this.content[0].style.width),c=g+parseInt(c.max);parseInt(this.vScrollBar[0].style.width);"visible"!=this.hScrollBar[0].style.visibility&&(c=g);this._getVirtualItemsCount();var h=[],l=0,k=parseInt(this.element.style.height)+2;-1!=this.element.style.height.indexOf("%")&&(k=this.host.outerHeight());isNaN(k)&&(k=0);var m=0,n=0,p=0;if(0==b.value||0==this.visibleItems.length)for(var q=0;q<this.items.length;q++)if(b=this.items[q],b.visible){b.top=-f;b.initialTop=-f;!b.isGroup&&b.visible&&(this.visibleItems[n++]=b,b.visibleIndex=n-1);this.renderedVisibleItems[p++]=b;b.left=-d;var r=b.top+b.height;0<=r&&b.top-b.height<=k&&(h[l++]={index:q,item:b});f-=b.height}q=0<f?this._searchFirstVisibleIndex(this.vScrollInstance.value,this.renderedVisibleItems):0;l=n=0;f=this.vScrollInstance.value;for(p=0;n<100+k;){b=this.renderedVisibleItems[q];if(void 0==b)break;b.visible&&(b.left=-d,r=b.top+b.height-f,0<=r&&b.initialTop-f-b.height<=2*k&&(h[l++]={index:q,item:b}));q++;b.visible&&(n+=b.initialTop-f+b.height-n);p++;if(p>this.items.length-1)break}if(!this._renderOnDemand)for(var d=this.toThemeProperty("jqx-listitem-state-normal")+" "+this.toThemeProperty("jqx-item"),l=this.toThemeProperty("jqx-listitem-state-group"),r=this.toThemeProperty("jqx-listitem-state-disabled")+" "+this.toThemeProperty("jqx-fill-state-disabled"),t=0,v=this,q=0;q<this.visualItems.length;q++){var u=this.visualItems[q],n=function(){var a=u[0].firstChild;v.checkboxes&&(a=u[0].lastChild);null!=a&&(a.style.visibility="hidden",a.className="");v.checkboxes&&u.find(".chkbox").css({visibility:"hidden"})};if(q<h.length)if(b=h[q].item,b.initialTop-f>=k)n();else{if(n=e(u[0].firstChild),this.checkboxes&&(n=e(u[0].lastChild)),0!=n.length&&null!=n[0]){n[0].className="";n[0].style.display="block";n[0].style.visibility="inherit";p="";p=!b.isGroup&&0<=!this.selectedIndexes[b.index]?d:l;if(b.disabled||this.disabled)p+=" "+r;this.roundedcorners&&(p+=" "+this.toThemeProperty("jqx-rc-all"));a&&(p+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch"));n[0].className=p;if(this.renderer)b.key||(b.key=this.generatekey()),this._cachedItemHtml||(this._cachedItemHtml=[]),this._cachedItemHtml[b.key]?n[0].innerHTML!=this._cachedItemHtml[b.key]&&(n[0].innerHTML=this._cachedItemHtml[b.key]):(p=this.renderer(b.index,b.label,b.value),n[0].innerHTML=p,this._cachedItemHtml[b.key]=n[0].innerHTML);else if(-1!==this.itemHeight&&(p=2+2*parseInt(n.css("padding-top")),n[0].style.lineHeight=b.height-p+"px",n.css("vertical-align","middle")),null!=b.html&&0<b.html.toString().length)n[0].innerHTML=b.html;else if(null!=b.label||null!=b.value)null!=b.label?(n[0].innerHTML!==b.label&&(n[0].innerHTML=b.label),""==e.trim(b.label)&&(n[0].innerHTML=this.emptyString,""==this.emptyString&&(n[0].style.height=b.height-8+"px")),this.incrementalSearch||b.disabled||void 0==this.searchString||""==this.searchString||(n[0].innerHTML=this._highlight(b.label.toString(),this.searchString))):null===b.label?(n[0].innerHTML=this.emptyString,""==this.emptyString&&(n[0].style.height=b.height-8+"px")):n[0].innerHTML!==b.value?n[0].innerHTML=b.value:""==b.label&&(n[0].innerHTML=" ");else if(""==b.label||null==b.label)n[0].innerHTML="",n[0].style.height=b.height-8+"px";u[0].style.left=b.left+"px";u[0].style.top=b.initialTop-f+"px";b.element=n[0];b.title&&(n[0].title=b.title);this.equalItemsWidth&&!b.isGroup?(0==m&&(m=parseInt(c),p=parseInt(n.outerWidth())-parseInt(n.width()),m-=p,p=1,p=null!=p?parseInt(p):0,m-=2*p,this.checkboxes&&"hidden"==this.hScrollBar[0].style.visibility&&(m-=18)),g>this.virtualSize.width?(n[0].style.width=m+"px",b.width=m):(n[0].style.width=-4+this.virtualSize.width+"px",b.width=this.virtualSize.width-4)):n.width()<this.host.width()&&n.width(this.host.width()-2);this.rtl&&(n[0].style.textAlign="right");this.autoItemsHeight&&(n[0].style.whiteSpace="pre-line",n.width(m),b.width=m);t=0;if(this.checkboxes&&!b.isGroup){0==t&&(t=(b.height-16)/2,t++);p=e(u.children()[0]);p[0].item=b;this.rtl?"0px"!=n[0].style.left&&(n[0].style.left="0px"):"18px"!=n[0].style.left&&(n[0].style.left="18px");this.rtl&&p.css("left",8+b.width+"px");p[0].style.top=t+"px";p[0].style.display="block";p[0].style.visibility="inherit";var w=(t=b.checked)?" "+this.toThemeProperty("jqx-checkbox-check-checked"):"";p[0].firstChild&&p[0].firstChild.firstChild&&p[0].firstChild.firstChild.firstChild&&p[0].firstChild.firstChild&&(t?p[0].firstChild.firstChild.firstChild.className=w:!1===t?p[0].firstChild.firstChild.firstChild.className="":null===t&&(p[0].firstChild.firstChild.firstChild.className=this.toThemeProperty("jqx-checkbox-check-indeterminate")));e.jqx.ariaEnabled&&(t?u[0].setAttribute("aria-selected",!0):u[0].removeAttribute("aria-selected"))}else this.checkboxes&&(p=e(u.children()[0]),p.css({display:"none",visibility:"inherit"}));!b.disabled&&(!this.filterable&&0<=this.selectedIndexes[b.visibleIndex]||b.selected&&this.filterable)?(n.addClass(this.toThemeProperty("jqx-listitem-state-selected")),n.addClass(this.toThemeProperty("jqx-fill-state-pressed")),e.jqx.ariaEnabled&&(u[0].setAttribute("aria-selected",!0),this._activeElement=u[0])):this.checkboxes||e.jqx.ariaEnabled&&u[0].removeAttribute("aria-selected")}}else n()}}},generatekey:function(){var a=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},_calculateVirtualSize:function(a){if(!this._renderOnDemand){var b=0,c=2,f=0,d=document.createElement("span");this.equalItemsWidth&&e(d).css("float","left");d.style.whiteSpace="pre";var g=0;a=void 0===a?this.host.outerHeight():a+2;document.body.appendChild(d);var h=this.items.length,l=this.host.width();this.autoItemsHeight&&(l-=10,"hidden"!=this.vScrollBar.css("visibility")&&(l-=20));if(this.autoItemsHeight||this.renderer||1<=this.groups.length||0<h&&null!=this.items[0].html&&""!=this.items[0].html)for(f=0;f<h;f++){var k=this.items[f];if((!k.isGroup||""!=k.label||""!=k.html)&&k.visible){var m="",m=k.isGroup?m+this.toThemeProperty("jqx-listitem-state-group jqx-rc-all"):m+this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all"),m=m+(" "+this.toThemeProperty("jqx-fill-state-normal"));this.isTouchDevice()&&(m+=" "+this.toThemeProperty("jqx-touch"));d.className=m;this.autoItemsHeight&&(d.style.whiteSpace="pre-line",m=this.checkboxes?-20:0,d.style.width=m+l+"px");if(this.renderer){var n=this.renderer(k.index,k.label,k.value);d.innerHTML=n}else if(null!=k.html&&0<k.html.toString().length)d.innerHTML=k.html;else if(null!=k.label||null!=k.value)null!=k.label?(d.innerHTML=k.label,""==k.label&&(d.innerHTML="Empty")):d.innerHTML=k.value;m=d.offsetHeight;n=d.offsetWidth;-1<this.itemHeight&&(m=this.itemHeight);k.height=m;k.width=n;c+=m;b=Math.max(b,n);c<=a&&g++}}else{for(var p=c=0,b="",q=n=0,r=-1,f=0;f<h;f++)if(k=this.items[f],(!k.isGroup||""!=k.label||""!=k.html)&&k.visible){r++;m="";if(0==r){m+=this.toThemeProperty("jqx-listitem-state-normal jqx-rc-all");m+=" "+this.toThemeProperty("jqx-fill-state-normal");m+=" "+this.toThemeProperty("jqx-widget");m+=" "+this.toThemeProperty("jqx-listbox");m+=" "+this.toThemeProperty("jqx-widget-content");this.isTouchDevice()&&(m+=" "+this.toThemeProperty("jqx-touch"),m+=" "+this.toThemeProperty("jqx-listitem-state-normal-touch"));d.className=m;this.autoItemsHeight&&(d.style.whiteSpace="pre-line",m=this.checkboxes?-20:0,d.style.width=m+l+"px");if(null==k.html||""==k.label||null==k.label)d.innerHTML="Item";else if(null!=k.html&&0<k.html.toString().length)d.innerHTML=k.html;else if(null!=k.label||null!=k.value)null!=k.label?null!=k.label.toString().match(/\w/)||null!=k.label.toString().match(/\d/)?d.innerHTML=k.label:d.innerHTML="Item":d.innerHTML=k.value;m=1+d.offsetHeight;-1<this.itemHeight&&(m=this.itemHeight);p=m}void 0!=n&&(q=n);null!=k.html&&0<k.html.toString().length?(n=Math.max(n,k.html.toString().length),q!=n&&(b=k.html)):null!=k.label?(n=Math.max(n,k.label.length),q!=n&&(b=k.label)):null!=k.value&&(n=Math.max(n,k.value.length),q!=n&&(b=k.value));k.height=p;c+=p;c<=a&&g++}d.innerHTML=b;b=d.offsetWidth}c+=2;10>g&&(g=10);this.filterable&&(c+=this.filterHeight);d.parentNode.removeChild(d);return{width:b,height:c,itemsPerPage:g}}},_getVirtualItemsCount:function(){if(0==this.virtualItemsCount){var a=parseInt(this.host.height())/5;a>this.items.length&&(a=this.items.length);return a}return this.virtualItemsCount},_addItems:function(a){if(!this._renderOnDemand){var b=this;if(1!=b.updatingListBox)if(void 0==b.items||0==b.items.length)b.virtualSize={width:0,height:0,itemsPerPage:0},b._updatescrollbars(),b.renderedVisibleItems=[],b.itemswrapper&&b.itemswrapper.children().remove();else{var c=b.host.height();if(0==a){var f=b._calculateVirtualSize(c),d=2*f.itemsPerPage;b.autoHeight&&(d=b.items.length);b.virtualItemsCount=Math.min(d,b.items.length);b.virtualSize=f;b._updatescrollbars()}else{a=0;b.visibleItems=[];b.renderedVisibleItems=[];b._removeHandlers();b.allowDrag&&b._enableDragDrop&&(b.itemswrapper=null);null==b.itemswrapper&&(b.content[0].innerHTML="",b.itemswrapper=e('\x3cdiv style\x3d"outline: 0 none; overflow:hidden; width:100%; position: relative;"\x3e\x3c/div\x3e'),b.itemswrapper[0].style.height=2*c+"px",b.content[0].appendChild(b.itemswrapper[0]));f=b._calculateVirtualSize(c);d=2*f.itemsPerPage;b.autoHeight&&(d=b.items.length);b.virtualItemsCount=Math.min(d,b.items.length);b=this;b.virtualSize=f;f=Math.max(b.host.width(),17+f.width);b.itemswrapper[0].style.width=f+"px";for(var g="",h=e.jqx.browser.msie&&9>e.jqx.browser.version?' unselectable\x3d"on"':"",f=0;f<b.virtualItemsCount;f++){d=b.items[f];g+="\x3cdiv"+h+" role\x3d'option' id\x3d'"+("listitem"+f+b.element.id)+"' class\x3d'jqx-listitem-element'\x3e";if(b.checkboxes)var g=g+'\x3cdiv style\x3d"background-color: transparent; padding: 0; margin: 0; position: absolute; float: left; width: 16px; height: 16px;" class\x3d"chkbox"\x3e',l='\x3cdiv class\x3d"'+b.toThemeProperty("jqx-checkbox-default")+" "+b.toThemeProperty("jqx-fill-state-normal")+" "+b.toThemeProperty("jqx-rc-all")+'"\x3e\x3cdiv style\x3d"cursor: pointer; width: 13px; height: 13px;"\x3e',d=d.checked?" "+b.toThemeProperty("jqx-checkbox-check-checked"):"",l=l+('\x3cspan style\x3d"width: 13px; height: 13px;" class\x3d"checkBoxCheck'+d+'"\x3e\x3c/span\x3e'),l=l+"\x3c/div\x3e\x3c/div\x3e",g=g+l,g=g+"\x3c/div\x3e";g+="\x3cspan"+h+" style\x3d'white-space: pre; -ms-touch-action: none;'\x3e\x3c/span\x3e\x3c/div\x3e"}this.WinJS?b.itemswrapper.html(g):b.itemswrapper[0].innerHTML=g;g=b.itemswrapper.children();for(f=0;f<b.virtualItemsCount;f++)d=b.items[f],h=e(g[f]),b.allowDrag&&b._enableDragDrop&&h.addClass("draggable"),b.checkboxes&&(e(h.children()[0]),h.css("float","left"),e(h[0].firstChild).css("float","left")),h[0].style.height=d.height+"px",h[0].style.top=a+"px",a+=d.height,b.visualItems[f]=h;b._addHandlers();b._updatescrollbars();b.autoItemsHeight&&(f=b._calculateVirtualSize(c),d=2*f.itemsPerPage,b.autoHeight&&(d=b.items.length),b.virtualItemsCount=Math.min(d,b.items.length),b=this,b.virtualSize=f,b._updatescrollbars());e.jqx.browser.msie&&8>e.jqx.browser.version&&(b.host.attr("hideFocus",!0),b.host.find("div").attr("hideFocus",!0))}}}},_updatescrollbars:function(){if(this.virtualSize){var a=this.virtualSize.height,b=this.virtualSize.width,c=this.vScrollInstance,f=this.hScrollInstance;this._arrange(!1);var d=!1,g=this.host.outerWidth(),h=this.host.outerHeight(),l=0;b>g&&(l=this.hScrollBar.outerHeight()+2);if(a+l>h){var k=c.max;c.max=2+parseInt(a)+l-parseInt(h-2);"inherit"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="inherit",d=!0);k!=c.max&&c._arrange()}else"hidden"!=this.vScrollBar[0].style.visibility&&(this.vScrollBar[0].style.visibility="hidden",d=!0,c.setPosition(0));l=0;"hidden"!=this.vScrollBar[0].style.visibility&&(l=this.scrollBarSize+6);k=this.checkboxes?20:0;if(this.autoItemsHeight)this.hScrollBar[0].style.visibility="hidden";else if(b>=g-l-k){var m=f.max;f.max="inherit"==this.vScrollBar[0].style.visibility?k+l+parseInt(b)-this.host.width()+4:k+parseInt(b)-this.host.width()+6;"inherit"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="inherit",d=!0);m!=f.max&&f._arrange();"inherit"==this.vScrollBar[0].style.visibility&&(c.max=2+parseInt(a)+this.hScrollBar.outerHeight()+2-parseInt(this.host.height()))}else"hidden"!=this.hScrollBar[0].style.visibility&&(this.hScrollBar[0].style.visibility="hidden",d=!0);f.setPosition(0);d&&this._arrange();this.itemswrapper&&(this.itemswrapper[0].style.width=Math.max(0,Math.max(g-2,17+b))+"px",this.itemswrapper[0].style.height=Math.max(0,2*h)+"px");this.isTouchDevice()&&("visible"!=this.vScrollBar.css("visibility")&&"visible"!=this.hScrollBar.css("visibility")?e.jqx.mobile.setTouchScroll(!1,this.element.id):e.jqx.mobile.setTouchScroll(!0,this.element.id))}},clear:function(){this.source=null;this.clearSelection();this.refresh()},clearSelection:function(a){for(var b=0;b<this.selectedIndexes.length;b++)this.selectedIndexes[b]&&-1!=this.selectedIndexes[b]&&this._raiseEvent("1",{index:b,type:"api",item:this.getVisibleItem(b),originalEvent:null}),this.selectedIndexes[b]=-1;this.selectedIndex=-1;this.selectedValue=null;this.selectedValues=[];0!=a&&this._renderItems()},unselectIndex:function(a,b){if(!isNaN(a)){this.selectedIndexes[a]=-1;for(var c=!1,e=0;e<this.selectedIndexes.length;e++){var d=this.selectedIndexes[e];-1!=d&&void 0!=d&&(c=!0)}c||(this.selectedValue=null,this.selectedIndex=-1,(c=this.getVisibleItem(a))&&this.selectedValues[c.value]&&(this.selectedValues[c.value]=null));if(void 0==b||1==b)this._renderItems(),this._raiseEvent("1",{index:a,type:"api",item:this.getVisibleItem(a),originalEvent:null});this._updateInputSelection();this._raiseEvent("2",{index:a,type:"api",item:this.getItem(a)})}},getInfo:function(){var a=this.getItems(),b=this.getVisibleItems(),c=this.vScrollInstance.value;this.filterable&&(c-=this.filterHeight);for(var e=[],d=0;d<b.length;d++){var g=b[d];if(g){var h=g.initialTop,l=!0;if(0>h+g.height-c||h-c>=this.host.height())l=!1;l&&e.push(g)}}return{items:a,visibleItems:b,viewItems:e}},getItem:function(a){if(-1==a||isNaN(a)||"string"===typeof a)return-1===a?null:this.getItemByValue(a);var b=null;e.each(this.items,function(){if(this.index==a)return b=this,!1});return b},getVisibleItem:function(a){return-1==a||isNaN(a)||"string"===typeof a?-1===a?null:this.getItemByValue(a):this.visibleItems[a]},getVisibleItems:function(){return this.visibleItems},checkIndex:function(a,b,c){if(this.checkboxes&&!(isNaN(a)||0>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled)){var f=this.getItem(a);if(0<this.groups.length||this.filterable)f=this.getVisibleItem(a);null!=f&&(e(f.checkBoxElement),f.checked=!0,void 0!=b&&1!=b||this._updateCheckedItems());void 0!=c&&1!=c||this._raiseEvent(3,{label:f.label,value:f.value,checked:!0,item:f})}},getCheckedItems:function(){if(!this.checkboxes)return null;var a=[];if(void 0!=this.items)return e.each(this.items,function(){this.checked&&(a[a.length]=this)}),a},checkAll:function(a){if(this.checkboxes&&!this.disabled){var b=this;e.each(this.items,function(){!1!==a&&!0!==this.checked&&b._raiseEvent(3,{label:this.label,value:this.value,checked:!0,item:this});this.checked=!0});this._updateCheckedItems()}},uncheckAll:function(a){if(this.checkboxes&&!this.disabled){var b=this;e.each(this.items,function(){!1!==a&&!1!==this.checked&&(this.checked=!1,b._raiseEvent(3,{label:this.label,value:this.value,checked:!1,item:this}));this.checked=!1});this._updateCheckedItems()}},uncheckIndex:function(a,b,c){if(this.checkboxes&&!(isNaN(a)||0>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled)){var f=this.getItem(a);if(0<this.groups.length||this.filterable)f=this.getVisibleItem(a);null!=f&&(e(f.checkBoxElement),f.checked=!1,void 0!=b&&1!=b||this._updateCheckedItems());void 0!=c&&1!=c||this._raiseEvent(3,{label:f.label,value:f.value,checked:!1,item:f})}},indeterminateIndex:function(a,b,c){if(this.checkboxes&&!(isNaN(a)||0>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled)){var f=this.getItem(a);if(0<this.groups.length||this.filterable)f=this.getVisibleItem(a);null!=f&&(e(f.checkBoxElement),f.checked=null,void 0!=b&&1!=b||this._updateCheckedItems());void 0!=c&&1!=c||this._raiseEvent(3,{checked:null})}},getSelectedIndex:function(){return this.selectedIndex},getSelectedItems:function(){var a=this.getVisibleItems(),b=this.selectedIndexes,c=[],e;for(e in b)-1!=b[e]&&(c[c.length]=a[e]);return c},getSelectedItem:function(){var a=this.getSelectedItems();return a&&0<a.length?a[0]:null},_updateCheckedItems:function(){var a=this.selectedIndex;this.clearSelection(!1);this.getCheckedItems();this.selectedIndex=a;this._renderItems();a=e.data(this.element,"hoveredItem");null!=a&&(e(a).addClass(this.toThemeProperty("jqx-listitem-state-hover")),e(a).addClass(this.toThemeProperty("jqx-fill-state-hover")));this._updateInputSelection()},getItemByValue:function(a){if(null!=this.visibleItems){a&&a.value&&(a=a.value);if(this.itemsByValue)return this.itemsByValue[e.trim(a).split(" ").join("_")];for(var b=this.visibleItems,c=0;c<b.length;c++)if(b[c].value==a)return b[c]}},checkItem:function(a){return null!=a?(a=this._getItemByParam(a),this.checkIndex(a.visibleIndex,!0)):!1},uncheckItem:function(a){return null!=a?(a=this._getItemByParam(a),this.uncheckIndex(a.visibleIndex,!0)):!1},indeterminateItem:function(a){return null!=a?(a=this._getItemByParam(a),this.indeterminateIndex(a.visibleIndex,!0)):!1},val:function(a){if(this.input){var b;a:{for(b in a)if(a.hasOwnProperty(b)){b=!1;break a}b="number"==typeof a||"date"==typeof a||"boolean"==typeof a||"string"==typeof a?!1:!0}if(b||0==arguments.length)return this.input.val();b=this.getItemByValue(a);null!=b&&this.selectItem(b);if(this.input)return this.input.val()}},selectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.selectIndex(a.visibleIndex,!0)}return!1},unselectItem:function(a){if(null!=a){if(void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return this.unselectIndex(a.visibleIndex,!0)}return!1},selectIndex:function(a,b,c,e,d,g){if(!isNaN(a)){var h=this.selectedIndex;this.filterable&&(this.selectedIndex=-1);if(!(-1>a||a>=this.visibleItems.length||null!=this.visibleItems[a]&&this.visibleItems[a].disabled||this.disabled))if(this.multiple||this.multipleextended||this.selectedIndex!=a||e||this.checkboxes)if(this.checkboxes){this._updateCheckedItems();var l=h;this.selectedIndex!=a||this.multiple||(l=-1);void 0==d&&(d="none");var h=this.getItem(a),k=this.getItem(l);this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(h=this.getVisibleItem(a),k=this.getVisibleItem(l));this._raiseEvent("1",{index:l,type:d,item:k,originalEvent:g});this.selectedIndex=a;this.selectedIndexes[l]=-1;this.selectedIndexes[a]=a;h&&(this.selectedValue=h.value,this.selectedValues[h.value]=h.value);this._raiseEvent("0",{index:a,type:d,item:h,originalEvent:g});this._renderItems()}else{this.focused=!0;var m=!1;this.selectedIndex!=a&&(m=!0);l=h;this.selectedIndex!=a||this.multiple||(l=-1);void 0==d&&(d="none");h=this.getItem(a);k=this.getItem(l);this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(h=this.getVisibleItem(a),k=this.getVisibleItem(l));if(void 0!=e&&e)this._raiseEvent("1",{index:l,type:d,item:k,originalEvent:g}),this.selectedIndex=a,this.selectedIndexes[l]=-1,this.selectedIndexes[a]=a,h&&(this.selectedValue=h.value,this.selectedValues[h.value]=h.value),this._raiseEvent("0",{index:a,type:d,item:h,originalEvent:g});else{var n=this;e=function(a,b,c,d,e,f){n._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f});n.selectedIndex=a;n.selectedIndexes=[];n.selectedIndexes[a]=a;n.selectedValues=[];e&&(n.selectedValues[e.value]=e.value);n._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f})};var p=function(a,b,c,d,e,f){void 0==n.selectedIndexes[a]||-1==n.selectedIndexes[a]?(n.selectedIndexes[a]=a,n.selectedIndex=a,e&&(n.selectedValues[e.value]=e.value,n._raiseEvent("0",{index:a,type:c,item:e,originalEvent:f}))):(b=n.selectedIndexes[a],(d=n.getVisibleItem(b))&&(n.selectedValues[d.value]=null),n.selectedIndexes[a]=-1,n.selectedIndex=-1,n._raiseEvent("1",{index:b,type:c,item:d,originalEvent:f}))};if(this.multipleextended)if(!this._shiftKey&&!this._ctrlKey)"keyboard"!=d&&"mouse"!=d?(p(a,l,d,k,h,g),n._clickedIndex=a):(this.clearSelection(!1),n._clickedIndex=a,e(a,l,d,k,h,g));else if(this._ctrlKey)"keyboard"==d&&(this.clearSelection(!1),n._clickedIndex=a),p(a,l,d,k,h,g);else{if(this._shiftKey){void 0==n._clickedIndex&&(n._clickedIndex=l);e=Math.min(n._clickedIndex,a);l=Math.max(n._clickedIndex,a);for(this.clearSelection(!1);e<=l;e++)n.selectedIndexes[e]=e,n.selectedValues[n.getVisibleItem(e).value]=n.getVisibleItem(e).value,n._raiseEvent("0",{index:e,type:d,item:this.getVisibleItem(e),originalEvent:g});n.selectedIndex="keyboard"!=d?n._clickedIndex:a}}else this.multiple?p(a,l,d,k,h,g):(h&&(this.selectedValue=h.value),e(a,l,d,k,h,g))}void 0!=c&&1!=c||this._renderItems();void 0!=b&&null!=b&&1==b&&this.ensureVisible(a);this._raiseEvent("2",{index:a,item:h,oldItem:k,type:d,originalEvent:g});this._updateInputSelection();return m}else this.visibleItems&&this.items&&this.visibleItems.length!=this.items.length&&(h=this.getVisibleItem(a))&&(this.selectedValue=h.value,this.selectedValues[h.value]=h.value)}},_updateInputSelection:function(){this._syncSelection();var a=[];if(this.input&&(-1==this.selectedIndex?this.input.val(""):this.items&&void 0!=this.items[this.selectedIndex]&&(this.input.val(this.items[this.selectedIndex].value),a.push(this.items[this.selectedIndex].value)),this.multiple||this.multipleextended||this.checkboxes)){var b=this.checkboxes?this.getCheckedItems():this.getSelectedItems(),c="";if(b){for(var f=0;f<b.length;f++)void 0!=b[f]&&(c=f==b.length-1?c+b[f].value:c+(b[f].value+","),a.push(b[f].value));this.input.val(c)}}this.field&&this.input&&("select"==this.field.nodeName.toLowerCase()?e.each(this.field,function(b,c){e(this).removeAttr("selected");(this.selected=0<=a.indexOf(this.value))&&e(this).attr("selected",!0)}):e.each(this.items,function(b,c){e(this.originalItem.originalItem).removeAttr("data-selected");(this.selected=0<=a.indexOf(this.value))&&e(this.originalItem.originalItem).attr("data-selected",!0)}))},isIndexInView:function(a){if(isNaN(a)||!this.items||0>a||a>=this.items.length)return!1;var b=this.vScrollInstance.value,c=0;this.filterable&&(c=this.filterHeight);var e=this.visibleItems[a];if(void 0==e)return!0;a=e.initialTop;e=e.height;return a-b<c||a-b+c+e>=this.host.outerHeight()?!1:!0},_itemsInPage:function(){var a=0,b=this;this.items&&e.each(this.items,function(){if(this.initialTop+this.height>=b.content.height())return!1;a++});return a},_firstItemIndex:function(){return null!=this.visibleItems?this.visibleItems[0]?this.visibleItems[0].isGroup?this._nextItemIndex(0):0:0:-1},_lastItemIndex:function(){return null!=this.visibleItems?this.visibleItems[this.visibleItems.length-1]?this.visibleItems[this.visibleItems.length-1].isGroup?this._prevItemIndex(this.visibleItems.length-1):this.visibleItems.length-1:this.visibleItems.length-1:-1},_nextItemIndex:function(a){for(indx=a+1;indx<this.visibleItems.length;indx++)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},_prevItemIndex:function(a){for(indx=a-1;0<=indx;indx--)if(this.visibleItems[indx]&&!this.visibleItems[indx].disabled&&!this.visibleItems[indx].isGroup)return indx;return-1},clearFilter:function(){this.filterInput.val("");this._updateItemsVisibility("")},_search:function(a){var b=this.filterInput.val();if(9!=a.keyCode&&"none"!=this.searchMode&&null!=this.searchMode&&"undefined"!=this.searchMode&&16!=a.keyCode&&17!=a.keyCode&&20!=a.keyCode){if(37==a.keyCode||39==a.keyCode)return!1;a.altKey||18==a.keyCode||33<=a.keyCode&&40>=a.keyCode||(a.ctrlKey||a.metaKey||this.ctrlKey)&&88!=a.keyCode&&86!=a.keyCode||b!==this.searchString&&this._updateItemsVisibility(b)}},_updateItemsVisibility:function(a){var b=this.getItems();if(void 0==b)return{index:-1,matchItem:[]};var c=this,f=0;e.each(b,function(b){b="";if(!this.isGroup){b=this.searchLabel?this.searchLabel:this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";b=b.toString();var d=!1;switch(c.searchMode){case "containsignorecase":d=e.jqx.string.containsIgnoreCase(b,a);break;case "contains":d=e.jqx.string.contains(b,a);break;case "equals":d=e.jqx.string.equals(b,a);break;case "equalsignorecase":d=e.jqx.string.equalsIgnoreCase(b,a);break;case "startswith":d=e.jqx.string.startsWith(b,a);break;case "startswithignorecase":d=e.jqx.string.startsWithIgnoreCase(b,a);break;case "endswith":d=e.jqx.string.endsWith(b,a);break;case "endswithignorecase":d=e.jqx.string.endsWithIgnoreCase(b,a)}d||(this.visible=!1);d&&(f++,this.visible=!0);""==a&&(this.visible=!0)}});c.renderedVisibleItems=[];c.visibleItems=[];c.vScrollInstance.setPosition(0,!0);c._addItems(!1);c._renderItems();for(b=0;b<c.items.length;b++)c.selectedIndexes[b]=-1;c.selectedIndex=-1;for(var d in c.selectedValues)a=c.selectedValues[d],(b=c.getItemByValue(a))&&b.visible&&(c.selectedIndex=b.visibleIndex,c.selectedIndexes[b.visibleIndex]=b.visibleIndex);c._syncSelection()},_getMatches:function(a,b){if(void 0==a||0==a.length)return-1;void 0==b&&(b=0);var c=this.getItems(),f=this,d=-1;e.each(c,function(c){c="";if(!this.isGroup){c=this.searchLabel?this.searchLabel.toString():this.label?this.label.toString():this.value?this.value.toString():this.title?this.title.toString():"jqxItem";var h=!1;switch(f.searchMode){case "containsignorecase":h=e.jqx.string.containsIgnoreCase(c,a);break;case "contains":h=e.jqx.string.contains(c,a);break;case "equals":h=e.jqx.string.equals(c,a);break;case "equalsignorecase":h=e.jqx.string.equalsIgnoreCase(c,a);break;case "startswith":h=e.jqx.string.startsWith(c,a);break;case "startswithignorecase":h=e.jqx.string.startsWithIgnoreCase(c,a);break;case "endswith":h=e.jqx.string.endsWith(c,a);break;case "endswithignorecase":h=e.jqx.string.endsWithIgnoreCase(c,a)}if(h&&this.visibleIndex>=b)return d=this.visibleIndex,!1}});return d},findItems:function(a){var b=this.getItems(),c=this,f=0,d=[];e.each(b,function(b){b="";if(!this.isGroup){b=this.label?this.label:this.value?this.value:this.title?this.title:"jqxItem";var h=!1;switch(c.searchMode){case "containsignorecase":h=e.jqx.string.containsIgnoreCase(b,a);break;case "contains":h=e.jqx.string.contains(b,a);break;case "equals":h=e.jqx.string.equals(b,a);break;case "equalsignorecase":h=e.jqx.string.equalsIgnoreCase(b,a);break;case "startswith":h=e.jqx.string.startsWith(b,a);break;case "startswithignorecase":h=e.jqx.string.startsWithIgnoreCase(b,a);break;case "endswith":h=e.jqx.string.endsWith(b,a);break;case "endswithignorecase":h=e.jqx.string.endsWithIgnoreCase(b,a)}h&&(d[f++]=this)}});return d},_syncSelection:function(){if(this.filterable){if(this.items)for(var a=0;a<this.items.length;a++){var b=this.items[a];b.selected=!1}for(a=0;a<this.visibleItems.length;a++)b=this.visibleItems[a],this.selectedIndexes&&this.selectedIndexes[a]==b.visibleIndex&&(b.selected=!0);this.itemswrapper&&this._renderItems()}},_handleKeyDown:function(a){var b=a.keyCode,c=this,e=c.selectedIndex,d=c.selectedIndex;if(this.keyboardNavigation&&this.enableSelection&&(!this.filterInput||a.target!=this.filterInput[0])){var g=function(){(c.multiple||c.checkboxes)&&c.clearSelection(!1)};a.altKey&&(b=-1);if(32==b&&this.checkboxes){var h=this.getItem(e);null!=h&&(c._updateItemCheck(h,e),a.preventDefault());c._searchString="";c.selectIndex(h.visibleIndex,!1,!0,!0,"keyboard",a);c._renderItems()}else{if(c.incrementalSearch){var l=-1;c._searchString||(c._searchString="");(8==b||46==b)&&1<=c._searchString.length&&(c._searchString=c._searchString.substr(0,c._searchString.length-1));var h=String.fromCharCode(b),k=!isNaN(parseInt(h)),m=!1;if(65<=b&&97>=b||k||8==b||32==b||46==b){a.shiftKey||(h=h.toLocaleLowerCase());k=1+c.selectedIndex;8!=b&&32!=b&&46!=b&&(0<c._searchString.length&&c._searchString.substr(0,1)==h?k=1+c.selectedIndex:c._searchString+=h);32==b&&(c._searchString+=" ");l=h=this._getMatches(c._searchString,k);if(l==c._lastMatchIndex||-1==l)l=h=this._getMatches(c._searchString,0);c._lastMatchIndex=l;0<=l&&(c._toSelectTimer&&clearTimeout(c._toSelectTimer),c._toSelectTimer=setTimeout(function(){g();c.selectIndex(l,!1,!1,!1,"keyboard",a);c.isIndexInView(l)?c._renderItems():c.ensureVisible(l)},c.incrementalSearchKeyDownDelay));m=!0}void 0!=c._searchTimer&&clearTimeout(c._searchTimer);if(27==b||13==b)c._searchString="";c._searchTimer=setTimeout(function(){c._searchString="";c._renderItems()},c.incrementalSearchDelay);if(0<=l)return;if(m)return!1}33==b&&(h=c._itemsInPage(),0<=c.selectedIndex-h?(g(),c.selectIndex(d-h,!1,!1,!1,"keyboard",a)):(g(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString="");32==b&&this.checkboxes&&(h=this.getItem(e),null!=h&&(c._updateItemCheck(h,e),a.preventDefault()),c._searchString="");36==b&&(g(),c.selectIndex(c._firstItemIndex(),!1,!1,!1,"keyboard",a),c._searchString="");35==b&&(g(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a),c._searchString="");34==b&&(h=c._itemsInPage(),c.selectedIndex+h<c.visibleItems.length?(g(),c.selectIndex(d+h,!1,!1,!1,"keyboard",a)):(g(),c.selectIndex(c._lastItemIndex(),!1,!1,!1,"keyboard",a)),c._searchString="");if(38==b)if(c._searchString="",0<c.selectedIndex)if(e=c._prevItemIndex(c.selectedIndex),e!=c.selectedIndex&&-1!=e)g(),c.selectIndex(e,!1,!1,!1,"keyboard",a);else return!0;else return!1;else if(40==b)if(c._searchString="",c.selectedIndex+1<c.visibleItems.length)if(e=c._nextItemIndex(c.selectedIndex),e!=c.selectedIndex&&-1!=e)g(),c.selectIndex(e,!1,!1,!1,"keyboard",a);else return!0;else return!1;return 35==b||36==b||38==b||40==b||34==b||33==b?(c.isIndexInView(c.selectedIndex)?c._renderItems():c.ensureVisible(c.selectedIndex),!1):!0}}},_updateItemCheck:function(a,b){if(!this.disabled)switch(a.checked=1==a.checked?a.hasThreeStates&&this.hasThreeStates?null:!1:null!=a.checked,a.checked){case !0:this.checkIndex(b);break;case !1:this.uncheckIndex(b);break;default:this.indeterminateIndex(b)}},wheel:function(a,b){if(b.autoHeight||!b.enableMouseWheel)return a.returnValue=!0;if(b.disabled)return!0;var c=0;a||(a=window.event);a.originalEvent&&a.originalEvent.wheelDelta&&(a.wheelDelta=a.originalEvent.wheelDelta);a.wheelDelta?c=a.wheelDelta/120:a.detail&&(c=-a.detail/3);if(c){if(c=b._handleDelta(c))a.preventDefault&&a.preventDefault(),null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0),void 0!=a.stopPropagation&&a.stopPropagation();return c?(c=!1,a.returnValue=c):!1}a.preventDefault&&a.preventDefault();a.returnValue=!1},_handleDelta:function(a){var b=this.vScrollInstance.value;0>a?this.scrollDown():this.scrollUp();return b!=this.vScrollInstance.value?!0:!1},focus:function(){try{this.focused=!0;this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25)}catch(b){}},_removeHandlers:function(){this.removeHandler(e(document),"keydown.listbox"+this.element.id);this.removeHandler(e(document),"keyup.listbox"+this.element.id);this.removeHandler(this.vScrollBar,"valueChanged");this.removeHandler(this.hScrollBar,"valueChanged");this._mousewheelfunc?this.removeHandler(this.host,"mousewheel",this._mousewheelfunc):this.removeHandler(this.host,"mousewheel");this.removeHandler(this.host,"keydown");this.removeHandler(this.content,"mouseleave");this.removeHandler(this.content,"focus");this.removeHandler(this.content,"blur");this.removeHandler(this.host,"focus");this.removeHandler(this.host,"blur");this.removeHandler(this.content,"mouseenter");this.removeHandler(this.content,"mouseup");this.removeHandler(this.content,"mousedown");this.removeHandler(this.content,"touchend");this._mousemovefunc?this.removeHandler(this.content,"mousemove",this._mousemovefunc):this.removeHandler(this.content,"mousemove");this.removeHandler(this.content,"selectstart");this.overlayContent&&this.removeHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"))},_updateSize:function(){this.virtualSize||(this._oldheight=null,this.virtualSize=this._calculateVirtualSize());this._arrange();if(this.host.height()!=this._oldheight||this.host.width()!=this._oldwidth){this.host.width();if(this.autoItemsHeight)this._render(!1);else if(this.items)if(0<this.items.length&&this.virtualItemsCount*this.items[0].height<this._oldheight-2)this._render(!1);else{var a=this.vScrollInstance.value;this._updatescrollbars();this._renderItems();a<this.vScrollInstance.max?this.vScrollInstance.setPosition(a):this.vScrollInstance.setPosition(this.vScrollInstance.max)}this._oldwidth=this.host.width();this._oldheight=this.host.height()}},_addHandlers:function(){var a=this;this.focused=!1;var b=this.isTouchDevice();this.addHandler(this.vScrollBar,"valueChanged",function(b){e.jqx.browser.msie&&9<e.jqx.browser.version?setTimeout(function(){a._renderItems()},1):a._renderItems()});this.addHandler(this.hScrollBar,"valueChanged",function(){a._renderItems()});this._mousewheelfunc&&this.removeHandler(this.host,"mousewheel",this._mousewheelfunc);this._mousewheelfunc=function(b){a.wheel(b,a)};this.addHandler(this.host,"mousewheel",this._mousewheelfunc);this.addHandler(e(document),"keydown.listbox"+this.element.id,function(b){a._ctrlKey=b.ctrlKey||b.metaKey;a._shiftKey=b.shiftKey});this.addHandler(e(document),"keyup.listbox"+this.element.id,function(b){a._ctrlKey=b.ctrlKey||b.metaKey;a._shiftKey=b.shiftKey});this.addHandler(this.host,"keydown",function(b){return a._handleKeyDown(b)});this.addHandler(this.content,"mouseleave",function(b){a.focused=!1;b=e.data(a.element,"hoveredItem");null!=b&&(e(b).removeClass(a.toThemeProperty("jqx-listitem-state-hover")),e(b).removeClass(a.toThemeProperty("jqx-fill-state-hover")),e.data(a.element,"hoveredItem",null))});this.addHandler(this.content,"focus",function(b){a.disabled||(a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")),a.focused=!0)});this.addHandler(this.content,"blur",function(b){a.focused=!1;a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus"))});this.addHandler(this.host,"focus",function(b){a.disabled||(a.host.addClass(a.toThemeProperty("jqx-fill-state-focus")),a.focused=!0)});this.addHandler(this.host,"blur",function(b){e.jqx.browser.msie&&9>e.jqx.browser.version&&a.focused||(a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus")),a.focused=!1)});this.addHandler(this.content,"mouseenter",function(b){a.focused=!0});var c=e.jqx.utilities.hasTransform(this.host);if(this.enableSelection){var f=a.isTouchDevice()&&!0!==this.touchMode,d=f?"touchend":"mousedown";if(this.overlayContent)this.addHandler(this.overlayContent,e.jqx.mobile.getTouchEventName("touchend"),function(b){if(!a.enableSelection||f&&(a._newScroll=new Date,500>a._newScroll-a._lastScroll))return!0;var c=e.jqx.mobile.getTouches(b)[0];if(void 0!=c){var d=a.host.offset(),g=parseInt(c.pageX),n=parseInt(c.pageY);1==a.touchMode&&void 0!=c._pageX&&(g=parseInt(c._pageX),n=parseInt(c._pageY));var g=g-d.left,n=n-d.top,p=a._hitTest(g,n);if(null!=p&&!p.isGroup){a._newScroll=new Date;if(500>a._newScroll-a._lastScroll)return!1;if(a.checkboxes)a._updateItemCheck(p,p.visibleIndex);else if(-1!=p.html.indexOf("href"))setTimeout(function(){a.selectIndex(p.visibleIndex,!1,!0,!1,"mouse",b);a.content.trigger("click");return!1},100);else return a.selectIndex(p.visibleIndex,!1,!0,!1,"mouse",b),b.preventDefault&&b.preventDefault(),a.content.trigger("click"),!1}}});else{var g=!1;this.addHandler(this.content,d,function(b){if(!a.enableSelection)return!0;g=!0;if(f&&(a._newScroll=new Date,500>a._newScroll-a._lastScroll))return!1;a.focused=!0;!a.isTouchDevice()&&a.focusable&&a.host.focus();if(b.target.id!="listBoxContent"+a.element.id&&a.itemswrapper[0]!=b.target){var l=b.target,k=e(l).offset(),m=a.host.offset();if(c){var n=e.jqx.mobile.getLeftPos(l),l=e.jqx.mobile.getTopPos(l);k.left=n;k.top=l;n=e.jqx.mobile.getLeftPos(a.element);l=e.jqx.mobile.getTopPos(a.element);m.left=n;m.top=l}var n=parseInt(k.top)-parseInt(m.top),p=parseInt(k.left)-parseInt(m.left),q=a._hitTest(p,n);if(null!=q&&!q.isGroup){var r=function(b,c){a._shiftKey||(a._clickedIndex=b.visibleIndex);a.checkboxes?(p=20+c.pageX-k.left,a.rtl?("hidden"!=a.hScrollBar.css("visibility")||a.host.width(),p<=a.host.width()-20&&(a.allowDrag?setTimeout(function(){a._dragItem||g||(a._updateItemCheck(b,b.visibleIndex),a.selectIndex(b.visibleIndex,!1,!0,!1,"mouse",c))},200):(a._updateItemCheck(b,b.visibleIndex),a.selectIndex(b.visibleIndex,!1,!0,!1,"mouse",c)))):20<=p+a.hScrollInstance.value&&(a.allowDrag?setTimeout(function(){a._dragItem||g||(a._updateItemCheck(b,b.visibleIndex),a.selectIndex(b.visibleIndex,!1,!0,!1,"mouse",c))},200):(a._updateItemCheck(b,b.visibleIndex),a.selectIndex(b.visibleIndex,!1,!0,!1,"mouse",c)))):a.selectIndex(b.visibleIndex,!1,!0,!1,"mouse",c)};q.disabled||(-1!=q.html.indexOf("href")?setTimeout(function(){r(q,b)},100):r(q,b))}if("mousedown"==d)return m=!1,b.which?m=3==b.which:b.button&&(m=2==b.button),m?!0:!1}return!0})}this.addHandler(this.content,"mouseup",function(b){a.vScrollInstance.handlemouseup(a,b);g=!1});e.jqx.browser.msie&&this.addHandler(this.content,"selectstart",function(a){return!1})}b=this.isTouchDevice();this.enableHover&&!b&&(this._mousemovefunc=function(d){if(b||!a.enableHover||null==d.target||a.disabled)return!0;a.focused=!0;if(!a.vScrollInstance.isScrolling()&&d.target.id!="listBoxContent"+a.element.id&&a.itemswrapper[0]!=d.target){var f=d.target;d=e(f).offset();var g=a.host.offset();if(c){var m=e.jqx.mobile.getLeftPos(f),f=e.jqx.mobile.getTopPos(f);d.left=m;d.top=f;m=e.jqx.mobile.getLeftPos(a.element);f=e.jqx.mobile.getTopPos(a.element);g.left=m;g.top=f}m=parseInt(d.top)-parseInt(g.top);d=parseInt(d.left)-parseInt(g.left);d=a._hitTest(d,m);null==d||d.isGroup||d.disabled||(g=e.data(a.element,"hoveredItem"),null!=g&&(e(g).removeClass(a.toThemeProperty("jqx-listitem-state-hover")),e(g).removeClass(a.toThemeProperty("jqx-fill-state-hover"))),e.data(a.element,"hoveredItem",d.element),d=e(d.element),d.addClass(a.toThemeProperty("jqx-listitem-state-hover")),d.addClass(a.toThemeProperty("jqx-fill-state-hover")))}},this.addHandler(this.content,"mousemove",this._mousemovefunc))},_arrange:function(a){void 0==a&&(a=!0);var b=this,c=null,e=null,d=b.filterable?b.filterHeight:0,g=function(a){a=b.host.height();0==a&&(a=200,b.host.height(a));return a};null!=b.width&&-1!=b.width.toString().indexOf("px")?c=b.width:void 0==b.width||isNaN(b.width)||(c=b.width);null!=b.height&&-1!=b.height.toString().indexOf("px")?e=b.height:void 0==b.height||isNaN(b.height)||(e=b.height);null!=b.width&&-1!=b.width.toString().indexOf("%")&&(b.host.css("width",b.width),c=b.host.width());null!=b.height&&-1!=b.height.toString().indexOf("%")&&(b.host.css("height",b.height),e=g(e));null!=c&&(c=parseInt(c),parseInt(b.element.style.width)!=parseInt(b.width)&&b.host.width(b.width));b.autoHeight?b.virtualSize&&("hidden"!=b.hScrollBar.css("visibility")?(b.host.height(b.virtualSize.height+parseInt(b.scrollBarSize)+3),b.height=b.virtualSize.height+parseInt(b.scrollBarSize)+3,e=b.height):(b.host.height(b.virtualSize.height),e=b.height=b.virtualSize.height)):null!=e&&(e=parseInt(e),parseInt(b.element.style.height)!=parseInt(b.height)&&(b.host.height(b.height),g(e)));var h=b.scrollBarSize;isNaN(h)&&(h=parseInt(h),h=isNaN(h)?"17px":h+"px");var h=parseInt(h),g=2,l=1;if(b.vScrollBar&&("hidden"!=b.vScrollBar[0].style.visibility?l=h+4:b.vScrollInstance.setPosition(0),b.hScrollBar)){"hidden"!=b.hScrollBar[0].style.visibility?g=h+4:b.hScrollInstance.setPosition(0);b.autoItemsHeight&&(b.hScrollBar[0].style.visibility="hidden",g=0);null==e&&(e=0);var k=parseInt(e)-4-h;0>k&&(k=0);parseInt(b.hScrollBar[0].style.height)!=h&&(0>parseInt(h)&&(h=0),b.hScrollBar[0].style.height=parseInt(h)+"px");b.hScrollBar[0].style.top!=k+"px"&&(b.hScrollBar[0].style.top=k+"px",b.hScrollBar[0].style.left="0px");k=c-h-4;0>k&&(k=0);k+="px";b.hScrollBar[0].style.width!=k&&(b.hScrollBar[0].style.width=k);1>=l&&2<=c&&(b.hScrollBar[0].style.width=parseInt(c-2)+"px");h!=parseInt(b.vScrollBar[0].style.width)&&(b.vScrollBar[0].style.width=parseInt(h)+"px");parseInt(e)-g!=parseInt(b.vScrollBar[0].style.height)&&(k=parseInt(e)-g,0>k&&(k=0),b.vScrollBar[0].style.height=k+"px");null==c&&(c=0);k=parseInt(c)-parseInt(h)-4+"px";k!=b.vScrollBar[0].style.left&&(0<=parseInt(k)&&(b.vScrollBar[0].style.left=k),b.vScrollBar[0].style.top="0px");k=b.vScrollInstance;k.disabled=b.disabled;a&&k._arrange();k=b.hScrollInstance;k.disabled=b.disabled;a&&k._arrange();"hidden"!=b.vScrollBar[0].style.visibility&&"hidden"!=b.hScrollBar[0].style.visibility?(b.bottomRight[0].style.visibility="inherit",b.bottomRight[0].style.left=1+parseInt(b.vScrollBar[0].style.left)+"px",b.bottomRight[0].style.top=1+parseInt(b.hScrollBar[0].style.top)+"px",b.rtl&&b.bottomRight.css({left:0}),b.bottomRight[0].style.width=parseInt(h)+3+"px",b.bottomRight[0].style.height=parseInt(h)+3+"px"):b.bottomRight[0].style.visibility="hidden";parseInt(b.content[0].style.width)!=parseInt(c)-l&&(a=parseInt(c)-l,0>a&&(a=0),b.content[0].style.width=a+"px");b.rtl&&(b.vScrollBar.css({left:"0px",top:"0px"}),b.hScrollBar.css({left:b.vScrollBar.width()+2+"px"}),"hidden"!=b.vScrollBar[0].style.visibility?b.content.css("margin-left",4+b.vScrollBar.width()):(b.content.css("margin-left",0),b.hScrollBar.css({left:"0px"})),b.filterable&&b.filterInput&&b.filterInput.css({left:b.vScrollBar.width()+6+"px"}));parseInt(b.content[0].style.height)!=parseInt(e)-g&&(a=parseInt(e)-g,0>a&&(a=0),b.content[0].style.height=a+"px",b.content[0].style.top="0px");0<d&&(b.content[0].style.top=d+"px",b.content[0].style.height=parseInt(b.content[0].style.height)-d+"px");b.filterable?(b.filterInput[0].style.height=d-6+"px",b.filterInput[0].style.top="3px",b.rtl||(b.filterInput[0].style.left=parseInt(b.content.css("left"))+3+"px"),b.filterInput[0].style.width=parseInt(b.content.css("width"))-7+"px",b.filter[0].style.display="block"):b.filter[0].style.display="none";b.overlayContent&&(b.overlayContent.width(parseInt(c)-l),b.overlayContent.height(parseInt(e)-g))}},ensureVisible:function(a,b){if(isNaN(a)){var c=this.getItemByValue(a);c&&(a=c.index)}if(!this.isIndexInView(a)){if(0>a)return;if(this.autoHeight){var f=e.data(this.vScrollBar[0],"jqxScrollBar").instance;f.setPosition(0)}else for(indx=0;indx<this.visibleItems.length;indx++)if(c=this.visibleItems[indx],c.visibleIndex==a&&!c.isGroup){var f=e.data(this.vScrollBar[0],"jqxScrollBar").instance,d=f.value,g=this.filterable?this.filterHeight+2:0,h="hidden"===this.hScrollBar.css("visibility")?0:this.scrollBarSize+4;c.initialTop<d?(f.setPosition(c.initialTop),0==indx&&f.setPosition(0)):c.initialTop+c.height>d+this.host.height()-g&&(g=this.host.height(),this.filterable?f.setPosition(this.filterHeight+2+c.initialTop+c.height+2-g+h):(f.setPosition(c.initialTop+c.height+2-g+h),indx===this.visibleItems.length-1&&f.setPosition(f.max)),b&&(d=f.value,h=c.initialTop,this.filterable&&(h=this.filterHeight+2+c.initialTop),d+g<f.max&&f.setPosition(h)));break}}else if(b)for(indx=0;indx<this.visibleItems.length;indx++)c=this.visibleItems[indx],c.visibleIndex!=a||c.isGroup||(d=this.vScrollInstance.value,h=c.initialTop,this.filterable&&(h=this.filterHeight+2+c.initialTop),d+this.host.height()<this.vScrollInstance.max&&this.vScrollInstance.setPosition(h));this._renderItems()},scrollTo:function(a,b){"hidden"!=this.vScrollBar.css("visibility")&&this.vScrollInstance.setPosition(b);"hidden"!=this.hScrollBar.css("visibility")&&this.hScrollInstance.setPosition(a)},scrollDown:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;a.value+a.largestep<=a.max?a.setPosition(a.value+a.largestep):a.setPosition(a.max);return!0},scrollUp:function(){if("hidden"==this.vScrollBar.css("visibility"))return!1;var a=this.vScrollInstance;return a.value-a.largestep>=a.min?(a.setPosition(a.value-a.largestep),!0):a.value!=a.min?(a.setPosition(a.min),!0):!1},databind:function(a,b){this.records=[];var c=a._source?!0:!1,f=new e.jqx.dataAdapter(a,{autoBind:!1});c&&(f=a,a=a._source);var d=function(a,b){var c=function(b){var c=null;if("string"===typeof b)var d=b,f=b,g="";else void 0!=a.displayMember&&""!=a.displayMember&&(f=b[a.valueMember],d=b[a.displayMember]);g="";a.groupMember?g=b[a.groupMember]:b&&void 0!=b.group&&(g=b.group);a.searchMember?c=b[a.searchMember]:b&&void 0!=b.searchLabel&&(c=b.searchLabel);a.valueMember||a.displayMember||"string"==e.type(b)&&(d=f=b.toString());b&&void 0!=b.label&&(d=b.label);b&&void 0!=b.value&&(f=b.value);var k=!1;b&&void 0!=b.checked&&(k=b.checked);var l="";b&&void 0!=b.html&&(l=b.html);var n=!0;b&&void 0!=b.visible&&(n=b.visible);var m=!1;b&&void 0!=b.disabled&&(m=b.disabled);var p=!1;b&&void 0!=b.hasThreeStates&&(p=b.hasThreeStates);var q={};q.label=d;q.value=f;q.searchLabel=c;q.html=l;q.visible=n;q.originalItem=b;q.group=g;q.groupHtml="";q.disabled=m;q.checked=k;q.hasThreeStates=p;return q};if(void 0!=b&&f._changedrecords[0])e.each(f._changedrecords,function(){var d=this.index,e=this.record;if("remove"!=b)var f=c(e);switch(b){case "update":a.updateAt(f,d);break;case "add":a.insertAt(f,d);break;case "remove":a.removeAt(d)}});else{a.records=f.records;for(var d=a.records.length,g=[],p=0;p<d;p++){var q=c(a.records[p]);q.index=p;g[p]=q}a.items=a.loadItems(g,!0);a._render();a._raiseEvent("6")}};void 0!=a.type&&(f._options.type=a.type);void 0!=a.formatdata&&(f._options.formatData=a.formatdata);void 0!=a.contenttype&&(f._options.contentType=a.contenttype);void 0!=a.async&&(f._options.async=a.async);var g=this;switch(a.datatype){default:if(null!=a.localdata||e.isArray(a))f.unbindBindingUpdate(this.element.id),(this.autoBind||!this.autoBind&&!b)&&f.dataBind(),d(this),f.bindBindingUpdate(this.element.id,function(a){d(g,a)});break;case "json":case "jsonp":case "xml":case "xhtml":case "script":case "text":case "csv":case "tab":if(null!=a.localdata){f.unbindBindingUpdate(this.element.id);(this.autoBind||!this.autoBind&&!b)&&f.dataBind();d(this);f.bindBindingUpdate(this.element.id,function(){d(g)});break}c={};f._options.data?e.extend(f._options.data,c):(a.data&&e.extend(c,a.data),f._options.data=c);f.unbindDownloadComplete(g.element.id);f.bindDownloadComplete(g.element.id,function(){d(g)});(this.autoBind||!this.autoBind&&!b)&&f.dataBind()}},loadItems:function(a,b){if(null==a)this.groups=[],this.items=[],this.visualItems=[];else{var c=this,f=0,d=0,g=0;this.groups=[];this.items=[];this.visualItems=[];var h=[];this.itemsByValue=[];e.map(a,function(a){if(void 0==a)return null;var k=new e.jqx._jqxListBox.item,l=a.group,n=a.groupHtml,m=a.title,p=null;c.searchMember?p=a[c.searchMember]:a&&void 0!=a.searchLabel&&(p=a.searchLabel);if(null==m||void 0==m)m="";if(null==l||void 0==l)l="";c.groupMember&&(l=a[c.groupMember]);if(null==n||void 0==n)n="";c.groups[l]||(c.groups[l]={items:[],index:-1,caption:l,captionHtml:n},f++,c.groups[f+"jqxGroup"]=c.groups[l],d++,c.groups.length=d);n=c.groups[l];n.index++;n.items[n.index]=k;"string"===typeof a?(k.label=a,k.value=a,1<arguments.length&&arguments[1]&&"string"==e.type(arguments[1])&&(k.label=a,k.value=arguments[1])):null==a.label&&null==a.value&&null==a.html&&null==a.group&&null==a.groupHtml?(k.label=a.toString(),k.value=a.toString()):(k.label=a.label,k.value=a.value,void 0===k.label&&(k.label=a.value),void 0===k.value&&(k.value=a.label));"string"!=typeof a&&(void 0===a.label&&""!=c.displayMember&&(k.label=void 0!=a[c.displayMember]?a[c.displayMember]:""),void 0===a.value&&""!=c.valueMember&&(k.value=a[c.valueMember]));k.hasThreeStates=void 0!=a.hasThreeStates?a.hasThreeStates:!0;k.originalItem=a;b&&(k.originalItem=a.originalItem);(k.title=m)&&void 0===k.value&&void 0===k.label&&(k.value=k.label=m);k.html=a.html||"";k.group=l;k.checked=a.checked||!1;k.groupHtml=a.groupHtml||"";k.disabled=a.disabled||!1;k.visible=void 0!=a.visible?a.visible:!0;k.searchLabel=p;k.index=g;h[g]=k;g++;return k});var l=[],k=0;if(void 0==this.fromSelect||0==this.fromSelect)for(var m=0;m<d;m++){var f=m+1,n=this.groups[f+"jqxGroup"];if(void 0==n||null==n)break;if(0==m&&""==n.caption&&""==n.captionHtml&&1>=d){for(m=0;m<n.items.length;m++){var p=n.items[m].value;if(void 0==n.items[m].value||null==n.items[m].value)p=m;this.itemsByValue[e.trim(p).split(" ").join("_")]=n.items[m]}return n.items}p=new e.jqx._jqxListBox.item;p.isGroup=!0;p.label=n.caption;""==n.caption&&""==n.captionHtml&&(n.caption=this.emptyGroupText,p.label=n.caption);p.html=n.captionHtml;l[k]=p;k++;for(var q=0;q<n.items.length;q++){l[k]=n.items[q];p=n.items[q].value;if(""==n.items[q].value||null==n.items[q].value)p=k;c.itemsByValue[e.trim(p).split(" ").join("_")]=n.items[q];k++}}else{var k=0,r=[];e.each(h,function(){if(!r[this.group]&&""!=this.group){var a=new e.jqx._jqxListBox.item;a.isGroup=!0;a.label=this.group;l[k]=a;k++;r[this.group]=!0}l[k]=this;a=this.value;if(""==this.value||null==this.value)a=k-1;c.itemsByValue[e.trim(a).split(" ").join("_")]=this;k++})}return l}},_mapItem:function(a){var b=new e.jqx._jqxListBox.item;this.displayMember&&(void 0==a.label&&(a.label=a[this.displayMember]),void 0==a.value&&(a.value=a[this.valueMember]));"string"===typeof a?(b.label=a,b.value=a):"number"===typeof a?(b.label=a.toString(),b.value=a.toString()):(b.label=void 0!==a.label?a.label:a.value,b.value=void 0!==a.value?a.value:a.label);void 0==b.label&&void 0==b.value&&void 0==b.html&&(b.label=b.value=a);b.html=a.html||"";b.group=a.group||"";b.checked=a.checked||!1;b.title=a.title||"";b.groupHtml=a.groupHtml||"";b.disabled=a.disabled||!1;b.visible=a.visible||!0;return b},addItem:function(a){return this.insertAt(a,this.items?this.items.length:0)},_getItemByParam:function(a){if(null!=a&&void 0==a.index){var b=this.getItemByValue(a);b&&(a=b)}return a},insertItem:function(a,b){var c=this._getItemByParam(a);return this.insertAt(c,b)},updateItem:function(a,b){var c=this._getItemByParam(b);return c&&void 0!=c.index?this.updateAt(a,c.index):!1},updateAt:function(a,b){if(null!=a){var c=this._mapItem(a);this.itemsByValue[e.trim(c.value).split(" ").join("_")]=this.items[b];this.items[b].value=c.value;this.items[b].label=c.label;this.items[b].html=c.html;this.items[b].disabled=c.disabled}this._cachedItemHtml=[];this._renderItems();this.rendered&&this.rendered()},insertAt:function(a,b){if(null==a)return!1;this._cachedItemHtml=[];if(void 0==this.items||0==this.items.length){this.source=[];this.refresh();var c=this._mapItem(a);c.index=0;this.items[this.items.length]=c;this._addItems(!0);this._renderItems();this.rendered&&this.rendered();this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();var f=c.value;if(""==c.value||null==c.value)f=b;this.itemsByValue[e.trim(f).split(" ").join("_")]=c;return!1}c=this._mapItem(a);if(-1==b||void 0==b||null==b||b>=this.items.length)c.index=this.items.length,this.items[this.items.length]=c;else{for(var f=[],d=0,g=!1,h=0,l=0;l<this.items.length;l++)0==this.items[l].isGroup&&h>=b&&!g&&(f[d++]=c,c.index=b,h++,g=!0),f[d]=this.items[l],this.items[l].isGroup||(f[d].index=h,h++),d++;this.items=f}f=c.value;if(""==c.value||null==c.value)f=b;this.itemsByValue[e.trim(f).split(" ").join("_")]=c;this.visibleItems=[];this.renderedVisibleItems=[];c=e.data(this.vScrollBar[0],"jqxScrollBar").instance;f=c.value;c.setPosition(0);this.allowDrag&&this._enableDragDrop||this.virtualSize&&this.virtualSize.height<10+this.host.height()?this._addItems(!0):this._addItems(!1);this._renderItems();this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();c.setPosition(f);this.rendered&&this.rendered();return!0},removeAt:function(a){if(0>a||a>this.items.length-1||void 0==a)return!1;var b=this.items[a].height,c=this.items[a].value;if(""==c||null==c)c=a;this.itemsByValue[e.trim(c).split(" ").join("_")]=null;if(1<this.groups.length){for(var f=[],c=0;c<this.items.length;c++)this.items[c].isGroup||f.push({item:this.items[c],key:c});if(f[a])this.items.splice(f[a].key,1);else return!1}else this.items.splice(a,1);a=[];for(var d=f=0,c=0;c<this.items.length;c++)a[f]=this.items[c],this.items[c].isGroup||(a[f].index=d,d++),f++;this.items=a;c=e.data(this.vScrollBar[0],"jqxScrollBar").instance;c=e.data(this.vScrollBar[0],"jqxScrollBar").instance;a=c.value;c.setPosition(0);this.visibleItems=[];this.renderedVisibleItems=[];0<this.items.length?(this.virtualSize&&(this.virtualSize.height-=b,b=2*this.virtualSize.itemsPerPage,this.autoHeight&&(b=this.items.length),this.virtualItemsCount=Math.min(b,this.items.length)),this._updatescrollbars()):this._addItems();this._renderItems();this.allowDrag&&this._enableDragDrop&&this._enableDragDrop();"hidden"!=this.vScrollBar.css("visibility")?c.setPosition(a):c.setPosition(0);this.itemsByValue=[];for(b=0;b<this.items.length;b++){c=this.items[b].value;if(""==this.items[b].value||null==this.items[b].value)c=b;this.itemsByValue[e.trim(c).split(" ").join("_")]=this.items[b]}this.rendered&&this.rendered();return!0},removeItem:function(a,b){var c=this._getItemByParam(a),e=-1;if(c&&void 0!=c.index&&!0!==b){for(var d=0;d<this.items.length;d++)if(this.items[d].label==c.label&&this.items[d].value==c.value){e=d;break}if(-1!=e)return this.removeAt(e)}if(-1==e)return this.removeAt(c.index)},getItems:function(){return this.items},disableItem:function(a){a=this._getItemByParam(a);this.disableAt(a.index)},enableItem:function(a){a=this._getItemByParam(a);this.enableAt(a.index)},disableAt:function(a){if(!this.items||0>a||a>this.items.length-1)return!1;this.items[a].disabled=!0;this._renderItems();return!0},enableAt:function(a){if(!this.items||0>a||a>this.items.length-1)return!1;this.items[a].disabled=!1;this._renderItems();return!0},destroy:function(){this.source&&this.source.unbindBindingUpdate&&this.source.unbindBindingUpdate(this.element.id);this._removeHandlers();this.vScrollBar.jqxScrollBar("destroy");this.hScrollBar.jqxScrollBar("destroy");this.vScrollBar.remove();this.hScrollBar.remove();this.content.remove();e.jqx.utilities.resize(this.host,null,!0);var a=e.data(this.element,"jqxListBox");delete this.hScrollInstance;delete this.vScrollInstance;delete this.vScrollBar;delete this.hScrollBar;delete this.content;delete this.bottomRight;delete this.itemswrapper;delete this.visualItems;delete this.visibleItems;delete this.items;delete this.groups;delete this.renderedVisibleItems;delete this._mousewheelfunc;delete this._mousemovefunc;delete this._cachedItemHtml;delete this.itemsByValue;delete this._activeElement;delete this.source;delete this.events;this.input&&(this.input.remove(),delete this.input);a&&delete a.instance;this.host.removeData();this.host.removeClass();this.host.remove();this.element=null;delete this.element;this.host=null;delete this.set;delete this.get;delete this.call;delete this.host},_raiseEvent:function(a,b){if(1==this._stopEvents)return!0;void 0==b&&(b={owner:null});var c=this.events[a];args=b;args.owner=this;this._updateInputSelection();c=new e.Event(c);c.owner=this;c.args=args;if(null!=this.host)var f=this.host.trigger(c);return f}})})(jqxBaseFramework);(function(e){e.jqx.parseSourceTag=function(a){var b=[],c=e(a).find("option"),f=e(a).find("optgroup"),d=!1;0===c.length&&(c=e(a).find("li"),0<c.length&&(d=!0));var g=null,g=-1,h=[];e.each(c,function(a){var c=0<f.find(this).length,k=null;null==this.text||null!=this.label&&""!=this.label||(this.label=this.text);!0===d&&(this.label=e(this).text(),this.checked=this.selected=e(this).attr("data-selected"),this.value=e(this).attr("data-value")||a,this.disabled=e(this).attr("disabled"));var l={style:this.style.cssText,selected:this.selected,html:this.innerHTML,classes:this.className,disabled:this.disabled,value:this.value,label:this.label,title:this.title,originalItem:this};e.jqx.browser.msie&&8>e.jqx.browser.version&&!d&&""==l.value&&null!=this.text&&0<this.text.length&&(l.value=this.text);c&&(k=f.find(this).parent()[0].label,l.group=k,h[k]||(h[k]=[],h.length++),h[k].push(l));this.selected&&(g=a);l.checked=this.selected;void 0!==l.label&&b.push(l)});if(0<h.length){var l=[],k;for(k in h)if("indexOf"!==k){for(a=0;a<f.length&&k!==f[a].label&&!f[a].text;a++);e.each(h[k],function(a,b){void 0!==this.label&&l.push(this)})}}return l&&0<l.length?{items:l,index:g}:{items:b,index:g}};e.jqx._jqxListBox.item=function(){return{group:"",groupHtml:"",selected:!1,isGroup:!1,highlighted:!1,value:null,label:"",html:null,visible:!0,disabled:!1,element:null,width:null,height:null,initialTop:null,top:null,left:null,title:"",index:-1,checkBoxElement:null,originalItem:null,checked:!1,visibleIndex:-1}}})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxMenu","",{});e.extend(e.jqx._jqxMenu.prototype,{defineInstance:function(){var a={items:[],mode:"horizontal",width:null,height:null,minimizeWidth:"auto",easing:"easeInOutSine",animationShowDuration:200,animationHideDuration:200,autoCloseInterval:0,animationHideDelay:100,animationShowDelay:100,menuElements:[],autoSizeMainItems:!1,autoCloseOnClick:!0,autoCloseOnMouseLeave:!0,enableRoundedCorners:!0,disabled:!1,autoOpenPopup:!0,enableHover:!0,autoOpen:!0,autoGenerate:!0,clickToOpen:!1,showTopLevelArrows:!1,touchMode:"auto",source:null,popupZIndex:17E3,rtl:!1,keyboardNavigation:!1,lockFocus:!1,title:"",events:"shown closed itemclick initialized open close".split(" ")};e.extend(!0,this,a);return a},createInstance:function(a){var b=this;this.host.attr("role","menubar");e.jqx.utilities.resize(this.host,function(){b.refresh()},!1,"popup"!=this.mode);"auto"!=this.minimizeWidth&&null!=this.minimizeWidth&&this.width&&-1==this.width.toString().indexOf("%")&&e(window).resize(function(){b.refresh()});this.host.css("outline","none");this.source&&null!=this.source&&(a=this.loadItems(this.source),this.element.innerHTML=a);this._tmpHTML=this.element.innerHTML;this.element.innerHTML.indexOf("UL")&&(a=this.host.find("ul:first"),0<a.length&&this._createMenu(a[0]));this.host.data("autoclose",{});this._render();this.setSize();e.jqx.browser.msie&&8>e.jqx.browser.version&&this.host.attr("hideFocus",!0)},focus:function(){try{if(this.host.focus(),"popup"===this.mode&&this.host.closest("div.jqx-menu-wrapper").focus(),this.keyboardNavigation){var a=this,b=function(){if(e.jqx.isHidden(e(a.items[0].element))){var b=a._nextVisibleItem(a.items[0],0);b&&(e(b.element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=b)}else e(a.items[0].element).addClass(a.toThemeProperty("jqx-fill-state-focus")),a.activeItem=a.items[0]};this.activeItem?e.jqx.isHidden(e(this.activeItem.element))?(e(this.activeItem.element).removeClass(this.toThemeProperty("jqx-fill-state-focus")),b()):e(this.activeItem.element).addClass(this.toThemeProperty("jqx-fill-state-focus")):b()}}catch(c){}},loadItems:function(a,b){if(null!=a){if(0==a.length)return"";var c=this;this.items=[];var f='\x3cul class\x3d"jqx-menu-ul"\x3e';b&&(f='\x3cul class\x3d"jqx-menu-ul" style\x3d"width:'+b+';"\x3e');e.map(a,function(a){if(void 0==a)return null;f+=c._parseItem(a)});return f+="\x3c/ul\x3e"}},_parseItem:function(a){var b;if(void 0==a)return null;var c=a.label;!a.label&&a.html&&(c=a.html);c||(c="Item");"string"===typeof a&&(c=a);var e=!1;void 0!=a.disabled&&a.disabled&&(e=!0);b="\x3cli";e&&(b+=' item-disabled\x3d"true" ');a.label&&!a.html&&(b+=' item-label\x3d"'+c+'" ');null!=a.value&&(b+=' item-value\x3d"'+a.value+'" ');void 0!=a.id&&(b+=' id\x3d"'+a.id+'" ');b+="\x3e"+c;a.items&&(b=a.subMenuWidth?b+this.loadItems(a.items,a.subMenuWidth):b+this.loadItems(a.items));return b+"\x3c/li\x3e"},setSize:function(){null!=this.width&&-1!=this.width.toString().indexOf("%")?this.host.width(this.width):null!=this.width&&-1!=this.width.toString().indexOf("px")?this.host.width(this.width):void 0==this.width||isNaN(this.width)||this.host.width(this.width);null!=this.height&&-1!=this.height.toString().indexOf("%")?this.host.height(this.height):null!=this.height&&-1!=this.height.toString().indexOf("px")?this.host.height(this.height):void 0==this.height||isNaN(this.height)||this.host.height(this.height);null===this.height&&this.host.height("auto");if(null!=this.minimizeWidth&&"popup"!=this.mode){var a=e(window).width();if(!e.jqx.response){var b=!1;navigator.userAgent.match(/Windows|Linux|MacOS/)&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")||(b=!0));var c=this.minimizeWidth;if(b&&"auto"==this.minimizeWidth)return}if("auto"==this.minimizeWidth&&e.jqx.response){if(a=new e.jqx.response,"Phone"==a.device.type||"Tablet"==a.device.type)this.minimized||this.minimize()}else a<c&&!this.minimized?this.minimize():this.minimized&&a>=c&&this.restore()}},minimize:function(){if(!this.minimized){var a=this;this.host.addClass(this.toThemeProperty("jqx-menu-minimized"));this.minimized=!0;this._tmpMode=this.mode;this.mode="simple";var b=this.host.closest("div.jqx-menu-wrapper");b.remove();e("#menuWrapper"+this.element.id).remove();e.each(this.items,function(){e(this.element);e(this.subMenuElement).closest("div.jqx-menu-popup").remove()});if(this.source){var c=this.loadItems(this.source);this.element.innerHTML=c;this._tmpHTML=this.element.innerHTML}this.element.innerHTML=this._tmpHTML;this.element.innerHTML.indexOf("UL")&&(c=this.host.find("ul:first"),0<c.length&&this._createMenu(c[0]));this._render();c=this.host.find("ul:first");c.wrap('\x3cdiv class\x3d"jqx-menu-wrapper" style\x3d"z-index:'+this.popupZIndex+'; padding: 0px; display: none; margin: 0px; height: auto; width: auto; position: absolute; top: 0; left: 0; display: block; visibility: visible;"\x3e\x3c/div\x3e');b=c.closest("div.jqx-menu-wrapper");b[0].id="menuWrapper"+this.element.id;b.detach();b.appendTo(e(document.body));b.addClass(this.toThemeProperty("jqx-widget"));b.addClass(this.toThemeProperty("jqx-menu"));b.addClass(this.toThemeProperty("jqx-menu-minimized"));b.addClass(this.toThemeProperty("jqx-widget-header"));c.children().hide();b.hide();b.find("ul").addClass(this.toThemeProperty("jqx-menu-ul-minimized"));this.minimizedItem=e("\x3cdiv\x3e\x3c/div\x3e");this.minimizedItem.addClass(this.toThemeProperty("jqx-item"));this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-item-top"));this.addHandler(b,"keydown",function(b){return a.handleKeyDown(b)});this.minimizedItem.addClass(this.toThemeProperty("jqx-menu-minimized-button"));this.minimizedItem.prependTo(this.host);this.titleElement=e("\x3cdiv\x3e"+this.title+"\x3c/div\x3e");this.titleElement.addClass(this.toThemeProperty("jqx-item"));this.titleElement.addClass(this.toThemeProperty("jqx-menu-title"));this.titleElement.prependTo(this.host);e("\x3cdiv style\x3d'clear:both;'\x3e\x3c/div\x3e").insertAfter(this.minimizedItem);a.minimizedHidden=!0;var f=function(c){a.minimizedHidden=!0;a.minimizedItem.show();c=!1;"right"==a.minimizedItem.css("float")&&(c=!0);b.animate({left:c?a.host.coord().left+a.host.width()+b.width():-b.outerWidth(),opacity:0},a.animationHideDuration,function(){b.find("ul:first").children().hide();b.hide()})},d=function(c){if(a.minimizedHidden){b.find("ul:first").children().show();a.minimizedHidden=!1;b.show();b.css("opacity",0);b.css("left",-b.outerWidth());var d=!1,e=b.width();"right"==a.minimizedItem.css("float")&&(b.css("left",a.host.coord().left+a.host.width()+e),d=!0);b.css("top",a.host.coord().top+a.host.height());b.animate({left:d?a.host.coord().left+a.host.width()-e:a.host.coord().left,opacity:.95},a.animationShowDuration,function(){})}else f(c);a._raiseEvent("2",{type:"mouse",item:a.minimizedItem[0],event:c});a.setSize()};this.addHandler(e(window),"orientationchange.jqxmenu"+this.element.id,function(c){setTimeout(function(){if(!a.minimizedHidden){var c=b.width(),d=!1,c=b.width();"right"==a.minimizedItem.css("float")&&(d=!0);b.css("top",a.host.coord().top+a.host.height());b.css({left:d?a.host.coord().left+a.host.width()-c:a.host.coord().left})}},25)});this.addHandler(this.minimizedItem,"click",function(a){d(a)})}},restore:function(){if(this.minimized){this.host.find("ul").removeClass(this.toThemeProperty("jqx-menu-ul-minimized"));this.host.removeClass(this.toThemeProperty("jqx-menu-minimized"));this.minimized=!1;this.mode=this._tmpMode;this.minimizedItem&&this.minimizedItem.remove();e("#menuWrapper"+this.element.id).remove();if(this.source){var a=this.loadItems(this.source);this._tmpHTML=this.element.innerHTML=a}this.element.innerHTML=this._tmpHTML;this.element.innerHTML.indexOf("UL")&&(a=this.host.find("ul:first"),0<a.length&&this._createMenu(a[0]));this.setSize();this._render()}},isTouchDevice:function(){if(void 0!=this._isTouchDevice)return this._isTouchDevice;var a=e.jqx.mobile.isTouchDevice();1==this.touchMode?a=!0:0==this.touchMode&&(a=!1);a&&(this.host.addClass(this.toThemeProperty("jqx-touch")),e(".jqx-menu-item").addClass(this.toThemeProperty("jqx-touch")));return this._isTouchDevice=a},refresh:function(a){a||this.setSize()},resize:function(a,b){this.width=a;this.height=b;this.refresh()},_closeAll:function(a){var b=null!=a?a.data:this;e.each(b.items,function(){1==this.hasItems&&this.isOpen&&b._closeItem(b,this)});"popup"==b.mode&&null!=a&&(b._isRightClick(a)||b.close())},closeItem:function(a){if(null==a)return!1;var b=document.getElementById(a),c=this;e.each(c.items,function(){1==this.isOpen&&this.element==b&&(c._closeItem(c,this),this.parentId&&c.closeItem(this.parentId))});return!0},openItem:function(a){if(null==a)return!1;var b=document.getElementById(a),c=this;e.each(c.items,function(){0==this.isOpen&&this.element==b&&(c._openItem(c,this),this.parentId&&c.openItem(this.parentId))});return!0},_getClosedSubMenuOffset:function(a){var b=e(a.subMenuElement),c=-b.outerHeight(),f=-b.outerWidth(),d=0==a.level&&"horizontal"==this.mode;d?f=0:c=0;switch(a.openVerticalDirection){case "up":case "center":c=b.outerHeight()}switch(a.openHorizontalDirection){case this._getDir("left"):f=d?0:b.outerWidth();break;case "center":f=d?0:b.outerWidth()}return{left:f,top:c}},_closeItem:function(a,b,c,f){if(null==a||null==b)return!1;var d=e(b.subMenuElement),g=0==b.level&&"horizontal"==this.mode,h=this._getClosedSubMenuOffset(b),l=h.top,k=h.left;e(b.element);var m=d.closest("div.jqx-menu-popup");if(null!=m){h=a.animationHideDelay;1==f&&(h=0);d.data("timer")&&null!=d.data("timer").show&&(clearTimeout(d.data("timer").show),d.data("timer").show=null);var n=function(){b.isOpen=!1;g?d.stop().animate({top:l},a.animationHideDuration,function(){e(b.element).removeClass(a.toThemeProperty("jqx-fill-state-pressed"));e(b.element).removeClass(a.toThemeProperty("jqx-menu-item-top-selected"));e(b.element).removeClass(a.toThemeProperty("jqx-rc-b-expanded"));m.removeClass(a.toThemeProperty("jqx-rc-t-expanded"));var c=e(b.arrow);0<c.length&&a.showTopLevelArrows&&(c.removeClass(),"down"==b.openVerticalDirection?(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-down")),c.addClass(a.toThemeProperty("jqx-icon-arrow-down"))):(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-up")),c.addClass(a.toThemeProperty("jqx-icon-arrow-up"))));e.jqx.aria(e(b.element),"aria-expanded",!1);m.css({display:"none"});0==a.animationHideDuration&&d.css({top:l});a._raiseEvent("1",b)}):d.stop().animate({left:k},a.animationHideDuration,function(){0==a.animationHideDuration&&d.css({left:k});if(0<b.level){e(b.element).removeClass(a.toThemeProperty("jqx-fill-state-pressed"));e(b.element).removeClass(a.toThemeProperty("jqx-menu-item-selected"));var c=e(b.arrow);0<c.length&&(c.removeClass(),"left"!=b.openHorizontalDirection?(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("right"))),c.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("right")))):(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("left"))),c.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("left")))))}else e(b.element).removeClass(a.toThemeProperty("jqx-fill-state-pressed")),e(b.element).removeClass(a.toThemeProperty("jqx-menu-item-top-selected")),c=e(b.arrow),0<c.length&&(c.removeClass(),"left"!=b.openHorizontalDirection?(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-top-"+a._getDir("right"))),c.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("right")))):(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-top-"+a._getDir("left"))),c.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("left")))));e.jqx.aria(e(b.element),"aria-expanded",!1);m.css({display:"none"});a._raiseEvent("1",b)})};0<h?d.data("timer")&&(d.data("timer").hide=setTimeout(function(){n()},h)):n();void 0!=c&&c&&(c=d.children(),e.each(c,function(){a.menuElements[this.id]&&a.menuElements[this.id].isOpen&&(e(a.menuElements[this.id].subMenuElement),a._closeItem(a,a.menuElements[this.id],!0,!0))}))}},getSubItems:function(a,b){if(null==a)return!1;var c=this,f=[];null!=b&&e.extend(f,b);var d=e(this.menuElements[a].subMenuElement).find(".jqx-menu-item");e.each(d,function(){f[this.id]=c.menuElements[this.id];var a=c.getSubItems(this.id,f);e.extend(f,a)});return f},disable:function(a,b){if(null!=a&&this.menuElements[a]){var c=this.menuElements[a];c.disabled=b;var f=e(c.element);c.element.disabled=b;e.each(f.children(),function(){this.disabled=b});b?(f.addClass(this.toThemeProperty("jqx-menu-item-disabled")),f.addClass(this.toThemeProperty("jqx-fill-state-disabled"))):(f.removeClass(this.toThemeProperty("jqx-menu-item-disabled")),f.removeClass(this.toThemeProperty("jqx-fill-state-disabled")))}},getItem:function(a){return this.menuElements[a]?this.menuElements[a]:null},disableItem:function(a){this.disable(a,!0)},hideItem:function(a){this.menuElements[a]&&e(this.menuElements[a].element).hide()},showItem:function(a){this.menuElements[a]&&e(this.menuElements[a].element).show()},enableItem:function(a){this.disable(a,!1)},_setItemProperty:function(a,b,c){null!=a&&this.menuElements[a]&&(a=this.menuElements[a],a[b]&&(a[b]=c))},setItemOpenDirection:function(a,b,c){if(null!=a){var f=e.jqx.browser.msie&&8>e.jqx.browser.version;if(this.menuElements[a]){a=this.menuElements[a];if(null!=b&&(a.openHorizontalDirection=b,a.hasItems&&0<a.level&&(b=e(a.element),void 0!=b))){var d=e(a.arrow);null==a.arrow&&(d=e('\x3cspan id\x3d"arrow'+b[0].id+'"\x3e\x3c/span\x3e'),f?d.appendTo(b):d.prependTo(b),a.arrow=d[0]);d.removeClass();"left"==a.openHorizontalDirection?(d.addClass(this.toThemeProperty("jqx-menu-item-arrow-"+this._getDir("left"))),d.addClass(this.toThemeProperty("jqx-icon-arrow-"+this._getDir("left")))):(d.addClass(this.toThemeProperty("jqx-menu-item-arrow-"+this._getDir("right"))),d.addClass(this.toThemeProperty("jqx-icon-arrow-"+this._getDir("right"))));d.css("visibility","visible");f?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right"))}null!=c&&(a.openVerticalDirection=c,d=e(a.arrow),b=e(a.element),this.showTopLevelArrows&&void 0!=b&&(null==a.arrow&&(d=e('\x3cspan id\x3d"arrow'+b[0].id+'"\x3e\x3c/span\x3e'),f?d.appendTo(b):d.prependTo(b),a.arrow=d[0]),d.removeClass(),"down"==a.openVerticalDirection?(d.addClass(this.toThemeProperty("jqx-menu-item-arrow-down")),d.addClass(this.toThemeProperty("jqx-icon-arrow-down"))):(d.addClass(this.toThemeProperty("jqx-menu-item-arrow-up")),d.addClass(this.toThemeProperty("jqx-icon-arrow-up"))),d.css("visibility","visible"),f?(d.css("display","inline-block"),d.css("float","none")):(d.css("display","block"),d.css("float","right"))))}}},_getSiblings:function(a){for(var b=[],c=0,e=0;e<this.items.length;e++)this.items[e]!=a&&this.items[e].parentId==a.parentId&&this.items[e].hasItems&&(b[c++]=this.items[e]);return b},_openItem:function(a,b,c){if(null==a||null==b||b.isOpen||b.disabled||a.disabled)return!1;var f=a.popupZIndex;void 0!=c&&(f=c);c=a.animationHideDuration;a.animationHideDuration=0;a._closeItem(a,b,!0,!0);a.animationHideDuration=c;e(b.element).focus();c=[5,5];var d=e(b.subMenuElement);null!=d&&d.stop();d.data("timer")&&null!=d.data("timer").hide&&clearTimeout(d.data("timer").hide);var g=d.closest("div.jqx-menu-popup"),h=e(b.element),l=0==b.level?this._getOffset(b.element):h.position();if(0<b.level&&this.hasTransform){var k=parseInt(h.coord().top)-parseInt(this._getOffset(b.element).top);l.top+=k}0==b.level&&"popup"==this.mode&&(l=h.coord());var m=0==b.level&&"horizontal"==this.mode,k=m?l.left:null!=this.menuElements[b.parentId]&&null!=this.menuElements[b.parentId].subMenuElement?parseInt(e(e(this.menuElements[b.parentId].subMenuElement).closest("div.jqx-menu-popup")).outerWidth())-c[0]:parseInt(d.outerWidth());g.css({visibility:"visible",display:"block",left:k,top:m?l.top+h.outerHeight():l.top,zIndex:f});d.css("display","block");"horizontal"!=this.mode&&0==b.level?(k=this._getOffset(this.element),g.css("left",-1+k.left+this.host.outerWidth()),d.css("left",-d.outerWidth())):(k=this._getClosedSubMenuOffset(b),d.css("left",k.left),d.css("top",k.top));g.css({height:parseInt(d.outerHeight())+parseInt(c[1])+"px"});var n=0,p=0;switch(b.openVerticalDirection){case "up":m?(d.css("top",d.outerHeight()),n=c[1],k=parseInt(d.parent().css("padding-bottom")),isNaN(k)&&(k=0),0<k&&g.addClass(this.toThemeProperty("jqx-menu-popup-clear")),d.css("top",d.outerHeight()-k),g.css({display:"block",top:l.top-g.outerHeight(),zIndex:f})):(n=c[1],d.css("top",d.outerHeight()),g.css({display:"block",top:l.top-g.outerHeight()+c[1]+h.outerHeight(),zIndex:f}));break;case "center":m?(d.css("top",0),g.css({display:"block",top:l.top-g.outerHeight()/2+c[1],zIndex:f})):(d.css("top",0),g.css({display:"block",top:l.top+h.outerHeight()/2-g.outerHeight()/2+c[1],zIndex:f}))}switch(b.openHorizontalDirection){case this._getDir("left"):m?g.css({left:l.left-(g.outerWidth()-h.outerWidth()-c[0])}):(p=0,d.css("left",g.outerWidth()),g.css({left:l.left-g.outerWidth()+2*b.level}));break;case "center":m?g.css({left:l.left-(g.outerWidth()/2-h.outerWidth()/2-c[0]/2)}):(g.css({left:l.left-(g.outerWidth()/2-h.outerWidth()/2-c[0]/2)}),d.css("left",g.outerWidth()))}if(m){if(parseInt(d.css("top"))==n){b.isOpen=!0;return}}else if(parseInt(d.css("left"))==p){1==b.isOpen;return}e.each(a._getSiblings(b),function(){a._closeItem(a,this,!0,!0)});f=e.data(a.element,"animationHideDelay");a.animationHideDelay=f;0<this.autoCloseInterval&&(null!=this.host.data("autoclose")&&null!=this.host.data("autoclose").close&&clearTimeout(this.host.data("autoclose").close),null!=this.host.data("autoclose")&&(this.host.data("autoclose").close=setTimeout(function(){a._closeAll()},this.autoCloseInterval)));d.data("timer")&&(d.data("timer").show=setTimeout(function(){if(null!=g)if(m){d.stop();d.css("left",p);h.addClass(a.toThemeProperty("jqx-fill-state-pressed"));h.addClass(a.toThemeProperty("jqx-menu-item-top-selected"));"down"==b.openVerticalDirection?(e(b.element).addClass(a.toThemeProperty("jqx-rc-b-expanded")),g.addClass(a.toThemeProperty("jqx-rc-t-expanded"))):(e(b.element).addClass(a.toThemeProperty("jqx-rc-t-expanded")),g.addClass(a.toThemeProperty("jqx-rc-b-expanded")));var c=e(b.arrow);0<c.length&&a.showTopLevelArrows&&(c.removeClass(),"down"==b.openVerticalDirection?(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-down-selected")),c.addClass(a.toThemeProperty("jqx-icon-arrow-down"))):(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-up-selected")),c.addClass(a.toThemeProperty("jqx-icon-arrow-up"))));0==a.animationShowDuration?(d.css({top:n}),b.isOpen=!0,a._raiseEvent("0",b),e.jqx.aria(e(b.element),"aria-expanded",!0)):d.animate({top:n},a.animationShowDuration,a.easing,function(){b.isOpen=!0;e.jqx.aria(e(b.element),"aria-expanded",!0);a._raiseEvent("0",b)})}else d.stop(),d.css("top",n),0<b.level?(h.addClass(a.toThemeProperty("jqx-fill-state-pressed")),h.addClass(a.toThemeProperty("jqx-menu-item-selected"))):(h.addClass(a.toThemeProperty("jqx-fill-state-pressed")),h.addClass(a.toThemeProperty("jqx-menu-item-top-selected"))),c=e(b.arrow),0<c.length&&(c.removeClass(),"left"!=b.openHorizontalDirection?(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("right")+"-selected")),c.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("right")))):(c.addClass(a.toThemeProperty("jqx-menu-item-arrow-"+a._getDir("left")+"-selected")),c.addClass(a.toThemeProperty("jqx-icon-arrow-"+a._getDir("left"))))),0==a.animationShowDuration?(d.css({left:p}),a._raiseEvent("0",b),b.isOpen=!0,e.jqx.aria(e(b.element),"aria-expanded",!0)):d.animate({left:p},a.animationShowDuration,a.easing,function(){a._raiseEvent("0",b);b.isOpen=!0;e.jqx.aria(e(b.element),"aria-expanded",!0)})},this.animationShowDelay))},_getDir:function(a){switch(a){case "left":return this.rtl?"right":"left";case "right":return this.rtl?"left":"right"}return"left"},_applyOrientation:function(a,b){var c=this,f=0;c.host.removeClass(c.toThemeProperty("jqx-menu-horizontal"));c.host.removeClass(c.toThemeProperty("jqx-menu-vertical"));c.host.removeClass(c.toThemeProperty("jqx-menu"));c.host.removeClass(c.toThemeProperty("jqx-widget"));c.host.addClass(c.toThemeProperty("jqx-widget"));c.host.addClass(c.toThemeProperty("jqx-menu"));if(void 0!=a&&void 0!=b&&"popup"==b){if(0<c.host.parent().length&&0<c.host.parent().parent().length&&c.host.parent().parent()[0]==document.body){var d=e.data(document.body,"jqxMenuOldHost"+c.element.id);if(null!=d){var g=c.host.closest("div.jqx-menu-wrapper");g.remove();g.appendTo(d);c.host.css("display","block");c.host.css("visibility","visible");g.css("display","block");g.css("visibility","visible")}}}else void 0==a&&void 0==b&&e.data(document.body,"jqxMenuOldHost"+c.element.id,c.host.parent()[0]);c.autoOpenPopup?"popup"==c.mode?(c.addHandler(e(document),"contextmenu."+c.element.id,function(a){return!1}),c.addHandler(e(document),"mousedown.menu"+c.element.id,function(a){c._openContextMenu(a)})):(c.removeHandler(e(document),"contextmenu."+c.element.id),c.removeHandler(e(document),"mousedown.menu"+c.element.id)):(c.removeHandler(e(document),"contextmenu."+c.element.id),c.removeHandler(e(document),"mousedown.menu"+c.element.id),c.addHandler(e(document),"contextmenu."+c.element.id,function(a){if(a.target&&0<=a.target.className.indexOf("jqx-menu"))return!1}));c.rtl&&c.host.addClass(c.toThemeProperty("jqx-rtl"));switch(c.mode){case "horizontal":c.host.addClass(c.toThemeProperty("jqx-widget-header"));c.host.addClass(c.toThemeProperty("jqx-menu-horizontal"));e.each(c.items,function(){$element=e(this.element);var a=e(this.arrow);a.removeClass();this.hasItems&&0<this.level&&(a=e('\x3cspan style\x3d"border: none; background-color: transparent;" id\x3d"arrow'+$element[0].id+'"\x3e\x3c/span\x3e'),a.prependTo($element),a.css("float",c._getDir("right")),a.addClass(c.toThemeProperty("jqx-menu-item-arrow-"+c._getDir("right"))),a.addClass(c.toThemeProperty("jqx-icon-arrow-"+c._getDir("right"))),this.arrow=a[0]);if(0==this.level){e(this.element).css("float",c._getDir("left"));if(!this.ignoretheme&&this.hasItems&&c.showTopLevelArrows){var a=e('\x3cspan style\x3d"border: none; background-color: transparent;" id\x3d"arrow'+$element[0].id+'"\x3e\x3c/span\x3e'),b=e.jqx.browser.msie&&8>e.jqx.browser.version;null==this.arrow?b?a.appendTo($element):a.prependTo($element):a=e(this.arrow);"down"==this.openVerticalDirection?(a.addClass(c.toThemeProperty("jqx-menu-item-arrow-down")),a.addClass(c.toThemeProperty("jqx-icon-arrow-down"))):(a.addClass(c.toThemeProperty("jqx-menu-item-arrow-up")),a.addClass(c.toThemeProperty("jqx-icon-arrow-up")));a.css("visibility","visible");b?a.css("display","inline-block"):(a.css("display","block"),a.css("float","right"));this.arrow=a[0]}else this.ignoretheme||!this.hasItems||c.showTopLevelArrows||null==this.arrow||(a=e(this.arrow),a.remove(),this.arrow=null);f=Math.max(f,$element.height())}});break;case "vertical":case "popup":case "simple":c.host.addClass(c.toThemeProperty("jqx-menu-vertical")),e.each(c.items,function(){$element=e(this.element);if(this.hasItems&&!this.ignoretheme){this.arrow&&e(this.arrow).remove();if("simple"==c.mode)return!0;var a=e('\x3cspan style\x3d"border: none; background-color: transparent;" id\x3d"arrow'+$element[0].id+'"\x3e\x3c/span\x3e');a.prependTo($element);a.css("float","right");0==this.level?a.addClass(c.toThemeProperty("jqx-menu-item-arrow-top-"+c._getDir("right"))):a.addClass(c.toThemeProperty("jqx-menu-item-arrow-"+c._getDir("right")));a.addClass(c.toThemeProperty("jqx-icon-arrow-"+c._getDir("right")));this.arrow=a[0]}$element.css("float","none")}),"popup"==c.mode?(c.host.addClass(c.toThemeProperty("jqx-widget-content")),c.host.wrap('\x3cdiv tabindex\x3d0 class\x3d"jqx-menu-wrapper" style\x3d"z-index:'+c.popupZIndex+'; border: none; background-color: transparent; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: visible;"\x3e\x3c/div\x3e'),g=c.host.closest("div.jqx-menu-wrapper"),c.host.addClass(c.toThemeProperty("jqx-popup")),g[0].id="menuWrapper"+c.element.id,g.appendTo(e(document.body)),c.addHandler(g,"keydown",function(a){return c.handleKeyDown(a)})):c.host.addClass(c.toThemeProperty("jqx-widget-header")),"popup"==c.mode&&(d=c.host.height(),c.host.css("position","absolute"),c.host.css("top","0"),c.host.css("left","0"),"simple"!=c.mode&&(c.host.height(d),c.host.css("display","none")))}d=c.isTouchDevice();c.autoCloseOnClick&&(c.removeHandler(e(document),"mousedown.menu"+c.element.id,c._closeAfterClick),c.addHandler(e(document),"mousedown.menu"+c.element.id,c._closeAfterClick,c),d&&(c.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+c.element.id,c._closeAfterClick,c),c.addHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+c.element.id,c._closeAfterClick,c)))},_getBodyOffset:function(){var a=0,b=0;"0px"!=e("body").css("border-top-width")&&(a=parseInt(e("body").css("border-top-width")),isNaN(a)&&(a=0));"0px"!=e("body").css("border-left-width")&&(b=parseInt(e("body").css("border-left-width")),isNaN(b)&&(b=0));return{left:b,top:a}},_getOffset:function(a){var b=e.jqx.mobile.isSafariMobileBrowser(),c=e(a).coord(!0),f=c.top,c=c.left;"0px"!=e("body").css("border-top-width")&&(f=parseInt(f)+this._getBodyOffset().top);"0px"!=e("body").css("border-left-width")&&(c=parseInt(c)+this._getBodyOffset().left);var d=e.jqx.mobile.isWindowsPhone(),g=e.jqx.mobile.isTouchDevice();return this.hasTransform||null!=b&&b||d||g?{left:e.jqx.mobile.getLeftPos(a),top:e.jqx.mobile.getTopPos(a)}:{left:c,top:f}},_isRightClick:function(a){var b;a||(a=window.event);a.which?b=3==a.which:a.button&&(b=2==a.button);return b},_openContextMenu:function(a){this._isRightClick(a)&&this.open(parseInt(a.clientX)+5,parseInt(a.clientY)+5)},close:function(){var a=this;e.data(this.element,"contextMenuOpened"+this.element.id)&&(e.each(a.items,function(){this.hasItems&&a._closeItem(a,this)}),e.each(a.items,function(){1==this.isOpen&&($submenu=e(this.subMenuElement),$submenu.closest("div.jqx-menu-popup").hide(this.animationHideDuration))}),this.host.hide(this.animationHideDuration),e.data(a.element,"contextMenuOpened"+this.element.id,!1),a._raiseEvent("1",a),a._raiseEvent("5"))},open:function(a,b){if("popup"==this.mode){var c=0;"block"==this.host.css("display")&&(this.close(),c=this.animationHideDuration);var f=this;if(void 0==a||null==a)a=0;if(void 0==b||null==b)b=0;setTimeout(function(){f.host.show(f.animationShowDuration);f.host.css("visibility","visible");e.data(f.element,"contextMenuOpened"+f.element.id,!0);f._raiseEvent("0",f);f._raiseEvent("4",{left:a,top:b});f.host.css("z-index",9999);void 0!=a&&void 0!=b&&f.host.css({left:a,top:b});f.focus()},c)}},_renderHover:function(a,b,c){var e=this;b.ignoretheme||(this.addHandler(a,"mouseenter",function(){e.hoveredItem=b;b.disabled||b.separator||!e.enableHover||e.disabled||(0<b.level?(a.addClass(e.toThemeProperty("jqx-fill-state-hover")),a.addClass(e.toThemeProperty("jqx-menu-item-hover"))):(a.addClass(e.toThemeProperty("jqx-fill-state-hover")),a.addClass(e.toThemeProperty("jqx-menu-item-top-hover"))))}),this.addHandler(a,"mouseleave",function(){b.disabled||b.separator||!e.enableHover||e.disabled||(0<b.level?(a.removeClass(e.toThemeProperty("jqx-fill-state-hover")),a.removeClass(e.toThemeProperty("jqx-menu-item-hover"))):(a.removeClass(e.toThemeProperty("jqx-fill-state-hover")),a.removeClass(e.toThemeProperty("jqx-menu-item-top-hover"))))}))},_closeAfterClick:function(a){var b=null!=a?a.data:this,c=!1;b.autoCloseOnClick&&(e.each(e(a.target).parents(),function(){if(this.className.indexOf&&-1!=this.className.indexOf("jqx-menu"))return c=!0,!1}),c||(a.data=b,b._closeAll(a)))},_autoSizeHorizontalMenuItems:function(){var a=this;if(a.autoSizeMainItems&&"horizontal"==this.mode){var b=this.maxHeight;parseInt(b)>parseInt(this.host.height())&&(b=parseInt(this.host.height()));b=parseInt(this.host.height());e.each(this.items,function(){$element=e(this.element);if(0==this.level&&0<b){var c=0<$element.children().length?parseInt($element.children().height()):$element.height(),f=a.host.find("ul:first"),d=parseInt(f.css("padding-top")),f=parseInt(f.css("margin-top")),d=b-2*(f+d),f=parseInt(d)/2-c/2,c=parseInt(f),f=parseInt(f);$element.css("padding-top",c);$element.css("padding-bottom",f);parseInt($element.outerHeight())>d&&$element.css("padding-top",c-1)}})}e.each(this.items,function(){$element=e(this.element);if(this.hasItems&&0<this.level&&this.arrow){var a=e(this.arrow),b=e(this.element).height();15<b&&a.css("margin-top",(b-15)/2)}})},_nextVisibleItem:function(a,b){if(null==a||void 0==a)return null;for(var c=a;null!=c;)if(c=c.nextItem,this._isVisible(c)&&!c.disabled&&"separator"!==c.type&&(this.minimized||void 0==b||!c||c.level==b))return c;return null},_prevVisibleItem:function(a,b){if(null==a||void 0==a)return null;for(var c=a;null!=c;)if(c=c.prevItem,this._isVisible(c)&&!c.disabled&&"separator"!==c.type&&(this.minimized||void 0==b||!c||c.level==b))return c;return null},_parentItem:function(a){if(null==a||void 0==a)return null;var b=a.parentElement;if(!b)return null;var c=null;e.each(this.items,function(){if(this.element==b)return c=this,!1});return c},_isElementVisible:function(a){return null==a?!1:"none"!=e(a).css("display")&&"hidden"!=e(a).css("visibility")?!0:!1},_isVisible:function(a){if(null==a||void 0==a||!this._isElementVisible(a.element))return!1;a=this._parentItem(a);if(null==a||this.minimized)return!0;if(null!=a)if(this._isElementVisible(a.element)&&(a.isOpen||this.minimized))for(;null!=a;){if(a=this._parentItem(a),null!=a&&!this._isElementVisible(a.element)||null!=a&&!a.isOpen)return!1}else return!1;return!0},_render:function(a,b){this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.host.addClass(this.toThemeProperty("jqx-menu-disabled")));void 0==this.host.attr("tabindex")&&this.host.attr("tabindex",0);var c=this.popupZIndex,f=[5,5],d=this;e.data(d.element,"animationHideDelay",d.animationHideDelay);var g=this.isTouchDevice(),h=g&&(e.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("Touch"));-1!=navigator.platform.toLowerCase().indexOf("win")&&(0<=navigator.userAgent.indexOf("Windows Phone")||0<=navigator.userAgent.indexOf("WPDesktop")||0<=navigator.userAgent.indexOf("IEMobile")||0<=navigator.userAgent.indexOf("ZuneWP7")?this.touchDevice=!0:0<=navigator.userAgent.indexOf("Touch")&&("MSPointerDown"in window||e.jqx.mobile.isWindowsPhone()||0<=navigator.userAgent.indexOf("ARM"))&&(h=!0,d.clickToOpen=!0,d.autoCloseOnClick=!1,d.enableHover=!1));e.data(document.body,"menuel",this);this.hasTransform=e.jqx.utilities.hasTransform(this.host);this._applyOrientation(a,b);this.removeHandler(this.host,"blur");this.removeHandler(this.host,"focus");this.addHandler(this.host,"blur",function(a){!d.keyboardNavigation||!d.activeItem||"popup"===d.mode&&document.activeElement&&0<=document.activeElement.className.indexOf("jqx-menu-wrapper")||(e(d.activeItem.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=null)});this.addHandler(this.host,"focus",function(a){d.keyboardNavigation&&!d.activeItem&&(d.hoveredItem?(e(d.hoveredItem.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=d.hoveredItem):(a=function(){if(e.jqx.isHidden(e(d.items[0].element))){var a=d._nextVisibleItem(d.items[0],0);a&&(e(a.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=a)}else e(d.items[0].element).addClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=d.items[0]},d.activeItem?e.jqx.isHidden(e(d.activeItem.element))?(e(d.activeItem.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),a()):e(d.activeItem.element).addClass(d.toThemeProperty("jqx-fill-state-focus")):a()))});this.removeHandler(this.host,"keydown");d.handleKeyDown=function(a){if(d.keyboardNavigation){if("input"===a.target.nodeName.toLowerCase())return!0;var b=null,c=null;e.each(d.items,function(){if(this.disabled)return!0;0<=this.element.className.indexOf("pressed")&&(c=this);if(0<=this.element.className.indexOf("focus"))return b=this,!1});!b&&c&&(b=c);b||(e(d.items[0].element).addClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=d.items[0],b=d.activeItem);if(27==a.keyCode&&(a.data=d,d._closeAll(a),b))for(var f=b;null!=f;)f.parentItem||(e(d.activeItem.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=f,e(d.activeItem.element).addClass(d.toThemeProperty("jqx-fill-state-focus"))),f=f.parentItem;if(13==a.keyCode&&b){d._raiseEvent("2",{item:b.element,event:a,type:"keyboard"});var g=null!=b.anchor?e(b.anchor):null;null!=g&&0<g.length&&(f=g.attr("href"),g=g.attr("target"),null!=f&&(null!=g?window.open(f,g):window.location=f));a.preventDefault();a.stopPropagation();e(b.element).focus()}var g=function(a){if(null==a)return[];for(var b=[],c=0,e=0;e<d.items.length;e++)d.items[e].parentId==a.parentId&&(b[c++]=d.items[e]);return b},h="";switch(a.keyCode){case 40:h="down";break;case 38:h="up";break;case 39:h="right";break;case 37:h="left"}b&&"left"===b.openHorizontalDirection&&"left"===h&&(h="right");b&&"left"===b.openHorizontalDirection&&"right"===h&&(h="left");b&&"top"===b.openVerticalDirection&&"top"===h&&(h="bottom");b&&"top"===b.openVerticalDirection&&"bottom"===h&&(h="top");d.rtl&&("right"===h?h="left":"left"===h&&(h="right"));if("right"===h&&!d.minimized){if(a.altKey&&(0!=b.level&&b.hasItems||"horizontal"!=d.mode))d._openItem(d,b);else{var r=d._nextVisibleItem(b,0),t=d._nextVisibleItem(b),f=g(t);r||(r=t);r&&(r.parentId===b.parentId&&0==r.level&&"horizontal"==d.mode||t.id==f[0].id&&0!=t.level)&&(t.id==f[0].id&&(0!=b.level||0==b.level&&"horizontal"!=d.mode)&&(r=t),e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r)}a.preventDefault();a.stopPropagation()}"left"!==h||d.minimized||(a.altKey&&(0!=b.level&&"horizontal"!==d.mode||1<b.level&&"horizontal"===d.mode||1==b.level&&b.hasItems&&"horizontal"===d.mode)?b.hasItems?d._closeItem(d,b):b.parentItem&&(d._closeItem(d,b.parentItem),e(b.parentItem.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=b.parentItem):(r=d._prevVisibleItem(b,0),f=b.parentItem,r&&r.parentId===b.parentId&&0==r.level&&"horizontal"==d.mode?(e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r):f&&0==f.level&&"horizontal"==d.mode||!f||f.level!=b.level-1||(e(f.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=f)),a.preventDefault(),a.stopPropagation());if("down"===h)a.altKey?(0==b.level&&b.hasItems&&d._openItem(d,b),d.minimized&&d.minimizedHidden&&d.minimizedItem.trigger("click")):(r=d._nextVisibleItem(b,b.level),f=g(r),d.minimized&&r?(e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r):(!r||r.parentId!==b.parentId&&(r.id!=f[0].id||"horizontal"!=d.mode)||0==r.level&&"horizontal"==d.mode||(e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r),"horizontal"===d.mode&&0===b.level&&b.isOpen&&b.hasItems&&(r=d._nextVisibleItem(b),e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r))),a.preventDefault(),a.stopPropagation();else if("up"===h){if(a.altKey)b.parentItem&&0==b.parentItem.level?(d._closeItem(d,b.parentItem),e(b.parentItem.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=b.parentItem):null===b.parentItem&&0===b.level&&"horizontal"===d.mode&&d._closeItem(d,b),d.minimized&&(d.minimizedHidden||d.minimizedItem.trigger("click"));else if(r=d._prevVisibleItem(b,b.level),f=g(b),d.minimized&&r)e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r;else if(r&&(r.parentId===b.parentId||r.id==b.parentId&&0==r.level&&"horizontal"==d.mode)){if(0!=r.level||"horizontal"!==d.mode||0!==b.level)e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r}else b&&b.id==f[0].id&&b.parentItem&&0===b.parentItem.level&&"horizontal"===d.mode&&(r=b.parentItem,e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r);a.preventDefault();a.stopPropagation()}if(9==a.keyCode)if(r=a.shiftKey?d._prevVisibleItem(b):d._nextVisibleItem(b))e(r.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=r,a.preventDefault(),a.stopPropagation();else if(d.lockFocus){f=[];for(h=g=0;h<d.items.length;h++)d.items[h]!=b&&d.items[h].parentId==b.parentId&&(f[g++]=d.items[h]);0<f.length&&(a.shiftKey?(e(f[f.length-1].element).addClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=f[f.length-1]):(e(f[0].element).addClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=f[0]),e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")));a.preventDefault();a.stopPropagation()}else b&&(e(b.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=null)}else return!0};this.addHandler(this.host,"keydown",function(a){d.handleKeyDown(a)});d.enableRoundedCorners&&this.host.addClass(d.toThemeProperty("jqx-rc-all"));e.each(this.items,function(){var a=this,b=e(a.element);b.attr("role","menuitem");d.enableRoundedCorners&&b.addClass(d.toThemeProperty("jqx-rc-all"));d.removeHandler(b,"click");d.addHandler(b,"click",function(b){if(!a.disabled&&!d.disabled&&(d.keyboardNavigation&&(d.activeItem&&e(d.activeItem.element).removeClass(d.toThemeProperty("jqx-fill-state-focus")),d.activeItem=a,e(a.element).addClass(d.toThemeProperty("jqx-fill-state-focus")),d.minimized&&b.stopPropagation()),d._raiseEvent("2",{type:"mouse",item:a.element,event:b}),d.autoOpen?d.autoCloseOnClick&&!g&&!d.clickToOpen&&a.closeOnClick&&(b.data=d,d._closeAll(b)):0<a.level&&d.autoCloseOnClick&&!g&&!d.clickToOpen&&(b.data=d,d._closeAll(b)),g&&d.autoCloseOnClick&&(b.data=d,a.hasItems||d._closeAll(b)),"A"!=b.target.tagName&&"a"!=b.target.tagName)){var c=null!=a.anchor?e(a.anchor):null;null!=c&&0<c.length&&(b=c.attr("href"),c=c.attr("target"),null!=b&&(null!=c?window.open(b,c):window.location=b))}});d.removeHandler(b,"mouseenter");d.removeHandler(b,"mouseleave");h||"simple"==d.mode||d._renderHover(b,a,g);if(null!=a.subMenuElement){var m=e(a.subMenuElement);if("simple"==d.mode)return m.show(),!0;m.wrap('\x3cdiv class\x3d"jqx-menu-popup '+d.toThemeProperty("jqx-menu-popup")+'" style\x3d"border: none; background-color: transparent; z-index:'+c+'; padding: 0px; margin: 0px; position: absolute; top: 0; left: 0; display: block; visibility: hidden;"\x3e\x3cdiv style\x3d"background-color: transparent; border: none; position:absolute; overflow:hidden; left: 0; top: 0; right: 0; width: 100%; height: 100%;"\x3e\x3c/div\x3e\x3c/div\x3e');m.css({overflow:"hidden",position:"absolute",left:0,display:"inherit",top:-m.outerHeight()});m.data("timer",{});0<a.level?m.css("left",-m.outerWidth()):"horizontal"==d.mode&&m.css("left",0);c++;var n=e(a.subMenuElement).closest("div.jqx-menu-popup").css({width:parseInt(e(a.subMenuElement).outerWidth())+parseInt(f[0])+"px",height:parseInt(e(a.subMenuElement).outerHeight())+parseInt(f[1])+"px"}),p=b.closest("div.jqx-menu-popup");if(0<p.length){var q=m.css("margin-left"),r=m.css("margin-right"),t=m.css("padding-left"),v=m.css("padding-right");n.appendTo(p)}else q=m.css("margin-left"),r=m.css("margin-right"),t=m.css("padding-left"),v=m.css("padding-right"),n.appendTo(e(document.body));m.css("margin-left",q);m.css("margin-right",r);m.css("padding-left",t);m.css("padding-right",v);if(d.clickToOpen)d.removeHandler(b,"mousedown"),d.addHandler(b,"mousedown",function(b){clearTimeout(m.data("timer").hide);null!=m&&m.stop();0!=a.level||a.isOpen||(b.data=d,d._closeAll(b));a.isOpen?d._closeItem(d,a,!0):d._openItem(d,a)});else{if(g||h)d.removeHandler(b,e.jqx.mobile.getTouchEventName("touchstart")),d.addHandler(b,e.jqx.mobile.getTouchEventName("touchstart"),function(b){clearTimeout(m.data("timer").hide);null!=m&&m.stop();0!=a.level||a.isOpen||"popup"==d.mode||(b.data=d,d._closeAll(b));a.isOpen?d._closeItem(d,a,!0):d._openItem(d,a);return!1});h||(d.addHandler(b,"mouseenter",function(){(d.autoOpen||0<a.level&&!d.autoOpen)&&clearTimeout(m.data("timer").hide);if(!a.parentId||0==a.parentId||!d.menuElements[a.parentId]||d.menuElements[a.parentId].isOpen)return(d.autoOpen||0<a.level&&!d.autoOpen)&&d._openItem(d,a),!1}),d.addHandler(b,"mousedown",function(){d.autoOpen||0!=a.level||(clearTimeout(m.data("timer").hide),null!=m&&m.stop(),a.isOpen?d._closeItem(d,a,!0):d._openItem(d,a))}),d.addHandler(b,"mouseleave",function(b){if(d.autoCloseOnMouseLeave){clearTimeout(m.data("timer").hide);var c=e(a.subMenuElement),f=parseInt(b.pageX);b=parseInt(b.pageY);var g=parseInt(c.coord().left),h=parseInt(c.coord().top),k=parseInt(c.outerWidth()),c=parseInt(c.outerHeight()),n=!0;g-5<=f&&f<=g+k+5&&h<=b&&b<=h+c&&(n=!1);n&&d._closeItem(d,a,!0)}}),d.removeHandler(n,"mouseenter"),d.addHandler(n,"mouseenter",function(){clearTimeout(m.data("timer").hide)}),d.removeHandler(n,"mouseleave"),d.addHandler(n,"mouseleave",function(b){d.autoCloseOnMouseLeave&&(clearTimeout(m.data("timer").hide),clearTimeout(m.data("timer").show),null!=m&&m.stop(),d._closeItem(d,a,!0))}))}}});"simple"==this.mode&&this._renderSimpleMode();this._autoSizeHorizontalMenuItems();this._raiseEvent("3",this)},_renderSimpleMode:function(){this.host.show()},createID:function(){for(var a=Math.random()+"",a=a.replace(".",""),a=("99"+a)/1;this.items[a];)a=Math.random()+"",a=a.replace(".",""),a/=1;return"menuItem"+a},_createMenu:function(a,b){if(null!=a){void 0==b&&(b=!0);null==b&&(b=!0);var c=e(a).find("li"),f=0;this.itemMapping=[];for(var d=0;d<c.length;d++){var g=c[d],h=e(g);if(-1!=g.className.indexOf("jqx-menu")||0!=this.autoGenerate){var l=g.id;l||(l=this.createID());b&&(g.id=l,this.items[f]=new e.jqx._jqxMenu.jqxMenuItem,this.menuElements[l]=this.items[f]);var f=f+1,k=0,m=this;h.children().each(function(){b||(this.className="",m.autoGenerate&&(e(m.items[f-1].subMenuElement)[0].className="",m.minimized||e(m.items[f-1].subMenuElement).addClass(m.toThemeProperty("jqx-widget-content")),e(m.items[f-1].subMenuElement).addClass(m.toThemeProperty("jqx-menu-dropdown")),e(m.items[f-1].subMenuElement).addClass(m.toThemeProperty("jqx-popup"))));if(-1!=this.className.indexOf("jqx-menu-dropdown"))return b&&(m.items[f-1].subMenuElement=this),!1;if(m.autoGenerate&&("ul"==this.tagName||"UL"==this.tagName))return b&&(m.items[f-1].subMenuElement=this),this.className="",m.minimized||e(this).addClass(m.toThemeProperty("jqx-widget-content")),e(this).addClass(m.toThemeProperty("jqx-menu-dropdown")),e(this).addClass(m.toThemeProperty("jqx-popup")),e(this).attr("role","menu"),m.rtl?e(this).addClass(m.toThemeProperty("jqx-rc-l")):e(this).addClass(m.toThemeProperty("jqx-rc-r")),e(this).addClass(m.toThemeProperty("jqx-rc-b")),!1});h.parents().each(function(){if(-1!=this.className.indexOf("jqx-menu-item")||m.autoGenerate&&("li"==this.tagName||"LI"==this.tagName))return k=this.id,!1});var n=!1,p=g.getAttribute("type"),q=g.getAttribute("ignoretheme")||g.getAttribute("data-ignoretheme");if(q){if("true"==q||1==q)q=!0}else q=!1;p?"separator"==p&&(n=!0):p=g.type;n||(p=k?"sub":"top");var r=this.items[f-1];b&&(r.id=l,r.parentId=k,r.type=p,r.separator=n,r.element=c[d],l=h.children("a"),r.disabled="true"==g.getAttribute("item-disabled")?!0:!1,r.level=h.parents("li").length,r.anchor=0<l.length?l:null,r.anchor&&e(r.anchor).attr("tabindex",-1));r.ignoretheme=q;g=this.menuElements[k];null!=g&&(g.ignoretheme&&(q=r.ignoretheme=g.ignoretheme),r.parentItem=g,r.parentElement=g.element);this.autoGenerate&&("separator"==p?(h.removeClass(),h.addClass(this.toThemeProperty("jqx-menu-item-separator")),h.attr("role","separator")):q||(h[0].className="",this.rtl&&h.addClass(this.toThemeProperty("jqx-rtl")),0<r.level&&!m.minimized?(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item"))):(h.addClass(this.toThemeProperty("jqx-item")),h.addClass(this.toThemeProperty("jqx-menu-item-top")))));r.disabled&&(h.addClass(m.toThemeProperty("jqx-menu-item-disabled")),h.addClass(m.toThemeProperty("jqx-fill-state-disabled")));this.itemMapping[d]={element:c[d],item:r};this.itemMapping["id"+c[d].id]=this.itemMapping[d];b&&!q&&(r.hasItems=0<h.find("li").length,r.hasItems&&r.element&&(e.jqx.aria(e(r.element),"aria-haspopup",!0),r.subMenuElement.id||(r.subMenuElement.id=e.jqx.utilities.createId()),e.jqx.aria(e(r.element),"aria-owns",r.subMenuElement.id)))}}for(d=0;d<c.length;d++)if(r=c[d],this.itemMapping["id"+r.id]&&(r=this.itemMapping["id"+r.id].item))r.prevItem=null,r.nextItem=null,0<d&&this.itemMapping["id"+c[d-1].id]&&(r.prevItem=this.itemMapping["id"+c[d-1].id].item),d<c.length-1&&this.itemMapping["id"+c[d+1].id]&&(r.nextItem=this.itemMapping["id"+c[d+1].id].item)}},destroy:function(){var a=this;e.jqx.utilities.resize(a.host,null,!0);var b=a.host.closest("div.jqx-menu-wrapper");a.removeHandler(b,"keydown");b.remove();a.removeHandler(e("#menuWrapper"+a.element.id),"keydown");e("#menuWrapper"+a.element.id).remove();a.removeHandler(a.host,"keydown");a.removeHandler(a.host,"focus");a.removeHandler(a.host,"blur");a.removeHandler(e(document),"mousedown.menu"+a.element.id,a._closeAfterClick);a.removeHandler(e(document),"mouseup.menu"+a.element.id,a._closeAfterClick);a.removeHandler(e(document),"contextmenu."+a.element.id);a.removeHandler(a.host,"contextmenu."+a.element.id);e.data(document.body,"jqxMenuOldHost"+a.element.id,null);a.isTouchDevice()&&a.removeHandler(e(document),e.jqx.mobile.getTouchEventName("touchstart")+".menu"+a.element.id,a._closeAfterClick,this);e(window).off&&e(window).off("resize.menu"+a.element.id);e.each(a.items,function(){var b=e(this.element);a.removeHandler(b,"click");a.removeHandler(b,"selectstart");a.removeHandler(b,"mouseenter");a.removeHandler(b,"mouseleave");a.removeHandler(b,"mousedown");a.removeHandler(b,"mouseleave");e(this.subMenuElement).closest("div.jqx-menu-popup").remove();delete this.subMenuElement;delete this.element});e.data(document.body,"menuel",null);delete a.menuElements;a.items=[];delete a.items;(b=e.data(a.element,"jqxMenu"))&&delete b.instance;a.host.removeClass();a.host.remove();delete a.host;delete a.element},_raiseEvent:function(a,b){void 0==b&&(b={owner:null});var c=this.events[a];args=b;args.owner=this;c=new e.Event(c);"2"==a&&(args=b.item,args.owner=this,args.clickType=b.type,e.extend(c,b.event),c.type="itemclick");c.owner=this;c.args=args;return this.host.trigger(c)},propertyChangedHandler:function(a,b,c,f){if(void 0!=this.isInitialized&&0!=this.isInitialized&&("disabled"==b&&(a.disabled?(a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.host.addClass(a.toThemeProperty("jqx-menu-disabled"))):(a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.host.removeClass(a.toThemeProperty("jqx-menu-disabled")))),f!=c))if("touchMode"==b&&(this._isTouchDevice=null,a._render(f,c)),"width"===b||"height"===b)a.setSize(),"popup"===a.mode&&(this.host.closest("div.jqx-menu-wrapper")[b](f),e("#"+this.host[0].id)[b](f));else{if("source"==b&&null!=a.source){var d=a.loadItems(a.source);a.element.innerHTML=d;d=a.host.find("ul:first");0<d.length&&(a.refresh(),a._createMenu(d[0]),a._render())}"autoCloseOnClick"==b?0==f?a.removeHandler(e(document),"mousedown.menu"+this.element.id,a._closeAll):a.addHandler(e(document),"mousedown.menu"+this.element.id,a,a._closeAll):"mode"==b||"width"==b||"height"==b||"showTopLevelArrows"==b?(a.refresh(),"mode"==b?a._render(f,c):a._applyOrientation()):"theme"==b&&e.jqx.utilities.setTheme(c,f,a.host)}}})})(jqxBaseFramework);(function(e){e.jqx._jqxMenu.jqxMenuItem=function(a,b,c){return{id:a,parentId:b,parentItem:null,anchor:null,type:c,disabled:!1,level:0,isOpen:!1,hasItems:!1,element:null,subMenuElement:null,arrow:null,openHorizontalDirection:"right",openVerticalDirection:"down",closeOnClick:!0}}})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxScrollBar","",{});e.extend(e.jqx._jqxScrollBar.prototype,{defineInstance:function(){var a={height:null,width:null,vertical:!1,min:0,max:1E3,value:0,step:10,largestep:50,thumbMinSize:10,thumbSize:0,thumbStep:"auto",roundedCorners:"all",showButtons:!0,disabled:!1,touchMode:"auto",touchModeStyle:"auto",thumbTouchSize:0,_triggervaluechanged:!0,rtl:!1,areaDownCapture:!1,areaUpCapture:!1,_initialLayout:!1};e.extend(!0,this,a);return a},createInstance:function(a){this.render()},render:function(){this._mouseup=new Date;var a=this;e.jqx.utilities&&"hidden"==e.jqx.utilities.scrollBarButtonsVisibility&&(this.showButtons=!1);a.WinJS?MSApp.execUnsafeLocalFunction(function(){a.host.html("\x3cdiv id\x3d'jqxScrollOuterWrap' style\x3d'box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'\x3e\x3cdiv id\x3d'jqxScrollWrap' style\x3d'box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'\x3e\x3cdiv id\x3d'jqxScrollBtnUp' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollAreaUp' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollThumb' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollAreaDown' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollBtnDown' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e")}):this.element.innerHTML="\x3cdiv id\x3d'jqxScrollOuterWrap' style\x3d'box-sizing: content-box; width:100%; height: 100%; align:left; border: 0px; valign:top; position: relative;'\x3e\x3cdiv id\x3d'jqxScrollWrap' style\x3d'box-sizing: content-box; width:100%; height: 100%; left: 0px; top: 0px; align:left; valign:top; position: absolute;'\x3e\x3cdiv id\x3d'jqxScrollBtnUp' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollAreaUp' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollThumb' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollAreaDown' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3c/div\x3e\x3cdiv id\x3d'jqxScrollBtnDown' style\x3d'box-sizing: content-box; align:left; valign:top; left: 0px; top: 0px; position: absolute;'\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e\x3c/div\x3e";void 0!=this.width&&0<parseInt(this.width)&&this.host.width(parseInt(this.width));void 0!=this.height&&0<parseInt(this.height)&&this.host.height(parseInt(this.height));this.isPercentage=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(this.host.width(this.width),this.isPercentage=!0);null!=this.height&&-1!=this.height.toString().indexOf("%")&&(this.host.height(this.height),this.isPercentage=!0);if(this.isPercentage){var b=this;e.jqx.utilities.resize(this.host,function(){b._arrange()},!1)}this.thumbCapture=!1;this.scrollOuterWrap=e(this.element.firstChild);this.scrollWrap=e(this.scrollOuterWrap[0].firstChild);this.btnUp=e(this.scrollWrap[0].firstChild);this.areaUp=e(this.btnUp[0].nextSibling);this.btnThumb=e(this.areaUp[0].nextSibling);this.arrowUp=e(this.btnUp[0].firstChild);this.areaDown=e(this.btnThumb[0].nextSibling);this.btnDown=e(this.areaDown[0].nextSibling);this.arrowDown=e(this.btnDown[0].firstChild);var c=this.element.id;this.btnUp[0].id="jqxScrollBtnUp"+c;this.btnDown[0].id="jqxScrollBtnDown"+c;this.btnThumb[0].id="jqxScrollThumb"+c;this.areaUp[0].id="jqxScrollAreaUp"+c;this.areaDown[0].id="jqxScrollAreaDown"+c;this.scrollWrap[0].id="jqxScrollWrap"+c;this.scrollOuterWrap[0].id="jqxScrollOuterWrap"+c;if(!this.host.jqxRepeatButton)throw Error("jqxScrollBar: Missing reference to jqxbuttons.js.");this.btnUp.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled});this.btnDown.jqxRepeatButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled});this.btnDownInstance=e.data(this.btnDown[0],"jqxRepeatButton").instance;this.btnUpInstance=e.data(this.btnUp[0],"jqxRepeatButton").instance;this.areaUp.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0});this.areaDown.jqxRepeatButton({_scrollAreaButton:!0,_ariaDisabled:!0,overrideTheme:!0});this.btnThumb.jqxButton({_ariaDisabled:!0,overrideTheme:!0,disabled:this.disabled});this.propertyChangeMap.value=function(a,b,c,e){isNaN(e)||c!=e&&a.setPosition(parseFloat(e),!0)};this.propertyChangeMap.width=function(a,b,c,e){void 0!=a.width&&0<parseInt(a.width)&&(a.host.width(parseInt(a.width)),a._arrange())};this.propertyChangeMap.height=function(a,b,c,e){void 0!=a.height&&0<parseInt(a.height)&&(a.host.height(parseInt(a.height)),a._arrange())};this.propertyChangeMap.theme=function(a,b,c,e){a.setTheme()};this.propertyChangeMap.max=function(a,b,c,e){isNaN(e)||c==e||(a.max=parseInt(e),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))};this.propertyChangeMap.min=function(a,b,c,e){isNaN(e)||c==e||(a.min=parseInt(e),a.min>a.max&&(a.max=a.min+1),a._arrange(),a.setPosition(a.value))};this.propertyChangeMap.disabled=function(a,b,c,e){c!=e&&(e?a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")):a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.btnUp.jqxRepeatButton("disabled",a.disabled),a.btnDown.jqxRepeatButton("disabled",a.disabled),a.btnThumb.jqxButton("disabled",a.disabled))};this.propertyChangeMap.touchMode=function(a,b,c,e){c!=e&&(a._updateTouchBehavior(),!0===e?(a.showButtons=!1,a.refresh()):!1===e&&(a.showButtons=!0,a.refresh()))};this.propertyChangeMap.rtl=function(a,b,c,e){c!=e&&a.refresh()};this.buttonDownCapture=this.buttonUpCapture=!1;this._updateTouchBehavior();this.setPosition(this.value);this._addHandlers();this.setTheme()},resize:function(a,b){this.width=a;this.height=b;this._arrange()},_updateTouchBehavior:function(){this.isTouchDevice=e.jqx.mobile.isTouchDevice();1==this.touchMode?(e.jqx.browser.msie&&9>e.jqx.browser.version||(this.isTouchDevice=!0,e.jqx.mobile.setMobileSimulator(this.btnThumb[0]),this._removeHandlers(),this._addHandlers()),this.setTheme()):0==this.touchMode&&(this.isTouchDevice=!1)},_addHandlers:function(){var a=this,b=!1;try{if("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)this._touchSupport=b=!0}catch(f){}if(a.isTouchDevice||b)this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchend"),function(b){var c=a.vertical?a.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):a.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),e=a.toThemeProperty("jqx-fill-state-pressed");a.btnThumb.removeClass(c);a.btnThumb.removeClass(e);a.disabled||a.handlemouseup(a,b);return!1}),this.addHandler(this.btnThumb,e.jqx.mobile.getTouchEventName("touchstart"),function(b){a.disabled||(1==a.touchMode?(b.clientX=b.originalEvent.clientX,b.clientY=b.originalEvent.clientY):b.originalEvent.touches&&b.originalEvent.touches.length?(b.clientX=b.originalEvent.touches[0].clientX,b.clientY=b.originalEvent.touches[0].clientY):(b.clientX=b.originalEvent.clientX,b.clientY=b.originalEvent.clientY),a.handlemousedown(b),b.preventDefault&&b.preventDefault())}),e.jqx.mobile.touchScroll(this.element,a.max,function(b,c,e,h,l){"visible"==a.host.css("visibility")&&(1==a.touchMode?(l.clientX=l.originalEvent.clientX,l.clientY=l.originalEvent.clientY):l.originalEvent.touches&&l.originalEvent.touches.length?(l.clientX=l.originalEvent.touches[0].clientX,l.clientY=l.originalEvent.touches[0].clientY):(l.clientX=l.originalEvent.clientX,l.clientY=l.originalEvent.clientY),b=a.vertical?a.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):a.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),a.btnThumb.addClass(b),a.btnThumb.addClass(a.toThemeProperty("jqx-fill-state-pressed")),a.thumbCapture=!0,a.handlemousemove(l))},a.element.id);if(!this.isTouchDevice){try{""==document.referrer&&!window.frameElement||null==window.top||window.top==window.self||(b=null,window.parent&&document.referrer&&(b=document.referrer),b&&-1!=b.indexOf(document.location.host)&&(b=function(b){a.disabled||a.handlemouseup(a,b)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",b,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",b)))}catch(f){}this.addHandler(this.btnDown,"click mouseup mousedown",function(b){var c=a.step;Math.abs(a.max-a.min)<=c&&(c=1);a.rtl&&!a.vertical&&(c=-a.step);switch(b.type){case "click":a.buttonDownCapture&&!a.isTouchDevice?a.disabled||a.setPosition(a.value+c):!a.disabled&&a.isTouchDevice&&a.setPosition(a.value+c);break;case "mouseup":if(!a.btnDownInstance.base.disabled&&a.buttonDownCapture)return a.buttonDownCapture=!1,a.btnDown.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.btnDown.removeClass(a.toThemeProperty("jqx-fill-state-pressed")),a._removeArrowClasses("pressed","down"),a.handlemouseup(a,b),a.setPosition(a.value+c),!1;break;case "mousedown":if(!a.btnDownInstance.base.disabled)return a.buttonDownCapture=!0,a.btnDown.addClass(a.toThemeProperty("jqx-fill-state-pressed")),a.btnDown.addClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a._addArrowClasses("pressed","down"),!1}});this.addHandler(this.btnUp,"click mouseup mousedown",function(b){var c=a.step;Math.abs(a.max-a.min)<=c&&(c=1);a.rtl&&!a.vertical&&(c=-a.step);switch(b.type){case "click":a.buttonUpCapture&&!a.isTouchDevice?a.disabled||a.setPosition(a.value-c):!a.disabled&&a.isTouchDevice&&a.setPosition(a.value-c);break;case "mouseup":if(!a.btnUpInstance.base.disabled&&a.buttonUpCapture)return a.buttonUpCapture=!1,a.btnUp.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.btnUp.removeClass(a.toThemeProperty("jqx-fill-state-pressed")),a._removeArrowClasses("pressed","up"),a.handlemouseup(a,b),a.setPosition(a.value-c),!1;break;case "mousedown":if(!a.btnUpInstance.base.disabled)return a.buttonUpCapture=!0,a.btnUp.addClass(a.toThemeProperty("jqx-fill-state-pressed")),a.btnUp.addClass(a.toThemeProperty("jqx-scrollbar-button-state-pressed")),a._addArrowClasses("pressed","up"),!1}})}b="click";this.isTouchDevice&&(b=e.jqx.mobile.getTouchEventName("touchend"));this.addHandler(this.areaUp,b,function(b){if(!a.disabled)return b=a.largestep,a.rtl&&!a.vertical&&(b=-a.largestep),a.setPosition(a.value-b),!1});this.addHandler(this.areaDown,b,function(b){if(!a.disabled)return b=a.largestep,a.rtl&&!a.vertical&&(b=-a.largestep),a.setPosition(a.value+b),!1});this.addHandler(this.areaUp,"mousedown",function(b){if(!a.disabled)return a.areaUpCapture=!0,!1});this.addHandler(this.areaDown,"mousedown",function(b){if(!a.disabled)return a.areaDownCapture=!0,!1});this.addHandler(this.btnThumb,"mousedown dragstart",function(b){if("dragstart"===b.type)return!1;a.disabled||a.handlemousedown(b);b.preventDefault&&b.preventDefault()});this.addHandler(e(document),"mouseup."+this.element.id,function(b){a.disabled||a.handlemouseup(a,b)});if(!this.isTouchDevice&&(this.mousemoveFunc=function(b){a.disabled||a.handlemousemove(b)},this.addHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc),this.addHandler(e(document),"mouseleave."+this.element.id,function(b){a.disabled||a.handlemouseleave(b)}),this.addHandler(e(document),"mouseenter."+this.element.id,function(b){a.disabled||a.handlemouseenter(b)}),!a.disabled)){this.addHandler(this.btnUp,"mouseenter mouseleave",function(b){"mouseenter"===b.type?a.disabled||a.btnUpInstance.base.disabled||1==a.touchMode||(a.btnUp.addClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnUp.addClass(a.toThemeProperty("jqx-fill-state-hover")),a._addArrowClasses("hover","up")):a.disabled||a.btnUpInstance.base.disabled||1==a.touchMode||(a.btnUp.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnUp.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a._removeArrowClasses("hover","up"))});var c=a.toThemeProperty("jqx-scrollbar-thumb-state-hover");a.vertical||(c=a.toThemeProperty("jqx-scrollbar-thumb-state-hover-horizontal"));this.addHandler(this.btnThumb,"mouseenter mouseleave",function(b){"mouseenter"===b.type?a.disabled||1==a.touchMode||(a.btnThumb.addClass(c),a.btnThumb.addClass(a.toThemeProperty("jqx-fill-state-hover"))):a.disabled||1==a.touchMode||(a.btnThumb.removeClass(c),a.btnThumb.removeClass(a.toThemeProperty("jqx-fill-state-hover")))});this.addHandler(this.btnDown,"mouseenter mouseleave",function(b){"mouseenter"===b.type?a.disabled||a.btnDownInstance.base.disabled||1==a.touchMode||(a.btnDown.addClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnDown.addClass(a.toThemeProperty("jqx-fill-state-hover")),a._addArrowClasses("hover","down")):a.disabled||a.btnDownInstance.base.disabled||1==a.touchMode||(a.btnDown.removeClass(a.toThemeProperty("jqx-scrollbar-button-state-hover")),a.btnDown.removeClass(a.toThemeProperty("jqx-fill-state-hover")),a._removeArrowClasses("hover","down"))})}},destroy:function(){var a=this.btnUp,b=this.btnDown,c=this.btnThumb,f=this.areaUp,d=this.areaDown;this.arrowUp.remove();delete this.arrowUp;this.arrowDown.remove();delete this.arrowDown;d.removeClass();f.removeClass();b.removeClass();a.removeClass();c.removeClass();a.jqxRepeatButton("destroy");b.jqxRepeatButton("destroy");f.jqxRepeatButton("destroy");d.jqxRepeatButton("destroy");c.jqxButton("destroy");a=e.data(this.element,"jqxScrollBar");this._removeHandlers();this.scrollOuterWrap=this.areaDown=this.areaUp=this.scrollWrap=this.btnDown=this.btnUp=null;delete this.mousemoveFunc;delete this.btnDownInstance;delete this.btnUpInstance;delete this.scrollOuterWrap;delete this.scrollWrap;delete this.btnDown;delete this.areaDown;delete this.areaUp;delete this.btnDown;delete this.btnUp;delete this.btnThumb;delete this.propertyChangeMap.value;delete this.propertyChangeMap.min;delete this.propertyChangeMap.max;delete this.propertyChangeMap.touchMode;delete this.propertyChangeMap.disabled;delete this.propertyChangeMap.theme;delete this.propertyChangeMap;a&&delete a.instance;this.host.removeData();this.host.remove();delete this.host;delete this.set;delete this.get;delete this.call;delete this.element},_removeHandlers:function(){this.removeHandler(this.btnUp,"mouseenter");this.removeHandler(this.btnDown,"mouseenter");this.removeHandler(this.btnThumb,"mouseenter");this.removeHandler(this.btnUp,"mouseleave");this.removeHandler(this.btnDown,"mouseleave");this.removeHandler(this.btnThumb,"mouseleave");this.removeHandler(this.btnUp,"click");this.removeHandler(this.btnDown,"click");this.removeHandler(this.btnDown,"mouseup");this.removeHandler(this.btnUp,"mouseup");this.removeHandler(this.btnDown,"mousedown");this.removeHandler(this.btnUp,"mousedown");this.removeHandler(this.areaUp,"mousedown");this.removeHandler(this.areaDown,"mousedown");this.removeHandler(this.areaUp,"click");this.removeHandler(this.areaDown,"click");this.removeHandler(this.btnThumb,"mousedown");this.removeHandler(this.btnThumb,"dragstart");this.removeHandler(e(document),"mouseup."+this.element.id);this.mousemoveFunc?this.removeHandler(e(document),"mousemove."+this.element.id,this.mousemoveFunc):this.removeHandler(e(document),"mousemove."+this.element.id);this.removeHandler(e(document),"mouseleave."+this.element.id);this.removeHandler(e(document),"mouseenter."+this.element.id)},_addArrowClasses:function(a,b){"pressed"==a&&(a="selected");""!=a&&(a="-"+a);this.vertical?("up"!=b&&void 0!=b||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),"down"!=b&&void 0!=b||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):("up"!=b&&void 0!=b||this.arrowUp.addClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),"down"!=b&&void 0!=b||this.arrowDown.addClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},_removeArrowClasses:function(a,b){"pressed"==a&&(a="selected");""!=a&&(a="-"+a);this.vertical?("up"!=b&&void 0!=b||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-up"+a)),"down"!=b&&void 0!=b||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-down"+a))):("up"!=b&&void 0!=b||this.arrowUp.removeClass(this.toThemeProperty("jqx-icon-arrow-left"+a)),"down"!=b&&void 0!=b||this.arrowDown.removeClass(this.toThemeProperty("jqx-icon-arrow-right"+a)))},setTheme:function(){var a=this.btnUp,b=this.btnDown,c=this.btnThumb,f=this.scrollWrap,d=this.arrowUp,g=this.arrowDown;this.scrollWrap[0].className=this.toThemeProperty("jqx-reset");this.scrollOuterWrap[0].className=this.toThemeProperty("jqx-reset");var h=this.toThemeProperty("jqx-reset");this.areaDown[0].className=h;this.areaUp[0].className=h;var l=this.toThemeProperty("jqx-scrollbar")+" "+this.toThemeProperty("jqx-widget")+" "+this.toThemeProperty("jqx-widget-content");this.host.addClass(l);b[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");a[0].className=this.toThemeProperty("jqx-scrollbar-button-state-normal");l="";this.vertical?(d[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-up"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-down"),l=this.toThemeProperty("jqx-scrollbar-thumb-state-normal")):(d[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-left"),g[0].className=h+" "+this.toThemeProperty("jqx-icon-arrow-right"),l=this.toThemeProperty("jqx-scrollbar-thumb-state-normal-horizontal"));l+=" "+this.toThemeProperty("jqx-fill-state-normal");c[0].className=l;this.disabled?(f.addClass(this.toThemeProperty("jqx-fill-state-disabled")),f.removeClass(this.toThemeProperty("jqx-scrollbar-state-normal"))):(f.addClass(this.toThemeProperty("jqx-scrollbar-state-normal")),f.removeClass(this.toThemeProperty("jqx-fill-state-disabled")));"all"==this.roundedCorners?(this.host.addClass(this.toThemeProperty("jqx-rc-all")),this.vertical?(f=e.jqx.cssroundedcorners("top"),f=this.toThemeProperty(f),a.addClass(f),a=e.jqx.cssroundedcorners("bottom")):(f=e.jqx.cssroundedcorners("left"),f=this.toThemeProperty(f),a.addClass(f),a=e.jqx.cssroundedcorners("right")),a=this.toThemeProperty(a),b.addClass(a)):(b=e.jqx.cssroundedcorners(this.roundedCorners),b=this.toThemeProperty(b),elBtnUp.addClass(b),elBtnDown.addClass(b));b=e.jqx.cssroundedcorners(this.roundedCorners);b=this.toThemeProperty(b);c.hasClass(b)||c.addClass(b);this.isTouchDevice&&0!=this.touchModeStyle&&(this.showButtons=!1,c.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-normal-touch")))},isScrolling:function(){return void 0==this.thumbCapture||void 0==this.buttonDownCapture||void 0==this.buttonUpCapture||void 0==this.areaDownCapture||void 0==this.areaUpCapture?!1:this.thumbCapture||this.buttonDownCapture||this.buttonUpCapture||this.areaDownCapture||this.areaUpCapture},handlemousedown:function(a){if(void 0==this.thumbCapture||0==this.thumbCapture){this.thumbCapture=!0;var b=this.btnThumb;null!=b&&(b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this.vertical?b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):b.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")))}this.dragStartX=a.clientX;this.dragStartY=a.clientY;this.dragStartValue=this.value},toggleHover:function(a,b){},refresh:function(){this._arrange()},_setElementPosition:function(a,b,c){isNaN(b)||parseInt(a[0].style.left)==parseInt(b)||(a[0].style.left=b+"px");isNaN(c)||parseInt(a[0].style.top)==parseInt(c)||(a[0].style.top=c+"px")},_setElementTopPosition:function(a,b){isNaN(b)||(a[0].style.top=b+"px")},_setElementLeftPosition:function(a,b){isNaN(b)||(a[0].style.left=b+"px")},handlemouseleave:function(a){a=this.btnUp;var b=this.btnDown;if(this.buttonDownCapture||this.buttonUpCapture)a.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),this._removeArrowClasses("pressed");1==this.thumbCapture&&(a=this.btnThumb,b=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),a.removeClass(b),a.removeClass(this.toThemeProperty("jqx-fill-state-pressed")))},handlemouseenter:function(a){a=this.btnUp;var b=this.btnDown;this.buttonUpCapture&&(a.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),a.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","up"));this.buttonDownCapture&&(b.addClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.addClass(this.toThemeProperty("jqx-fill-state-pressed")),this._addArrowClasses("pressed","down"));1==this.thumbCapture&&(a=this.btnThumb,this.vertical?a.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed")):a.addClass(this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal")),a.addClass(this.toThemeProperty("jqx-fill-state-pressed")))},handlemousemove:function(a){var b=this.btnUp,c=this.btnDown;if(null!=c&&null!=b){null!=b&&null!=c&&void 0!=this.buttonDownCapture&&void 0!=this.buttonUpCapture&&(this.buttonDownCapture&&0==a.which?(c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","down"),this.buttonDownCapture=!1):this.buttonUpCapture&&0==a.which&&(b.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),b.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed","up"),this.buttonUpCapture=!1));if(1!=this.thumbCapture)return!1;var e=this.btnThumb;if(0==a.which&&!this.isTouchDevice&&!this._touchSupport)return this.thumbCapture=!1,this._arrange(),a=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal"),e.removeClass(a),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),!0;void 0!=a.preventDefault&&a.preventDefault();null!=a.originalEvent&&(a.originalEvent.mouseHandled=!0);void 0!=a.stopPropagation&&a.stopPropagation();var d=0;try{var d=this.vertical?a.clientY-this.dragStartY:a.clientX-this.dragStartX,g=this._btnAndThumbSize;this._btnAndThumbSize||(g=this.vertical?b.height()+c.height()+e.height():b.width()+c.width()+e.width());var h=(this.max-this.min)/(this.scrollBarSize-g);if("auto"==this.thumbStep)d*=h;else{d*=h;if(Math.abs(this.dragStartValue+d-this.value)>=parseInt(this.thumbStep)){var l=Math.round(parseInt(d)/this.thumbStep)*this.thumbStep;this.rtl&&!this.vertical?this.setPosition(this.dragStartValue-l):this.setPosition(this.dragStartValue+l)}return!1}l=d;this.rtl&&!this.vertical&&(l=-d);this.setPosition(this.dragStartValue+l)}catch(k){alert(k)}return!1}},handlemouseup:function(a,b){var c=!1;if(this.thumbCapture){this.thumbCapture=!1;var c=this.btnThumb,e=this.vertical?this.toThemeProperty("jqx-scrollbar-thumb-state-pressed"):this.toThemeProperty("jqx-scrollbar-thumb-state-pressed-horizontal");c.removeClass(e);c.removeClass(this.toThemeProperty("jqx-fill-state-pressed"));c=!0;this._mouseup=new Date}this.areaDownCapture=this.areaUpCapture=!1;if(this.buttonUpCapture||this.buttonDownCapture)c=this.btnUp,e=this.btnDown,this.buttonDownCapture=this.buttonUpCapture=!1,c.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),e.removeClass(this.toThemeProperty("jqx-scrollbar-button-state-pressed")),c.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),e.removeClass(this.toThemeProperty("jqx-fill-state-pressed")),this._removeArrowClasses("pressed"),c=!0,this._mouseup=new Date;c&&(void 0!=b.preventDefault&&b.preventDefault(),null!=b.originalEvent&&(b.originalEvent.mouseHandled=!0),void 0!=b.stopPropagation&&b.stopPropagation())},setPosition:function(a,b){if(void 0==a||NaN==a)a=this.min;a>=this.max&&(a=this.max);a<this.min&&(a=this.min);if(this.value!==a||1==b){if(a==this.max){var c=new e.Event("complete");this.host.trigger(c)}c=this.value;if(this._triggervaluechanged){var f=new e.Event("valueChanged");f.previousValue=this.value;f.currentValue=a}this.value=a;this._positionelements();this._triggervaluechanged&&this.host.trigger(f);this.valueChanged&&this.valueChanged({currentValue:this.value,previousvalue:c})}return a},val:function(a){var b;a:{for(b in a)if(a.hasOwnProperty(b)){b=!1;break a}b="number"==typeof a||"date"==typeof a||"boolean"==typeof a||"string"==typeof a?!1:!0}if(b||0==arguments.length)return this.value;this.setPosition(a);return a},_getThumbSize:function(a){var b=this.max-this.min,c=0;1<b?c=a/(b+a)*a:1==b?c=a-1:0==b&&(c=a);0<this.thumbSize&&(c=this.thumbSize);c<this.thumbMinSize&&(c=this.thumbMinSize);return Math.min(c,a)},_positionelements:function(){var a=this.areaUp,b=this.areaDown,c=this.btnThumb,e=this._height?this._height:this.host.height(),d=this._width?this._width:this.host.width(),g=this.vertical?d:e;this.showButtons||(g=0);var h=this.vertical?e:d;this.scrollBarSize=h;e=this._getThumbSize(h-2*g);e=Math.floor(e);e<this.thumbMinSize&&(e=this.thumbMinSize);this.btnSize=g+=2;var l=this._btnAndThumbSize;this._btnAndThumbSize||(l=this.vertical?2*this.btnSize+c.outerHeight():2*this.btnSize+c.outerWidth(),l=Math.round(l));d=(h-l)/(this.max-this.min)*(this.value-this.min);this.rtl&&!this.vertical&&(d=(h-l)/(this.max-this.min)*(this.max-this.value-this.min));d=Math.round(d);0>d&&(d=0);this.vertical?(h=h-d-l,0>h&&(h=0),b[0].style.height=h+"px",a[0].style.height=d+"px",this._setElementTopPosition(a,g),this._setElementTopPosition(c,g+d),this._setElementTopPosition(b,g+d+e)):(a[0].style.width=d+"px",b[0].style.width=0<=h-d-l?h-d-l+"px":"0px",this._setElementLeftPosition(a,g),this._setElementLeftPosition(c,g+d),this._setElementLeftPosition(b,2+g+d+e))},_arrange:function(){if(this._initialLayout)this._initialLayout=!1;else{if(this.min>this.max){var a=this.min;this.min=this.max;this.max=a}0>this.min&&(a=this.max-this.min,this.min=0,this.max=a);var a=this.areaUp,b=this.areaDown,c=this.btnUp,e=this.btnDown,d=this.btnThumb,g=this.scrollWrap,h=parseInt(this.element.style.height),l=parseInt(this.element.style.width);this.isPercentage&&(h=this.host.height(),l=this.host.width());isNaN(h)&&(h=0);isNaN(l)&&(l=0);this._width=l;this._height=h;var k=this.vertical?l:h;this.showButtons||(k=0);c[0].style.width=k+"px";c[0].style.height=k+"px";e[0].style.width=k+"px";e[0].style.height=k+"px";this.vertical?g[0].style.width=l+2+"px":g[0].style.height=h+2+"px";this._setElementPosition(c,0,0);c=k+2;this.vertical?this._setElementPosition(e,0,h-c):this._setElementPosition(e,l-c,0);var m=this.vertical?h:l;this.scrollBarSize=m;e=this._getThumbSize(m-2*c);e=Math.floor(e-2);e<this.thumbMinSize&&(e=this.thumbMinSize);g=!1;this.isTouchDevice&&0!=this.touchModeStyle&&(g=!0);this.vertical?(d[0].style.width=l+"px",d[0].style.height=e+"px",g&&0!==this.thumbTouchSize&&(d.css({width:this.thumbTouchSize+"px"}),d.css("margin-left",(this.host.width()-this.thumbTouchSize)/2))):(d[0].style.width=e+"px",d[0].style.height=h+"px",g&&0!==this.thumbTouchSize&&(d.css({height:this.thumbTouchSize+"px"}),d.css("margin-top",(this.host.height()-this.thumbTouchSize)/2)));if(NaN==h||10>h)h=10;if(NaN==l||10>l)l=10;this.btnSize=k;g=this.vertical?2*c+(2+parseInt(d[0].style.height)):2*c+(2+parseInt(d[0].style.width));this._btnAndThumbSize=g=Math.round(g);var n=(m-g)/(this.max-this.min)*(this.value-this.min);this.rtl&&!this.vertical&&(n=(m-g)/(this.max-this.min)*(this.max-this.value-this.min));n=Math.round(n);if(isNaN(n)||0>n||-Infinity===n||Infinity===n)n=0;if(this.vertical){h=m-n-g;0>h&&(h=0);b[0].style.height=h+"px";b[0].style.width=l+"px";a[0].style.height=n+"px";a[0].style.width=l+"px";h=parseInt(this.element.style.height);this.isPercentage&&(h=this.host.height());d[0].style.visibility="inherit";if(0>h-3*parseInt(k)||h<g)d[0].style.visibility="hidden";this._setElementPosition(a,0,c);this._setElementPosition(d,0,c+n);this._setElementPosition(b,0,c+n+e)}else{0<n&&(a[0].style.width=n+"px");0<h&&(a[0].style.height=h+"px");l=m-n-g;0>l&&(l=0);b[0].style.width=l+"px";b[0].style.height=h+"px";h=parseInt(this.element.style.width);this.isPercentage&&(h=this.host.width());d[0].style.visibility="inherit";if(0>h-3*parseInt(k)||h<g)d[0].style.visibility="hidden";this._setElementPosition(a,c,0);this._setElementPosition(d,c+n,0);this._setElementPosition(b,c+n+e,0)}}}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxSplitter","",{});e.extend(e.jqx._jqxSplitter.prototype,{defineInstance:function(){var a={width:300,height:300,panels:[],orientation:"vertical",disabled:!1,splitBarSize:5,touchSplitBarSize:15,panel1:null,panel2:null,_eventsMap:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave"},_isTouchDevice:!1,_isNested:!1,resizable:!0,touchMode:"auto",showSplitBar:!0,initContent:null,_events:["resize","expanded","collapsed","resizeStart","layout"]};e.extend(!0,this,a);return a},createInstance:function(){this.render()},_initOverlay:function(a){this.overlay||"undefined"==a?(this.overlay.remove(),this.overlay=null):1==a&&(this.overlay=e("\x3cdiv style\x3d'z-index: 100; background: #fff;'\x3e\x3c/div\x3e"),this.overlay.css("opacity",.01),this.overlay.css("position","absolute"),this.overlay.appendTo(e(document.body)),this.host.coord(),this.overlay.css("left","0px"),this.overlay.css("top","0px"),this.overlay.width(e(window).width()),this.overlay.height(e(window).height()),this.overlay.addClass("jqx-disableselect"),"horizontal"==this.orientation?this.overlay.css("cursor","row-resize"):this.overlay.css("cursor","col-resize"))},_startDrag:function(a){return a.target==this.splitBarButton[0]||this.disabled||this.panels[0].collapsed||this.panels[1].collapsed||!this.resizable?!0:null==this.overlay?(this._dragging=!0,this._initOverlay(!0),this._dragStart=e.jqx.position(a),!1):!0},_drag:function(a){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled||!this._dragging)return!0;var b="horizontal"==this.orientation?"top":"left",c="vertical"==this.orientation?"width":"height";this._position=e.jqx.position(a);if(this.overlay&&!this._splitBarClone&&3<=Math.abs(this._position[b]-this._dragStart[b]))a=this.splitBar.coord(),this._cloneStart={left:a.left,top:a.top},this._splitBarClone=this._createSplitBarClone(),this._raiseEvent(3,{panels:this.panels});else{if(this._splitBarClone){var f,d,g=this.host[c](),h=g/100,c=this._splitBarClone[c]()+2;f=parseInt(this.host.coord()[b]);var l=this._position[b]-this._dragStart[b]+this._cloneStart[b]-f;0>l&&(l=0);l>g+0-c&&(l=g+0-c);f=this.panels[0].min;d=this.panels[1].min;-1!=d.toString().indexOf("%")&&(d=parseFloat(d)*h);-1!=f.toString().indexOf("%")&&(f=parseFloat(f)*h);this._splitBarClone.removeClass(this.toThemeProperty("jqx-splitter-splitbar-invalid"));l<f&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),l=f);l>g+0-c-d&&(this._splitBarClone.addClass(this.toThemeProperty("jqx-splitter-splitbar-invalid")),l=g+0-c-d);this._splitBarClone.css(b,l);a.preventDefault&&a.preventDefault();a.stopPropagation&&a.stopPropagation();return!1}return!0}},resize:function(a,b){this.width=a;this.height=b;this._arrange()},_resize:function(){var a="horizontal"==this.orientation?"height":"width",b=this._splitBarClone.css("horizontal"==this.orientation?"top":"left"),a=1/(this.host[a]()/100);-1!=this.panels[0].size.toString().indexOf("%")?this.panels[0].size=parseFloat(b)*a+"%":this.panels[0].size=parseFloat(b);this._layoutPanels();this._raiseEvent(0,{panels:this.panels})},_stopDrag:function(){this._dragging&&this._initOverlay();this._dragging=!1;if(this._splitBarClone){if(this.panels[0].collapsed||this.panels[1].collapsed||this.disabled)return!0;this._resize();this._splitBarClone.remove();this._splitBarClone=null}},_createSplitBarClone:function(){var a=this.splitBar.clone();a.fadeTo(0,.7);a.css("z-index",99999);"vertical"==this.orientation?a.css("cursor","col-resize"):a.css("cursor","row-resize");this.host.append(a);return a},_eventName:function(a){return this._isTouchDevice?this._eventsMap[a]:a},_addHandlers:function(){var a=this;e.jqx.utilities.resize(this.host,function(){a._layoutPanels()});this.addHandler(this.splitBar,"dragstart."+this.element.id,function(a){return!1});this.splitBarButton&&(this.addHandler(this.splitBarButton,"click."+this.element.id,function(){a.panels[0].collapsible?a.panels[0].collapsed?a.expand():a.collapse():a.panels[1].collapsible&&(a.panels[1].collapsed?a.expand():a.collapse())}),this.addHandler(this.splitBarButton,this._eventName("mouseenter"),function(){a.splitBarButton.addClass(a.toThemeProperty("jqx-splitter-collapse-button-hover"));a.splitBarButton.addClass(a.toThemeProperty("jqx-fill-state-hover"))}),this.addHandler(this.splitBarButton,this._eventName("mouseleave"),function(){a.splitBarButton.removeClass(a.toThemeProperty("jqx-splitter-collapse-button-hover"));a.splitBarButton.removeClass(a.toThemeProperty("jqx-fill-state-hover"))}));this.addHandler(e(document),this._eventName("mousemove")+"."+this.element.id,function(b){return a._drag(b)});this.addHandler(e(document),this._eventName("mouseup")+"."+this.element.id,function(){return a._stopDrag()});this.addHandler(this.splitBar,this._eventName("mousedown"),function(b){return a._startDrag(b)});this.addHandler(this.splitBar,this._eventName("mouseenter"),function(){a.resizable&&!a.disabled&&(a.splitBar.addClass(a.toThemeProperty("jqx-splitter-splitbar-hover")),a.splitBar.addClass(a.toThemeProperty("jqx-fill-state-hover")))});this.addHandler(this.splitBar,this._eventName("mouseleave"),function(){a.resizable&&!a.disabled&&(a.splitBar.removeClass(a.toThemeProperty("jqx-splitter-splitbar-hover")),a.splitBar.removeClass(a.toThemeProperty("jqx-fill-state-hover")))});if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var b=null;window.parent&&document.referrer&&(b=document.referrer);b&&-1!=b.indexOf(document.location.host)&&(b=function(b){a._stopDrag()},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",b,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",b))}},_removeHandlers:function(){this.removeHandler(e(window),"resize."+this.element.id);this.splitBarButton&&(this.removeHandler(this.splitBarButton,"click."+this.element.id),this.removeHandler(this.splitBarButton,this._eventName("mouseenter")),this.removeHandler(this.splitBarButton,this._eventName("mouseleave")));this.removeHandler(e(document),this._eventName("mousemove")+"."+this.element.id);this.removeHandler(e(document),this._eventName("mouseup")+"."+this.element.id);this.splitBar&&(this.removeHandler(this.splitBar,"dragstart."+this.element.id),this.removeHandler(this.splitBar,this._eventName("mousedown")),this.removeHandler(this.splitBar,this._eventName("mouseenter")),this.removeHandler(this.splitBar,this._eventName("mouseleave")))},render:function(){this.splitBar&&this.splitBar.remove();var a=this.host.children();if(2!=a.length)throw"Invalid HTML Structure! jqxSplitter requires 1 container DIV tag and 2 nested DIV tags.";if(2==a.length){var b=a[0].className.split(" "),a=a[1].className.split(" ");if(-1!=b.indexOf("jqx-reset")&&-1!=b.indexOf("jqx-splitter")&&-1!=b.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";if(-1!=a.indexOf("jqx-reset")&&-1!=a.indexOf("jqx-splitter")&&-1!=a.indexOf("jqx-widget"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";}if(0<this.host.parent().length&&-1!=this.host.parent()[0].className.indexOf("jqx-splitter")){if(-1!=this.element.className.indexOf("jqx-splitter-panel"))throw"Invalid HTML Structure! Nested jqxSplitter cannot be initialized from a Splitter Panel. You need to add a new DIV tag inside the Splitter Panel and initialize the nested jqxSplitter from it!";this._isNested=!0;300==this.width&&(this.width="100%");300==this.height&&(this.height="100%");"100%"==this.width&&"100%"==this.height&&(this.host.addClass("jqx-splitter-nested"),-1!=this.host.parent()[0].className.indexOf("jqx-splitter-panel")&&this.host.parent().addClass("jqx-splitter-panel-nested"))}this._hasBorder=0==this.host.hasClass("jqx-hideborder")||""!=this.element.style.borderTopWidth;this._removeHandlers();this._isTouchDevice=e.jqx.mobile.isTouchDevice();this._validate();this.panel1.css("left","0px");this.panel1.css("top","0px");this.panel2.css("left","0px");this.panel2.css("top","0px");this.splitBar=e("\x3cdiv\x3e\x3cdiv\x3e\x3c/div\x3e\x3c/div\x3e");this.resizable||this.splitBar.css("cursor","default");this.splitBarButton=this.splitBar.find("div:last");this._setTheme();this.splitBar.insertAfter(this.panel1);this._arrange();0==this.panels[0].collapsible&&0==this.panels[1].collapsible&&this.splitBarButton.hide();this._addHandlers();this.initContent&&this.initContent();this.disabled&&this.disable()},_hiddenParent:function(){return e.jqx.isHidden(this.host)},_setTheme:function(){this.panel1.addClass(this.toThemeProperty("jqx-widget-content"));this.panel2.addClass(this.toThemeProperty("jqx-widget-content"));this.panel1.addClass(this.toThemeProperty("jqx-splitter-panel"));this.panel2.addClass(this.toThemeProperty("jqx-splitter-panel"));this.panel1.addClass(this.toThemeProperty("jqx-reset"));this.panel2.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-reset"));this.host.addClass(this.toThemeProperty("jqx-splitter"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-"+this.orientation));this.splitBar.addClass(this.toThemeProperty("jqx-fill-state-normal"));this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-collapse-button-"+this.orientation));this.splitBarButton.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_validate:function(){var a=this.host.children();if(2!=a.length)throw"Invalid HTML Structure! jqxSplitter requires two nested DIV tags!";this.panels&&!this.panels[1]?this.panels[0]?this.panels[1]={}:this.panels=[{size:"50%"},{size:"50%"}]:void 0==this.panels&&(this.panels=[{size:"50%"},{size:"50%"}]);a=this.host.children();this.panel1=this.panels[0].element=e(a[0]);this.panel2=this.panels[1].element=e(a[1]);this.panel1[0].style.minWidth="";this.panel1[0].style.maxWidth="";this.panel2[0].style.minWidth="";this.panel2[0].style.maxWidth="";e.each(this.panels,function(){void 0==this.min&&(this.min=0);void 0==this.size&&(this.size=0);0>this.size&&(this.size=0);0>this.min&&(this.min=0);void 0==this.collapsible&&(this.collapsible=!0);void 0==this.collapsed&&(this.collapsed=!1);0!=this.size&&(-1!=this.size.toString().indexOf("px")&&(this.size=parseInt(this.size)),-1==this.size.toString().indexOf("%")?parseInt(this.min)>parseInt(this.size)&&(this.min=this.size):-1!=this.min.toString().indexOf("%")&&parseInt(this.min)>parseInt(this.size)&&(this.min=this.size))})},_arrange:function(){if(null!=this.width){var a=this.width;"string"!=typeof a&&(a=parseInt(this.width)+"px");this.host.css("width",a)}null!=this.height&&(a=this.height,"string"!=typeof a&&(a=parseInt(this.height)+"px"),this.host.css("height",a));this._splitBarSize=this._isTouchDevice?this.touchSplitBarSize:this.splitBarSize;this.showSplitBar||(this._splitBarSize=0,this.splitBar.hide());a="horizontal"==this.orientation?"width":"height";this.splitBar.css(a,"100%");this.panel1.css(a,"100%");this.panel2.css(a,"100%");"horizontal"==this.orientation?this.splitBar.height(this._splitBarSize):this.splitBar.width(this._splitBarSize);"vertical"===this.orientation?(this.splitBarButton.width(this._splitBarSize),this.splitBarButton.height(45)):(this.splitBarButton.height(this._splitBarSize),this.splitBarButton.width(45));this.splitBarButton.css("position","relative");"vertical"===this.orientation?(this.splitBarButton.css("top","50%"),this.splitBarButton.css("left","0"),this.splitBarButton.css("margin-top","-23px"),this.splitBarButton.css("margin-left","-0px")):(this.splitBarButton.css("left","50%"),this.splitBarButton.css("top","0"),this.splitBarButton.css("margin-left","-23px"),this.splitBarButton.css("margin-top","-0px"));this._layoutPanels()},collapse:function(){if(!this.disabled){var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1;this.panels[0].element[0].style.visibility="inherit";this.panels[1].element[0].style.visibility="inherit";this.panels[0].collapsible?a=0:this.panels[1].collapsible&&(a=1);-1!=a&&(this.panels[a].collapsed=!0,this.panels[a].element[0].style.visibility="hidden",this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(2,{index:a,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},expand:function(){if(!this.disabled){var a=-1;this.panels[0].collapsed=this.panels[1].collapsed=!1;this.panels[0].element[0].style.visibility="inherit";this.panels[1].element[0].style.visibility="inherit";this.panels[0].collapsible?a=0:this.panels[1].collapsible&&(a=1);-1!=a&&(this.panels[a].collapsed=!1,this.panels[a].element[0].style.visibility="inherit",this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed")),this._layoutPanels(),this._raiseEvent(1,{index:a,panels:this.panels}),this._raiseEvent(0,{panels:this.panels}))}},disable:function(){this.disabled=!0;this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this.splitBar.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this.splitBarButton.addClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},enable:function(){this.disabled=!1;this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled"));this.splitBar.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"));this.splitBarButton.removeClass(this.toThemeProperty("jqx-splitter-splitbar-collapsed"))},refresh:function(a){1!=a&&this._arrange()},propertyChangedHandler:function(a,b,c,f){"panels"===b||"orientation"===b||"showSplitBar"===b?a.render():("touchMode"===b&&(a._isTouchDevice=f),"disabled"===b?f?a.disable():a.enable():"theme"===b?e.jqx.utilities.setTheme(c,f,a.host):a.refresh())},_layoutPanels:function(){var a="horizontal"==this.orientation?"height":"width",b="horizontal"==this.orientation?"top":"left",c,e,d,g,h=parseInt(this._splitBarSize)+2;this.showSplitBar||(h=0);var l=this.host[a](),k=l/100,m=1/k,n=m*h,p=this.panel1,q=this.panel2,r=this.panels[0].size;this.panels[0].collapsed&&(d=!0);this.panels[1].collapsed&&(g=!0);c=this.panels[0].min;e=this.panels[1].min;-1!=e.toString().indexOf("%")&&(e=parseFloat(e)*k);-1!=c.toString().indexOf("%")&&(c=parseFloat(c)*k);this._isNested&&this._isTouchDevice&&("horizontal"==this.orientation?(p.width(this.host.width()),q.width(this.host.width())):(p.height(this.host.height()),q.height(this.host.height())));if(d)c=Math.max(e,l-h),p[a](0),q[a](c);else if(g)c=Math.max(c,l-h),q[a](0),p[a](c);else if(-1!=r.toString().indexOf("%"))d=100-parseFloat(r),p.css(a,parseFloat(r)+"%"),q.css(a,d-n+"%"),d=q[a](),d<e&&(e=(d-e)*m,r=parseFloat(r)+parseFloat(e),d=100-parseFloat(r),p.css(a,parseFloat(r)+"%"),d-=n,q.css(a,d+"%")),p[a]()<c&&p.css(a,parseFloat(c*m)+"%");else{d=l-r-h;if(p[0].style[a]!=r+"px")p[a](r);if(q[0].style[a]!=d+"px")q[a](d);d<e&&(r+=d-e,q[a](e),p[a](r));if(r<c)p[a](c)}a=this.panel1[a]();this.splitBar[0].style[b]!=a+"px"&&("vertical"==this.orientation?(this.splitBar[0].style.borderLeftColor="",this.splitBar[0].style.borderRightColor="",this.splitBarButton[0].style.width=parseInt(this._splitBarSize)+"px",this.splitBarButton[0].style.left="0px"):(this.splitBar[0].style.borderTopColor="",this.splitBar[0].style.borderBottomColor="",this.splitBarButton[0].style.height=parseInt(this._splitBarSize)+"px",this.splitBarButton[0].style.top="0px"),this._hasBorder&&(l-h==a?"vertical"==this.orientation?(this.splitBar[0].style.borderRightColor="transparent",this.splitBarButton[0].style.width=parseInt(this._splitBarSize+1)+"px"):(this.splitBar[0].style.borderBottomColor="transparent",this.splitBarButton[0].style.height=parseInt(this._splitBarSize+1)+"px"):0==a&&("vertical"==this.orientation?(this.splitBar[0].style.borderLeftColor="transparent",this.splitBarButton[0].style.width=parseInt(this._splitBarSize+1)+"px",this.splitBarButton[0].style.left="-1px"):(this.splitBar[0].style.borderTopColor="transparent",this.splitBarButton[0].style.height=parseInt(this._splitBarSize+1)+"px",this.splitBarButton[0].style.top="-1px"))),this.splitBar[0].style[b]=a+"px");this.panel2[0].style[b]!=a+h+"px"&&(this.panel2[0].style[b]=a+h+"px");this._raiseEvent(4,{panels:this.panels})},destroy:function(){this._removeHandlers();e.jqx.utilities.resize(this.host,null,!0);this.host.remove()},_raiseEvent:function(a,b){var c=new e.Event(this._events[a]);c.owner=this;c.args=b;var f=[{},{}];f[0].size="vertical"==this.orientation?this.panel1[0].offsetWidth:this.panel1[0].offsetHeight;f[1].size="vertical"==this.orientation?this.panel2[0].offsetWidth:this.panel2[0].offsetHeight;f[0].min=this.panels[0].min;f[1].min=this.panels[1].min;f[0].collapsible=this.panels[0].collapsible;f[1].collapsible=this.panels[1].collapsible;f[0].collapsed=this.panels[0].collapsed;f[1].collapsed=this.panels[1].collapsed;c.args.panels=f;return this.host.trigger(c)}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxTabs","",{});e.extend(e.jqx._jqxTabs.prototype,{defineInstance:function(){var a={scrollAnimationDuration:200,enabledHover:!0,disabled:!1,collapsible:!1,animationType:"none",enableScrollAnimation:!0,contentTransitionDuration:450,toggleMode:"click",selectedItem:0,height:"auto",width:"auto",position:"top",selectionTracker:!1,scrollable:!0,scrollPosition:"right",scrollStep:70,autoHeight:!0,headerHeight:null,showCloseButtons:!1,canCloseAllTabs:!0,closeButtonSize:16,arrowButtonSize:16,keyboardNavigation:!0,reorder:!1,selectionTrackerAnimationDuration:300,_isTouchDevice:!1,roundedCorners:!0,_headerExpandingBalance:0,_dragStarted:!1,_tabCaptured:!1,_lastUnorderedListPosition:0,_selectedItem:0,_titleList:[],_contentList:[],_contentWrapper:null,_unorderedList:null,_scrollTimeout:null,isCollapsed:!1,touchMode:!1,initTabContent:null,enableDropAnimation:!1,_currentEvent:null,_needScroll:!0,_isAnimated:{},_events:"created selected add removed enabled disabled selecting unselecting unselected dragStart dragEnd locked unlocked collapsed expanded tabclick".split(" "),_initTabContentList:[],_invalidArgumentExceptions:{invalidScrollAnimationDuration:"The scroll animation duration is not valid!",invalidWidth:"Width you've entered is invalid!",invalidHeight:"Height you've entered is invalid!",invalidAnimationType:"You've entered invalid animation type!",invalidcontentTransitionDuration:"You've entered invalid value for contentTransitionDuration!",invalidToggleMode:"You've entered invalid value for toggleMode!",invalidPosition:"You've entered invalid position!",invalidScrollPosition:"You've entered invalid scroll position!",invalidScrollStep:"You've entered invalid scroll step!",invalidStructure:"Invalid structure!",invalidArrowSize:"Invalid scroll button size!",invalidCloseSize:"Invalid close button size!"},aria:{"aria-disabled":{name:"disabled",type:"boolean"}},rtl:!1};e.extend(!0,this,a);return a},createInstance:function(){e.jqx.aria(this);this.host.addClass(this.toThemeProperty("jqx-tabs"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.attr("role","tablist");this._unorderedList=this.host.children("ul");this._titleList=this.host.children("ul").children("li");this._contentList=this.host.children("div");this._selectedItem=this.selectedItem;this._isTouchDevice=e.jqx.mobile.isTouchDevice();this._needScroll=this.scrollable;this.selectionTracker&&(this.selectionTracker=this._seletionTrackerBrowserCheck());this._isTouchDevice&&(this.keyboardNavigation=this.reorder=!1);for(var a=this.length();a;)a--,this._titleList[a]=e(this._titleList[a]),this._titleList[a].attr("role","tab"),this._contentList[a]=e(this._contentList[a]),this._contentList[a].attr("role","tabpanel");this._validateProperties();this._refresh();this._moveSelectionTrack(this._selectedItem,0);this.disabled&&this.disable();this.element.tabIndex=0;this._raiseEvent(0);this._enableWindowResize()},_hiddenParent:function(){if("none"==this.host.css("display"))return!0;var a=!1;e.each(this.host.parents(),function(){if("none"==e(this).css("display"))return a=!0,!1});return a},_enableWindowResize:function(){var a=this,b=e.jqx.isHidden(a.host);e.jqx.utilities.resize(this.host,function(){b?(a._uiRefresh(!0),b=!1):a.refresh()})},resize:function(a,b){this.width=a;this.height=b;e.jqx.isHidden(this.host)?this._uiRefresh(!0):this.refresh()},refresh:function(a){1==a&&void 0!=a||this._performResize()},_seletionTrackerBrowserCheck:function(){var a="Browser CodeName: "+navigator.appCodeName+"",a=a+("Browser Name: "+navigator.appName+""),a=a+("Browser Version: "+navigator.appVersion+""),a=a+("Platform: "+navigator.platform+""),a=a+("User-agent header: "+navigator.userAgent+"");return-1!=a.indexOf("IEMobile")||-1!=a.indexOf("Windows Phone OS")||e.jqx.browser.msie&&7>=e.jqx.browser.version?!1:!0},render:function(){this._refresh()},_uiRefresh:function(a){this._unorderedListLeftBackup=this._unorderedList.css("left");a&&this._render();this._addStyles();this._performLayout();this._prepareTabs();this._removeEventHandlers();this._addEventHandlers();"auto"===this._unorderedListLeftBackup&&(this._unorderedListLeftBackup=this._getArrowsDisplacement());this._unorderedList.css("left",this._unorderedListLeftBackup);this.rtl&&this.scrollable&&this._rightArrow&&"hidden"!=this._rightArrow.css("visibility")&&(a=2*this.arrowButtonSize,a=this.host.width()-parseInt(this._unorderedList.width()+a+ +parseInt(this._unorderedList.css("margin-left")),10),this._unorderedList.css("left",a+"px"))},_refresh:function(){e.jqx.isHidden(this.host)||this._uiRefresh(!0)},_addStyles:function(){this._unorderedList.addClass(this.toThemeProperty("jqx-tabs-title-container"));this._unorderedList.css({outline:"none","white-space":"nowrap","margin-top":"0px","margin-bottom":"0px",padding:"0px",background:"transparent",border:"none","border-style":"none","text-indent":"0px"});for(var a=this.length();a;)switch(a--,this._titleList[a].removeClass(),this._titleList[a].css("padding",""),this._titleList[a].addClass("jqx-reset"),this._titleList[a].addClass("jqx-disableselect"),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title")),this._titleList[a].addClass(this.toThemeProperty("jqx-item")),"bottom"==this.position&&this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-bottom")),this._titleList[a].disabled&&(this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled"))),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._titleList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case "top":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-t"));this._contentList[a].addClass(this.toThemeProperty("jqx-rc-b"));break;case "bottom":this._titleList[a].addClass(this.toThemeProperty("jqx-rc-b")),this._contentList[a].addClass(this.toThemeProperty("jqx-rc-t"))}if(this.selectionTracker)switch(this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-b")),this._selectionTracker.removeClass(this.toThemeProperty("jqx-rc-t")),this.position){case "top":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-t"));break;case "bottom":this._selectionTracker.addClass(this.toThemeProperty("jqx-rc-b"))}},_raiseEvent:function(a,b){var c=new e.Event(this._events[a]);c.owner=this;c.args=b;if(6===a||7===a)c.cancel=!1,this._currentEvent=c;var f="";try{if(f=this.host.trigger(c),1==a){var d=this;this.selectionTracker||"none"!=this.animationType?setTimeout(function(){!d._initTabContentList[d.selectedItem]&&d.initTabContent&&(d.initTabContent(d.selectedItem),d._initTabContentList[d.selectedItem]=!0);var a=new e.Event("loadContent");a.owner=this;0<d._contentList.length&&d._contentList[d.selectedItem]&&d._contentList[d.selectedItem].find("div").trigger(a)},50+d.selectionTrackerAnimationDuration):(c=new e.Event("loadContent"),!d._initTabContentList[d.selectedItem]&&d.initTabContent&&(d.initTabContent(d.selectedItem),d._initTabContentList[d.selectedItem]=!0),c.owner=this,c=new e.Event("resize"),this.host.trigger(c))}}catch(g){}return f},_getArrowsDisplacement:function(){if(!this._needScroll)return 0;var a=this.arrowButtonSize,b=this.arrowButtonSize;return"left"===this.scrollPosition?a+b:"both"===this.scrollPosition?a:0},_scrollRight:function(a,b){this._unorderedList.stop();this._unlockAnimation("unorderedList");var c=parseInt(this._unorderedList.width()+parseInt(this._unorderedList.css("margin-left")),10),e=parseInt(this.host.width(),10),d,g,h=parseInt(this._unorderedList.css("left"),10),l=this._getArrowsDisplacement(),k=0,m=void 0;this.scrollable?(d=parseInt(this._leftArrow.outerWidth(),10),g=parseInt(this._rightArrow.outerWidth(),10)):g=d=0;a=this.enableScrollAnimation?a:0;parseInt(this._headerWrapper.width(),10)>parseInt(this._unorderedList.css("margin-left"))+parseInt(this._unorderedList.width(),10)?k=l:Math.abs(h)+this.scrollStep<Math.abs(e-c)+d+g+l?(k=h-this.scrollStep,m=h-this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(k=e-c-(2*this.arrowButtonSize-l),k<parseInt(this._unorderedList.css("left"),10)-4&&k>parseInt(this._unorderedList.css("left"),10)+4&&(m=e-c-d-g+parseInt(this._titleList[this._selectedItem].position().left)));this._performScrollAnimation(k,m,a)},_scrollLeft:function(a,b){this._unorderedList.stop();this._unlockAnimation("unorderedList");var c=parseInt(this._unorderedList.css("left")),e=this._getArrowsDisplacement(),d=0,g=void 0;a=this.enableScrollAnimation?a:0;parseInt(this._headerWrapper.width())>=parseInt(this._unorderedList.width())?d=e:c+this.scrollStep<e?(d=c+this.scrollStep,g=c+this.scrollStep+parseInt(this._titleList[this._selectedItem].position().left)):(d=e,d<parseInt(this._unorderedList.css("left"))-4&&d>parseInt(this._unorderedList.css("left"))+4&&(g=parseInt(this._titleList[this._selectedItem].position().left)));this._performScrollAnimation(d,g,a)},_performScrollAnimation:function(a,b,c){var e=this;void 0!==b&&this._moveSelectionTrack(this._selectedItem,0,b);this._lockAnimation("unorderedList");this._unorderedList.animate({left:a},c,function(){e._moveSelectionTrack(e.selectedItem,0);e._unlockAnimation("unorderedList")})},_addKeyboardHandlers:function(){var a=this;this.keyboardNavigation&&this.addHandler(this.host,"keydown",function(b){if(!a._activeAnimation()){var c=a.selectionTracker,f=a.getContentAt(a._selectedItem);if(e(b.target).ischildof(f))return!0;switch(b.keyCode){case 37:return a.rtl?a.next():a.previous(),!1;case 39:return a.rtl?a.previous():a.next(),!1;case 36:return a.first(),!1;case 35:return a.last(),!1;case 27:a._tabCaptured&&(a._cancelClick=!0,a._uncapture(null,a.selectedItem),a._tabCaptured=!1)}a.selectionTracker=c}return!0})},_addScrollHandlers:function(){var a=this;this.addHandler(this._leftArrow,"mousedown",function(){a._startScrollRepeat(!0,a.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mousedown",function(){a._startScrollRepeat(!1,a.scrollAnimationDuration)});this.addHandler(this._rightArrow,"mouseleave",function(){clearTimeout(a._scrollTimeout)});this.addHandler(this._leftArrow,"mouseleave",function(){clearTimeout(a._scrollTimeout)});this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler,this);this.addHandler(e(document),"mouseleave.tab"+this.element.id,this._mouseLeaveScrollDocumentHandler,this)},_mouseLeaveScrollDocumentHandler:function(a){a=a.data;a._scrollTimeout&&clearTimeout(a._scrollTimeout)},_mouseUpScrollDocumentHandler:function(a){clearTimeout(a.data._scrollTimeout)},_mouseUpDragDocumentHandler:function(a){var b=a.data;b._tabCaptured&&b._dragStarted&&b._uncapture(a);b._tabCaptured=!1},_addReorderHandlers:function(){this.addHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement,this);this.addHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler,this)},_addEventHandlers:function(){for(var a=this.length();a;)a--,this._addEventListenerAt(a);this.keyboardNavigation&&this._addKeyboardHandlers();this.scrollable&&this._addScrollHandlers();this.reorder&&!this._isTouchDevice&&this._addReorderHandlers();var b=this;try{if((""!=document.referrer||window.frameElement)&&null!=window.top&&window.top!=window.self){var a=function(a){b._tabCaptured&&(b._cancelClick=!0,b._uncapture(null,b.selectedItem),b._tabCaptured=!1)},c=null;window.parent&&document.referrer&&(c=document.referrer);c&&-1!=c.indexOf(document.location.host)&&window.top.document&&this.addHandler(e(window.top.document),"mouseup",a)}}catch(f){}},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},25)}catch(b){}},_getFocusedItem:function(a,b){for(var c=this.length();c;){c--;var e=this._titleList[c],d=parseInt(e.outerWidth(!0)),g=parseInt(e.offset().left);parseInt(this._unorderedList.offset().left);parseInt(this.host.offset().left);if(g<=a&&g+d>=a&&e!==this._capturedElement&&!this._titleList[c].locked&&!0!==this._titleList[c].disabled)return c}return-1},_uncapture:function(a){var b=this.selectionTracker;this._unorderedListLeftBackup=this._unorderedList.css("left");this._tabCaptured=this._dragStarted=!1;var c=this._indexOf(this._capturedElement);if(this._capturedElement){switch(this.position){case "top":this._capturedElement.css("bottom",0);break;case "bottom":this._capturedElement.css("top",0)}if(a)var f=this._getFocusedItem(a.clientX,a.clientY);-1!==f&&a?(this._raiseEvent(10,{item:c,dropIndex:f}),this._reorderItems(f,c)):this._capturedElement.css("left",0);e.each(this._titleList,function(){this.css("position","static")});this._reorderHeaderElements();this._unorderedList.css({position:"relative",top:"0px"});this._prepareTabs();-1!==f&&a?this._moveSelectionTrack(this._selectedItem,0):(this._selectedItem=c,this._moveSelectionTrack(c,0));this._addSelectStyle(this._selectedItem,!0);document.selection&&document.selection.clear();this._unorderedList.css("left",this._unorderedListLeftBackup);this.selectionTracker=b}},_reorderItems:function(a,b){var c=this._titleList[this.selectedItem];"undefined"===typeof this._capturedElement&&(this._capturedElement=this._titleList[b]);this._titleList[b].remove();b<a?this._titleList[b].insertAfter(this._titleList[a]):this._titleList[b].insertBefore(this._titleList[a]);this._reorderElementArrays(a,b);this._getSelectedItem(c);this._removeEventHandlers();this._addEventHandlers()},_reorderElementArrays:function(a,b){var c=this._contentList[b];if(b<a)for(var e=b;e<=a;e++)this._titleList[e]=this._titleList[e+1],this._contentList[e]=this._contentList[e+1];else for(e=b;e>=a;e--)this._titleList[e]=this._titleList[e-1],this._contentList[e]=this._contentList[e-1];this._contentList[a]=c;this._titleList[a]=this._capturedElement},getSelectedItem:function(){return this.selectedItem},_getSelectedItem:function(a){for(var b=this.length();b;)if(b--,this._titleList[b]===a){this._selectedItem=this.selectedItem=b;break}},_moveElement:function(a,b){b=a.data;if(b._tabCaptured)if(document.selection&&document.selection.clear(),b._dragStarted)b._performDrag(a),clearTimeout(b._scrollTimeout);else if(unorderedListLeft=-parseInt(b._unorderedList.css("left"),10),a.clientX+unorderedListLeft>b._startX+3||a.clientX+unorderedListLeft<b._startX-3)b._prepareTabForDragging(),b._dragStarted=!0},_performDrag:function(a){var b=this.getZoomFactor();unorderedListLeft=-parseInt(this._unorderedList.css("left"),10);this._capturedElement.css("left",unorderedListLeft+a.clientX/b-this._startX/b);this._lastX=a.clientX/b;this._moveSelectionTrack(this.selectedItem,0)},getZoomFactor:function(){var a=1;document.body.getBoundingClientRect&&(a=document.body.getBoundingClientRect(),a=Math.round((a.right-a.left)/document.body.offsetWidth*100)/100);return a},_prepareTabForDragging:function(){this._capturedElement.css({position:"relative",left:"0px",top:"0px","z-index":"300"});this.selectedItem=this._indexOf(this._capturedElement);switch(this.position){case "top":this._capturedElement.css("bottom",parseInt(this._capturedElement.css("top")));break;case "bottom":this._capturedElement.css("top",parseInt(this._capturedElement.css("top")))}this._raiseEvent(9,{item:this._indexOf(this._capturedElement)})},_dragScroll:function(a){var b=parseInt(this._unorderedList.css("left")),c=this;parseInt(this._capturedElement.css("left"));a.clientX<=this._headerWrapper.offset().left?(this._scrollLeft(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):a.clientX>this._headerWrapper.offset().left+parseInt(this._headerWrapper.width(),10)?(this._scrollRight(this.scrollAnimationDuration),this._capturedElement.css("left",parseInt(this._capturedElement.css("left"))+this._lastUnorderedListPosition-b)):(this._unorderedList.stop(),this._unlockAnimation("unorderedList"),clearTimeout(this._scrollTimeout));c=this;this._scrollTimeout=setTimeout(function(){c._dragScroll(a)},this.scrollAnimationDuration);this._lastUnorderedListPosition=b},_captureElement:function(a,b){this._tabCaptured||this._titleList[b].locked||!0===this._titleList[b].disabled||this._activeAnimation()||(unorderedListLeft=-parseInt(this._unorderedList.css("left"),10),this._startX=unorderedListLeft+a.clientX,this._startY=a.clientY,this._lastX=a.clientX,this._lastY=a.clientY,this._tabCaptured=!0,this._capturedElement=this._titleList[b])},_titleInteractionTrigger:function(a){0<this._headerExpandingBalance&&this._removeOppositeBorder();this._selectedItem!==a?(this.select(this._titleList[a],"toggle"),this._titleList[a].collapsed=!1,this.collapsible||("auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.css("display","block"))):this.collapsible&&(this.isCollapsed?this.expand():this.collapse())},collapse:function(){var a=this._selectedItem;this.isCollapsed=!0;"auto"!==this.height?this._contentWrapper.css("visibility","hidden"):this._contentWrapper.hide();this._raiseEvent(13,{item:a});"top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed")),this.host.addClass(this.toThemeProperty("jqx-tabs-collapsed"))):(this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),this.host.addClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},expand:function(){var a=this._selectedItem;this.isCollapsed=!1;this._select(a,this.contentTransitionDuration,null,!1,!0);"auto"!==this.height?this._contentWrapper.css("visibility","visible"):this._contentWrapper.show();this._raiseEvent(14,{item:a});"top"==this.position?(this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed")),this.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-collapsed-bottom")),this.host.removeClass(this.toThemeProperty("jqx-tabs-collapsed-bottom")))},_addSelectHandler:function(a){var b=this;this.addHandler(this._titleList[a],"selectstart",function(a){return!1});this.addHandler(this._titleList[a],this.toggleMode,function(a){return function(){b._raiseEvent("15",{item:a});b._tabCaptured||b._cancelClick||b._titleInteractionTrigger(a);return!0}}(a))},_addDragDropHandlers:function(a){var b=this;this.addHandler(this._titleList[a],"mousedown",function(c){b._captureElement(c,a);return!1});this.addHandler(this._titleList[a],"mouseup",function(c){b._tabCaptured&&b._dragStarted?(b._cancelClick=!0,b._uncapture(c,a)):b._cancelClick=!1;return b._tabCaptured=!1})},_removeHoverStates:function(){var a=this;e.each(this._titleList,function(){this.removeClass(a.toThemeProperty("jqx-tabs-title-hover-top"));this.removeClass(a.toThemeProperty("jqx-tabs-title-hover-bottom"))})},_addHoverHandlers:function(a){var b=this,c=this._titleList[a];this.addHandler(c,"mouseenter",function(e){a!=b._selectedItem&&("top"==b.position?c.addClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.addClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.addClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons&&c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0)).addClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0)))});this.addHandler(c,"mouseleave",function(e){a!=b._selectedItem&&("top"==b.position?c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-top")):c.removeClass(b.toThemeProperty("jqx-tabs-title-hover-bottom")),c.removeClass(b.toThemeProperty("jqx-fill-state-hover")),b.showCloseButtons&&c.children(0).children(b.toThemeProperty(".jqx-tabs-close-button",!0)).removeClass(b.toThemeProperty("jqx-tabs-close-button-hover",!0)))})},_addEventListenerAt:function(a){var b=this;if(!this._titleList[a].disabled){this.reorder&&!this._isTouchDevice&&this._addDragDropHandlers(a);this._addSelectHandler(a);this.enabledHover&&this._addHoverHandlers(a);var c=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(c,"click");this.addHandler(c,"click",function(c){b.removeAt(a);return!1})}},_removeEventHandlers:function(){for(var a=this.length();a;)a--,this._removeEventListenerAt(a);this.scrollable&&(this.removeHandler(this._leftArrow,"mousedown"),this.removeHandler(this._rightArrow,"mousedown"));this.removeHandler(e(document),"mousemove.tab"+this.element.id,this._moveElement);this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpScrollDocumentHandler);this.removeHandler(e(document),"mouseup.tab"+this.element.id,this._mouseUpDragDocumentHandler);this.removeHandler(this.host,"keydown")},_removeEventListenerAt:function(a){this.removeHandler(this._titleList[a],this.toggleMode);this.removeHandler(this._titleList[a],"mouseenter");this.removeHandler(this._titleList[a],"mouseleave");this.removeHandler(this._titleList[a],"mousedown");this.removeHandler(this._titleList[a],"mouseup");a=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0));this.removeHandler(a,"click")},_moveSelectionTrack:function(a,b,c){var e=this;if(-1!=a&&0!=this._titleList.length&&!(a>=this._titleList.length)&&this.selectionTracker&&this._selectionTracker){this._selectionTracker.stop();this._unlockAnimation("selectionTracker");void 0===c&&(c=parseInt(this._titleList[a].position().left),isNaN(parseInt(this._unorderedList.css("left")))||(c+=parseInt(this._unorderedList.css("left"))),isNaN(parseInt(this._unorderedList.css("margin-left")))||(c+=parseInt(this._unorderedList.css("margin-left"))),isNaN(parseInt(this._titleList[a].css("margin-left")))||(c+=parseInt(this._titleList[a].css("margin-left"))),isNaN(parseInt(this._titleList[a].css("margin-right"))));var d=0;"top"===this.position&&(parseInt(this._headerWrapper.height()),parseInt(this._titleList[a].outerHeight()),this.autoHeight||(d+=parseInt(this._titleList[a].css("margin-top"))));this._lockAnimation("selectionTracker");var d=parseInt(this._titleList[a].css("padding-left"))+parseInt(this._titleList[a].css("padding-right")),g="top"==this.position?0:1,h=parseInt(this._headerWrapper.css("padding-top")),l=parseInt(this._titleList[a].css("padding-top"))+parseInt(this._titleList[a].css("padding-bottom"));this._selectionTracker.css("visibility","visible");this._moveSelectionTrackerContainer.css("visibility","visible");var k=parseInt(this._titleList[a].css("margin-top"));isNaN(k)&&(k=0);this._selectionTracker.animate({top:h+k-g,left:c+"px",height:parseInt(this._titleList[a].height()+l),width:this._titleList[a].width()+d},b,function(){e._unlockAnimation("selectionTracker");e._selectionTracker.css("visibility","hidden");e._addSelectStyle(a,!0);e._moveSelectionTrackerContainer.css("visibility","hidden")})}},destroy:function(){e.jqx.utilities.resize(this.host,null,!0);this.host.remove()},_switchTabs:function(a,b){if(a!==b&&!this._activeAnimation()&&!this._tabCaptured){this._raiseEvent(7,{item:b});this._raiseEvent(6,{item:a});if(this._currentEvent&&this._currentEvent.cancel){this._currentEvent=null;return}this._unselect(b,null,!0);this._select(a,this.contentTransitionDuration,null,!0);return!0}return!1},_activeAnimation:function(){for(child in this._isAnimated)if(this._isAnimated.hasOwnProperty(child)&&this._isAnimated[child])return!0;return!1},_indexOf:function(a){for(var b=this.length();b;)if(b--,this._titleList[b][0]===a[0]||this._contentList[b][0]===a[0])return b;return-1},_validateProperties:function(){try{if(0>this.scrollAnimationDuration||isNaN(this.scrollAnimationDuration))throw Error(this._invalidArgumentExceptions.invalidScrollAnimationDuration);if(0>parseInt(this.width)&&"auto"!==this.width)throw Error(this._invalidArgumentExceptions.invalidWidth);if(0>parseInt(this.height)&&"auto"!==this.height)throw Error(this._invalidArgumentExceptions.invalidHeight);if("none"!==this.animationType&&"fade"!==this.animationType)throw Error(this._invalidArgumentExceptions.invalidAnimationType);if(0>this.contentTransitionDuration||isNaN(this.contentTransitionDuration))throw Error(this._invalidArgumentExceptions.invalidcontentTransitionDuration);if("click"!==this.toggleMode&&"dblclick"!==this.toggleMode&&"mouseenter"!==this.toggleMode&&"none"!==this.toggleMode)throw Error(this._invalidArgumentExceptions.invalidToggleMode);if("top"!==this.position&&"bottom"!==this.position)throw Error(this._invalidArgumentExceptions.invalidPosition);if("left"!==this.scrollPosition&&"right"!==this.scrollPosition&&"both"!==this.scrollPosition)throw Error(this._invalidArgumentExceptions.invalidScrollPosition);if(0>this.scrollStep||isNaN(this.scrollStep))throw Error(this._invalidArgumentExceptions.invalidScrollStep);if(this._titleList.length!==this._contentList.length||0==this._titleList.length)throw Error(this._invalidArgumentExceptions.invalidStructure);if(0>this.arrowButtonSize||isNaN(this.arrowButtonSize))throw Error(this._invalidArgumentExceptions.invalidArrowSize);if(0>this.closeButtonSize||isNaN(this.closeButtonSize))throw Error(this._invalidArgumentExceptions.invalidCloseSize);}catch(a){alert(a)}},_startScrollRepeat:function(a,b){var c=this;a?this._scrollLeft(b):this._scrollRight(b);this._scrollTimeout&&clearTimeout(this._scrollTimeout);this._scrollTimeout=setTimeout(function(){c._startScrollRepeat(a,c.scrollAnimationDuration)},b)},_performLayout:function(){for(var a=this.length();a;)if(a--,"top"===this.position||"bottom"===this.position)this.rtl?this._titleList[a].css("float","right"):this._titleList[a].css("float","left");this._fitToSize();this._performHeaderLayout();this._fitToSize()},updatetabsheader:function(){this._performHeaderLayout()},_performResize:function(){this._fitToSize();this._positionArrows(this._totalItemsWidth);this._totalItemsWidth>this.element.offsetWidth?this._unorderedList.width(this._totalItemsWidth):this._unorderedList[0].style.width=this.element.offsetWidth-2+"px";this._fitToSize()},_addArrows:function(){this._leftArrow&&this._rightArrow&&(this._leftArrow.remove(),this._rightArrow.remove());this._leftArrow=e('\x3cdiv\x3e\x3cspan style\x3d"display: block; width: 16px; height: 16px;" class\x3d"'+this.toThemeProperty("jqx-tabs-arrow-left")+'"\x3e\x3c/span\x3e\x3c/div\x3e');this._rightArrow=e('\x3cdiv\x3e\x3cspan style\x3d"display: block; width: 16px; height: 16px;" class\x3d"'+this.toThemeProperty("jqx-tabs-arrow-right")+'"\x3e\x3c/span\x3e\x3c/div\x3e');this._leftArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._rightArrow.addClass(this.toThemeProperty("jqx-tabs-arrow-background"));this._leftArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._rightArrow.addClass(this.toThemeProperty("jqx-widget-header"));this._headerWrapper.append(this._leftArrow);this._headerWrapper.append(this._rightArrow);this._leftArrow.width(this.arrowButtonSize);this._leftArrow.height("100%");this._rightArrow.width(this.arrowButtonSize);this._rightArrow.height("100%");this._leftArrow.css({"z-index":"30"});this._rightArrow.css({"z-index":"30"});this._leftArrow.css("display","none");this._rightArrow.css("display","none")},_tabsWithVisibleCloseButtons:function(){if(!this.showCloseButtons)return 0;var a=this.length();e.each(this._titleList,function(){var b=this.attr("hasclosebutton");void 0!=b&&null!=b&&("false"!=b&&0!=b||a--)});return a},_calculateTitlesSize:function(){var a=0,b=0,c=this.length();this.rtl&&e.jqx.browser.msie&&8>e.jqx.browser.version&&(this._measureItem=e("\x3cspan style\x3d'position: relative; visibility: hidden;'\x3e\x3c/span\x3e"),e(document.body).append(this._measureItem));for(;c;){c--;this._measureItem&&(this._measureItem.html(this._titleList[c].html()),this._titleList[c].width(this._measureItem.width()));this._titleList[c].css("position","static");this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none");b+=parseInt(this._titleList[c].outerWidth(!0));a<this._titleList[c].outerHeight(!0)&&(a=Math.round(parseInt(this._titleList[c].outerHeight(!0))));if(0==this._titleList[c].height()){var f=this._titleList[c].clone();e(document.body).append(f);a=Math.round(parseInt(f.outerHeight(!0)));f.remove()}f=this._titleList[c].attr("hasCloseButton");if(void 0!=f&&null!=f){var d=!1;this.hiddenCloseButtons&&1==this.hiddenCloseButtons[c]&&(this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),d=!0);d||("true"==f||1==f?(b+=this.closeButtonSize,this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")):"false"!=f&&0!=f||this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"))}else this.showCloseButtons&&(this.canCloseAllTabs||1<this._tabsWithVisibleCloseButtons())&&(d=!1,this.hiddenCloseButtons&&1==this.hiddenCloseButtons[c]&&(this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),d=!0),d||(b+=this.closeButtonSize,this._titleList[c].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block")));this._titleList[c].height(this._titleList[c].height())}this._measureItem&&this._measureItem.remove();return{height:a,width:10+b}},_reorderHeaderElements:function(){this.selectionTracker&&this._moveSelectionTrackerContainer.css({position:"absolute",height:"100%",top:"0px",left:"0px",width:"100%"});this._headerWrapper.css({position:"relative",left:"0px",top:"0px"});if(this.scrollable){this._rightArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});this._leftArrow.css({width:this.arrowButtonSize,position:"absolute",top:"0px"});var a=this.theme&&-1!=this.theme.indexOf("ui-")?3:0;0<a&&(this._rightArrow.addClass(this.toThemeProperty("jqx-rc-r")),this._leftArrow.addClass(this.toThemeProperty("jqx-rc-l")));var b=this.scrollPosition;this.rtl&&("left"==b&&(b="right"),"right"==b&&(b="left"));switch(b){case "both":this._rightArrow.css("right","0px");this._leftArrow.css("left","0px");break;case "left":this._rightArrow.css("left",this.arrowButtonSize+"px");this._leftArrow.css("left","0px");break;case "right":this._rightArrow.css("right",-a+"px"),this._leftArrow.css("right",this.arrowButtonSize-a+"px")}}},_positionArrows:function(a){a>=parseInt(this._headerWrapper[0].offsetWidth)&&this.scrollable?(this._needScroll=!0,0===this._unorderedList.position().left&&(this._unorderedListLeftBackup=this._getArrowsDisplacement()+"px"),this._leftArrow.css("display","block"),this._rightArrow.css("display","block")):(this._needScroll=!1,this._leftArrow[0].style.display="none",this._rightArrow[0].style.display="none",this._unorderedList[0].style.left="0px")},_performHeaderLayout:function(){this._removeSelectStyle();var a=this._calculateTitlesSize(),b=a.height,a=a.width;this._headerWrapper.height(b);this._unorderedList.height(b);null!=this.headerHeight&&"auto"!=this.headerHeight&&(this._headerWrapper.height(this.headerHeight),this._unorderedList.height(this.headerHeight));a>this.host.width()?this._unorderedList.width(a):this._unorderedList.width(this.host.width());e.jqx.browser.msie&&8>e.jqx.browser.version&&(this._unorderedList.css("position","relative"),this._headerWrapper.css("overflow","hidden"));this._reorderHeaderElements();this._totalItemsWidth=a+=parseInt(this._unorderedList.css("margin-left"));this._positionArrows(a);this._unorderedList.css({position:"relative",top:"0px"});this._verticalAlignElements();this._moveSelectionTrack(this._selectedItem,0);this._addSelectStyle(this.selectedItem)},_verticalAlignElements:function(){var a=this.length();for(this._maxHeightTab();a;){a--;var b=this._titleList[a].find(".jqx-tabs-titleContentWrapper");b.height();var c=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0));parseInt(this._titleList[a].css("padding-top"));if(this.autoHeight){var e=this._titleList[a].outerHeight(!0)-this._titleList[a].height(),e=parseInt(this._titleList[a].css("padding-top")),d=parseInt(this._titleList[a].css("padding-bottom")),g=parseInt(this._titleList[a].css("border-top-width")),h=parseInt(this._titleList[a].css("border-bottom-width"));this._titleList[a].height(this._unorderedList.outerHeight()-e-d-g-h)}else"top"===this.position?(e=parseInt(this._unorderedList.height())-parseInt(this._titleList[a].outerHeight(!0)),parseInt(this._titleList[a].css("margin-top"))!==e&&0!==e&&this._titleList[a].css("margin-top",e)):this._titleList[a].height(this._titleList[a].height());this._titleList[a].children(0).height("100%");e=parseInt(this._titleList[a].height());d=parseInt(e)/2-parseInt(c.height())/2;c.css("margin-top",1+d);c=parseInt(e)/2-parseInt(b.height())/2;b.css("margin-top",c)}this.scrollable&&(e=parseInt(this._headerWrapper.outerHeight())-this.arrowButtonSize,a=e/2,this._rightArrow.children(0).css("margin-top",a),this._rightArrow.height("100%"),this._leftArrow.height("100%"),this._leftArrow.children(0).css("margin-top",a))},_getImageUrl:function(a){a=a.css("background-image");a=a.replace('url("',"");a=a.replace('")',"");a=a.replace("url(","");return a=a.replace(")","")},_fitToSize:function(){var a=!1,b=!1;null!=this.width&&-1!=this.width.toString().indexOf("%")&&(a=!0);null!=this.height&&-1!=this.height.toString().indexOf("%")&&(b=!0);a&&(this.host[0].style.width=this.width,this._contentWrapper[0].style.width="100%");if(b){this.host[0].style.height=this.height;this._contentWrapper[0].style.width="100%";this._contentWrapper[0].style.height="auto";var c=this.element.offsetHeight-this._headerWrapper[0].offsetHeight;this._contentWrapper[0].style.height=c+"px"}a||(this.host.width(this.width),"auto"!=this.width&&this._contentWrapper.css("width","100%"));b||("auto"!==this.height?(this.host.height(this.height),c=this.host.height()-this._headerWrapper.outerHeight(),this._contentWrapper.height(c)):this._contentWrapper.css("height","auto"))},_maxHeightTab:function(){for(var a=this.length(),b=-1;a;)a--,-1<parseInt(this._titleList[a].outerHeight(!0))&&(b=a);return b},_addSelectionTracker:function(){this._moveSelectionTrackerContainer&&this._moveSelectionTrackerContainer.remove();this._moveSelectionTrackerContainer=e('\x3cdiv class\x3d"'+this.toThemeProperty("jqx-tabs-selection-tracker-container")+'"\x3e');var a=this.toThemeProperty("jqx-tabs-selection-tracker-"+this.position);this._selectionTracker=e('\x3cdiv class\x3d"'+a+'"\x3e');this._selectionTracker.css("color","inherit");this._moveSelectionTrackerContainer.append(this._selectionTracker);this._headerWrapper.append(this._moveSelectionTrackerContainer);this._selectionTracker.css({position:"absolute","z-index":"10",left:"0px",top:"0px",display:"inline-block"})},_addContentWrapper:function(){var a=void 0==this._contentWrapper;this._contentWrapper=this._contentWrapper||e('\x3cdiv class\x3d"'+this.toThemeProperty("jqx-tabs-content")+'" style\x3d"float:none;"\x3e');this._contentWrapper.addClass(this.toThemeProperty("jqx-widget-content"));for(var b=this.length();b;)b--,this._contentList[b].addClass(this.toThemeProperty("jqx-tabs-content-element"));a&&(this.host.find(".jqx-tabs-content-element").wrapAll(this._contentWrapper),this._contentWrapper=this.host.find(".jqx-tabs-content"));this.roundedCorners&&("top"==this.position?this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-b")):this._contentWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this.host.addClass(this.toThemeProperty("jqx-rc-all")))},_addHeaderWrappers:function(){var a=this.length();this._unorderedList.remove();this._headerWrapper=this._headerWrapper||e('\x3cdiv class\x3d"jqx-tabs-headerWrapper" style\x3d"outline: none;"\x3e');this._headerWrapper.remove();"top"==this.position?this._headerWrapper.prependTo(this.host):this._headerWrapper.appendTo(this.host);this._unorderedList.appendTo(this._headerWrapper);this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header"));this._headerWrapper.addClass(this.toThemeProperty("jqx-widget-header"));"bottom"==this.position?this._headerWrapper.addClass(this.toThemeProperty("jqx-tabs-header-bottom")):this._headerWrapper.removeClass(this.toThemeProperty("jqx-tabs-header-bottom"));this.roundedCorners&&("top"==this.position?(this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-b"))):(this._headerWrapper.removeClass(this.toThemeProperty("jqx-rc-t")),this._headerWrapper.addClass(this.toThemeProperty("jqx-rc-b"))));for(;a;){a--;if(0>=this._titleList[a].children(".jqx-tabs-titleWrapper").length){var b=e('\x3cdiv class\x3d"jqx-tabs-titleWrapper" style\x3d"outline: none; position: relative;"\x3e');b.append(this._titleList[a].html());this._titleList[a].empty();b.appendTo(this._titleList[a])}this._titleList[a].children(".jqx-tabs-titleWrapper").css("z-index","15")}},_render:function(){this._addCloseButtons();this._addHeaderWrappers();this._addContentWrapper();this.selectionTracker&&this._addSelectionTracker();this._addArrows()},_addCloseButton:function(a){if(0>=this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).length&&0>=this._titleList[a].find(".jqx-tabs-titleContentWrapper").length){var b=e('\x3cdiv class\x3d"jqx-tabs-titleContentWrapper"\x3e\x3c/div\x3e'),c="left";this.rtl&&(c="right");b.css("float",c);b.addClass("jqx-disableselect");b.append(this._titleList[a].html());this._titleList[a].html("");var f=e('\x3cdiv class\x3d"'+this.toThemeProperty("jqx-tabs-close-button")+'"\x3e\x3c/div\x3e');f.css({height:this.closeButtonSize,width:this.closeButtonSize,"float":c,"font-size":"1px"});this._titleList[a].append(b);this._titleList[a].append(f);this.showCloseButtons?this.hiddenCloseButtons&&1==this.hiddenCloseButtons[a]&&f.css("display","none"):f.css("display","none")}},_addCloseButtons:function(){for(var a=this.length();a;)a--,this._addCloseButton(a)},_prepareTabs:function(){var a=this.length(),b=this.selectionTracker;for(this.selectionTracker=!1;a;)a--,this._selectedItem!==a&&this._unselect(a,null,!1);this._select(this._selectedItem,0,null,!1);this.selectionTracker=b;!this.initTabContent||this._initTabContentList[this.selectedItem]||this._hiddenParent()||(this.initTabContent(this.selectedItem),this._initTabContentList[this.selectedItem]=!0)},_isValidIndex:function(a){return 0<=a&&a<this.length()},_removeSelectStyle:function(){for(var a=this.length();a;){a--;var b=null;this.showCloseButtons&&(b=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0)),b.removeClass(this.toThemeProperty("jqx-tabs-close-button-selected")));"top"==this.position?this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-top")):this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected-bottom"));this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed"))}},_addSelectStyle:function(a,b){this.length();this._removeSelectStyle();if((!this.selectionTracker||void 0!=b&&b)&&0<=a&&void 0!=this._titleList[a]){var c=null;this.showCloseButtons&&(c=this._titleList[a].children(0).children(this.toThemeProperty(".jqx-tabs-close-button",!0)),this.hiddenCloseButtons&&1==this.hiddenCloseButtons[a]&&(c=null));this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-hover"));"top"==this.position?(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-top")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-top"))):(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-hover-bottom")),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-selected-bottom")));this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-pressed"));null!=c&&c.addClass(this.toThemeProperty("jqx-tabs-close-button-selected"))}},_addItemTo:function(a,b,c){if(b<a.length){for(var e=void 0,d=void 0,g=b;g+1<a.length;g++)void 0===e?(e=a[g+1],a[g+1]=a[g]):(d=a[g+1],a[g+1]=e,e=d);void 0===e&&(e=a[b]);a[b]=c;a.push(e)}else a.push(c)},_select:function(a,b,c,f,d){if(!this._tabCaptured){this.host.attr("hideFocus","true");var g=this;void 0==d?this._addSelectStyle(a):this._addSelectStyle(a,d);if(this.isCollapsed&&this.collapsible)this._contentList[a].css("display","none"),this._selectCallback(a,c,f);else switch(this.animationType){case "none":if(g.selectionTracker)setTimeout(function(){g._contentList[a].css("display","block");e.jqx.aria(g._titleList[a],"aria-selected",!0);e.jqx.aria(g._contentList[a],"aria-hidden",!1);e.jqx.aria(g,"aria-activedescendant",g._titleList[a][0].id)},this.selectionTrackerAnimationDuration);else{for(b=0;b<this._contentList.length;b++)a!=b&&"block"==this._contentList[b].css("display")&&(this._contentList[b].css("display","none"),e.jqx.aria(this._titleList[b],"aria-selected",!1),e.jqx.aria(this._contentList[b],"aria-hidden",!0));this._contentList[a].css("display","block");e.jqx.aria(this._titleList[a],"aria-selected",!0);e.jqx.aria(this._contentList[a],"aria-hidden",!1);e.jqx.aria(this,"aria-activedescendant",this._titleList[a][0].id)}this._selectCallback(a,c,f);break;case "fade":this._lockAnimation("contentListSelect"),g._selectCallback(a,c,f),this._contentList[a].fadeIn(b,function(){g._unlockAnimation("contentListSelect");e.jqx.aria(g._titleList[a],"aria-selected",!0);e.jqx.aria(g._contentList[a],"aria-hidden",!1);e.jqx.aria(g,"aria-activedescendant",g._titleList[a][0].id)})}}},_selectCallback:function(a,b,c){this.selectedItem=this._selectedItem=a;b&&b();c&&this._raiseEvent(1,{item:a})},_unselect:function(a,b,c){if(0<=a&&!this._tabCaptured){var f=this;this._contentList[a].stop();"fade"==this.animationType?(this._contentList[a].css("display","none"),e.jqx.aria(f._titleList[a],"aria-selected",!1),e.jqx.aria(f._contentList[a],"aria-hidden",!0)):this.selectionTracker?setTimeout(function(){f._contentList[a].css("display","none");e.jqx.aria(f._titleList[a],"aria-selected",!1);e.jqx.aria(f._contentList[a],"aria-hidden",!0)},this.selectionTrackerAnimationDuration):(this._contentList[a].css("display","none"),e.jqx.aria(f._titleList[a],"aria-selected",!1),e.jqx.aria(f._contentList[a],"aria-hidden",!0));this._unselectCallback(a,b,c);this.selectionTracker||(this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-selected")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-pressed")))}},_unselectCallback:function(a,b,c){c&&this._raiseEvent(8,{item:a});b&&b()},disable:function(){for(var a=this.length();a;)a--,this.disableAt(a)},enable:function(){for(var a=this.length();a;)a--,this.enableAt(a)},getEnabledTabsCount:function(){var a=0;e.each(this._titleList,function(){this.disabled||a++});return a},getDisabledTabsCount:function(){var a=0;e.each(this._titleList,function(){this.disabled&&a++});return a},removeAt:function(a){if(this._isValidIndex(a)&&(this.canCloseAllTabs||1<this.length())){this._removeHoverStates();var b=this,c=parseInt(this._titleList[a].outerWidth(!0)),e=this.getTitleAt(a);this._unorderedList.width(parseInt(this._unorderedList.width())-c);this._titleList[a].remove();this._contentList[a].remove();this._titleList.splice(a,1);this._contentList.splice(a,1);this._addStyles();this._performHeaderLayout();this._removeEventHandlers();this._addEventHandlers();this._raiseEvent(3,{item:a,title:e});this._isAnimated={};0<this.selectedItem?(this._selectedItem=-1,a=this._getPreviousIndex(this.selectedItem)):(this._selectedItem=-1,a=this._getNextIndex(this.selectedItem));this.select(a);parseInt(this._unorderedList.css("left"))>this._getArrowsDisplacement()&&this._unorderedList.css("left",this._getArrowsDisplacement());parseInt(this._unorderedList.width())<=parseInt(this._headerWrapper.width())&&(a=this.enableScrollAnimation?this.scrollAnimationDuration:0,this._lockAnimation("unorderedList"),this._unorderedList.animate({left:0},a,function(){b._unlockAnimation("unorderedList")}))}},removeFirst:function(){this.removeAt(0)},removeLast:function(){this.removeAt(this.length()-1)},disableAt:function(a){this._titleList[a].disabled&&void 0!==this._titleList[a].disabled||(this.selectedItem==a&&(this.next()||this.previous()),this._titleList[a].disabled=!0,this.removeHandler(this._titleList[a],this.toggleMode),this.enabledHover&&this._titleList[a].off("mouseenter").off("mouseleave"),this._removeEventListenerAt(a),this._titleList[a].addClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(5,{item:a}))},enableAt:function(a){this._titleList[a].disabled&&(this._titleList[a].disabled=!1,this._addEventListenerAt(a),this._titleList[a].removeClass(this.toThemeProperty("jqx-tabs-title-disable")),this._titleList[a].removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this._raiseEvent(4,{item:a}))},addAt:function(a,b,c){if(0<=a||a<=this.length())this._removeHoverStates(),b=e("\x3cli\x3e"+b+"\x3c/li\x3e"),c=e("\x3cdiv\x3e"+c+"\x3c/div\x3e"),b.addClass(this.toThemeProperty("jqx-tabs-title")),b.addClass(this.toThemeProperty("jqx-item")),c.addClass(this.toThemeProperty("jqx-tabs-content-element")),"bottom"==this.position&&b.addClass(this.toThemeProperty("jqx-tabs-title-bottom")),0==this._titleList.length?this._unorderedList.append(b):a<this.length()&&0<=a?this._titleList[a].before(b):this._titleList[this.length()-1].after(b),c.appendTo(this._contentWrapper),this._addItemTo(this._titleList,a,b),this._addItemTo(this._contentList,a,c),this._selectedItem>a&&this._selectedItem++,this._switchTabs(a,this._selectedItem),this._selectedItem=a,this.showCloseButtons&&0<this._titleList.length&&this._addCloseButton(a),this._uiRefresh(!1),this._raiseEvent(2,{item:a}),this._moveSelectionTrack(this._selectedItem,0)},addFirst:function(a,b){this.addAt(0,a,b)},addLast:function(a,b){this.addAt(this.length(),a,b)},val:function(a){if(0==arguments.length||"object"==typeof a)return this._selectedItem;this.select(a);return this._selectedItem},select:function(a,b){"object"===typeof a&&(a=this._indexOf(a));var c=0<=a&&a<this._titleList.length?this._titleList[a].attr("canselect"):!0;(void 0==c||"true"==c||1==c)&&a!==this._selectedItem&&this._isValidIndex(a)&&(this._activeAnimation()||this._titleList[a].disabled||this._switchTabs(a,this._selectedItem)&&this.ensureVisible(a))},previous:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);0<b&&b<this._titleList.length;)if(b--,!this._titleList[b].disabled)return this.select(b),!0;return!1},_getPreviousIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;0<a&&a<=this._titleList.length;)if(a--,!this._titleList[a].disabled)return a;return b},_getNextIndex:function(a){if(void 0==a||isNaN(a))return 0;for(var b=a;0<=a&&a<this._titleList.length;){if(!this._titleList[a].disabled)return a;a++}return b},next:function(a){var b=this._selectedItem;for(void 0==a||isNaN(a)||(b=a);0<=b&&b<this._titleList.length-1;)if(b++,!this._titleList[b].disabled)return this.select(b),!0;return!1},first:function(){this._titleList[0].disabled?this.next(0):this.select(0)},last:function(){var a=this._titleList.length-1;this._titleList[a].disabled?this.previous(a):this.select(a)},length:function(){return this._titleList.length},lockAt:function(a){!this._isValidIndex(a)||this._titleList[a].locked&&void 0!==this._titleList[a].locked||(this._titleList[a].locked=!0,this._raiseEvent(11,{item:a}))},unlockAt:function(a){this._isValidIndex(a)&&this._titleList[a].locked&&(this._titleList[a].locked=!1,this._raiseEvent(12,{item:a}))},lockAll:function(){for(var a=this.length();a;)a--,this.lockAt(a)},unlockAll:function(){for(var a=this.length();a;)a--,this.unlockAt(a)},showCloseButtonAt:function(a){this._isValidIndex(a)&&(this.showCloseButtons||(this.showCloseButtons=!0,this.updatetabsheader()),this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","block"),this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[a]=0)},hideCloseButtonAt:function(a){this._isValidIndex(a)&&(this._titleList[a].find(this.toThemeProperty(".jqx-tabs-close-button",!0)).css("display","none"),this.hiddenCloseButtons||(this.hiddenCloseButtons=[]),this.hiddenCloseButtons[a]=1)},hideAllCloseButtons:function(){for(var a=this.length();a;)a--,this.hideCloseButtonAt(a)},showAllCloseButtons:function(){for(var a=this.length();a;)a--,this.showCloseButtonAt(a)},getTitleAt:function(a){return this._titleList[a]?this._titleList[a].text():null},getContentAt:function(a){return this._contentList[a]?this._contentList[a]:null},setTitleAt:function(a,b){this._titleList[a]&&(this._titleList[a].text(b),this.showCloseButtons&&(this._addCloseButton(a),this._removeEventHandlers(),this._addEventHandlers()),this.render(),this.refresh())},setContentAt:function(a,b){this._contentList[a]&&this._contentList[a].html(b)},ensureVisible:function(a){var b=this;if(void 0==a||-1==a||null==a)a=this.selectedItem;if(!this._isValidIndex(a))return!1;var c=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),e=parseInt(this._unorderedList.css("left")),d=parseInt(this._headerWrapper.outerWidth(!0)),g=parseInt(this._titleList[a].outerWidth(!0)),e=e-this._getArrowsDisplacement(),h=d-this._getArrowsDisplacement()-e;if(c<-e)c=-c+this._getArrowsDisplacement(),d=this._getArrowsDisplacement();else if(c+g>h-this._getArrowsDisplacement())c=-c+d-g-(this.scrollable?2*this.arrowButtonSize-this._getArrowsDisplacement():0),d=d-g-this._getArrowsDisplacement();else return this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration),!0;this._lockAnimation("unorderedList");this._unorderedList.animate({left:c},this.scrollAnimationDuration,function(){b._unlockAnimation("unorderedList");b._moveSelectionTrack(b._selectedItem,0);return!0});this._moveSelectionTrack(a,this.selectionTrackerAnimationDuration,d);return!0},isVisibleAt:function(a){if(void 0==a||-1==a||null==a)a=this.selectedItem;if(!this._isValidIndex(a))return!1;var b=parseInt(this._titleList[a].position().left)+parseInt(this._unorderedList.css("margin-left")),c=parseInt(this._unorderedList.css("left")),e=parseInt(this._headerWrapper.outerWidth(!0));a=parseInt(this._titleList[a].outerWidth(!0));c-=this._getArrowsDisplacement();e=e-this._getArrowsDisplacement()-c;return b<-c?!1:b+a>e?!1:!0},isDisabled:function(a){return this._titleList[a].disabled},_lockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!0)},_unlockAnimation:function(a){this._isAnimated&&(this._isAnimated[a]=!1)},propertyChangedHandler:function(a,b,c,f){this._validateProperties();switch(b){case "touchMode":f&&(a.enabledHover=!1,a.keyboardNavigation=!1);break;case "width":case "height":a._performResize();return;case "disabled":f?this.disable():this.enable();return;case "showCloseButtons":f?this.showAllCloseButtons():this.hideAllCloseButtons();this._moveSelectionTrack(this._selectedItem,this.selectionTrackerAnimationDuration);return;case "selectedItem":this._isValidIndex(f)&&this.select(f);return;case "scrollStep":case "contentTransitionDuration":case "scrollAnimationDuration":case "enableScrollAnimation":return;case "selectionTracker":f?(this._refresh(),this.select(this._selectedItem)):null!=this._selectionTracker&&this._selectionTracker.remove();return;case "scrollable":f?(this._refresh(),this.select(this._selectedItem)):(this._leftArrow.remove(),this._rightArrow.remove(),this._performHeaderLayout());return;case "autoHeight":this._performHeaderLayout();return;case "theme":e.jqx.utilities.setTheme(c,f,this.host);return}this._unorderedList.css("left","0px");this._refresh();this.select(this._selectedItem);this._addSelectStyle(this._selectedItem,!0)}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxTextArea","",{});e.extend(e.jqx._jqxTextArea.prototype,{defineInstance:function(){var a={disabled:!1,filter:this._filter,sort:this._sort,highlight:this._highlight,dropDownWidth:null,renderer:this._renderer,opened:!1,$popup:e("\x3cul\x3e\x3c/ul\x3e"),source:[],roundedCorners:!0,searchMode:"default",placeHolder:"",width:null,height:null,rtl:!1,displayMember:"",valueMember:"",popupZIndex:2E4,items:8,item:'\x3cli\x3e\x3ca href\x3d"#"\x3e\x3c/a\x3e\x3c/li\x3e',minLength:1,maxLength:null,scrollBarSize:e.jqx.utilities.scrollBarSize,query:"",events:["change","select","open","close"]};e.extend(!0,this,a)},createInstance:function(){this.render();this.isInitialized=!0},render:function(){var a=this.element.id;if(!0===this.isInitialized)this.refresh();else{15!==e.jqx.utilities.scrollBarSize&&(this.scrollBarSize=e.jqx.utilities.scrollBarSize);var b=e('\x3cdiv id\x3d"panelWrapper'+a+'" style\x3d"overflow: hidden; width: 100%; height: 100%; background-color: transparent; -webkit-appearance: none; outline: none; align:left; border: 0px; padding: 0px; margin: 0px; left: 0px; top: 0px; valign:top; position: relative;"\x3e\x3c/div\x3e'),c=e('\x3cdiv id\x3d"verticalScrollBar'+a+'" style\x3d"align: left; valign: top; left: 0px; top: 0px; position: absolute;"\x3e\x3c/div\x3e');this._id=this.element.id;"div"===this.element.tagName.toLowerCase()?(this._baseHost=this.host,this.host.append(b),b.append('\x3ctextarea id\x3d"area'+a+'" class\x3d"'+this.toThemeProperty("jqx-text-area-element")+'"\x3e\x3c/textarea\x3e'),b.append(c)):"textarea"===this.element.tagName.toLowerCase()&&(this._baseHost=e(this.element),this._baseHost.wrap("\x3cdiv\x3e\x3c/div\x3e"),this._baseHost.wrap(b),this._baseHost.after(c),this.host=this._baseHost.parent().parent(),this.host[0].style.cssText=this.element.style.cssText,this.element.style.cssText="",this._baseHost.addClass(this.toThemeProperty("jqx-text-area-element")));a=this.host;this.wrapper=b;this.textarea=a.find("textarea");this._addClasses();if(!a.jqxButton)throw Error("jqxTextArea: Missing reference to jqxbuttons.js.");if(!a.jqxScrollBar)throw Error("jqxTextArea: Missing reference to jqxscrollbar.js.");null===this.width&&a[0].style&&null!==a[0].style.width&&(this.width=a[0].style.width);null===this.height&&a[0].style&&null!==a[0].style.height&&(this.height=a[0].style.height);this._setSize();""===e.trim(this.textarea.val())&&this.textarea.val("");this.textarea.attr("placeholder",this.placeHolder);null!==this.maxLength&&this.textarea.attr("maxlength",this.maxLength);e.jqx.browser.msie&&10>e.jqx.browser.version&&""===this.textarea.val()&&this.textarea.val(this.placeHolder);this.vScrollBar=c;c.jqxScrollBar({vertical:!0,width:15,height:"100%",max:this.height,theme:this.theme});if(this.source instanceof Array&&this.source.length||this.source._source||e.isFunction(this.source))this._oldsource=this.source,this._updateSource(),this._addPopupClasses(),e.jqx.aria(this,"aria-haspopup",!0);this._arrange();this._addHandlers()}},refresh:function(a){!0!==a&&(this._setSize(),this._arrange(),this._removeHandlers(),this._addHandlers(),!0===this.opened&&this.open())},_arrange:function(){var a=this.textarea,b=a[0].scrollHeight-a.height(),c=a[0].scrollHeight-a.height();0>c&&(c=0);this.vScrollBar.jqxScrollBar({max:c,value:a[0].scrollTop});5>b?(a.width(this.host.width()),this.vScrollBar.css("visibility","hidden")):(a.width(this.host.width()-this.scrollBarSize),this.vScrollBar.css("visibility","visible"),this._arrangeScrollbars(this.scrollBarSize))},val:function(a){var b=this.textarea,c=b.val();e.jqx.browser.msie&&10>e.jqx.browser.version&&c===this.placeHolder&&(c="");if(0===arguments.length||"object"===typeof a&&!0===e.isEmptyObject(a))return""!==this.displayMember&&""!==this.valueMember&&this.selectedItem?""===c?"":this.selectedItem:c;if(a&&a.label){if(this.selectedItem&&a.label===this.selectedItem.label&&a.value===this.selectedItem.value)return a.label;this.selectedItem={label:a.label,value:a.value};this.host.attr("data-value",a.value);this.host.attr("data-label",a.label);b.val(a.label);b=a.label}else{if(c===a)return a;b.val(a);this.host.attr("data-value",a);this.host.attr("data-label",a);b=a}this._arrange();this._raiseEvent("0");return b},focus:function(){this.textarea.focus()},selectAll:function(){var a=this.textarea;setTimeout(function(){if("selectionStart"in a[0])a[0].focus(),a[0].setSelectionRange(0,a[0].value.length);else{var b=a[0].createTextRange();b.collapse(!0);b.moveEnd("character",a[0].value.length);b.moveStart("character",0);b.select()}},10)},_arrangeScrollbars:function(a){var b=this.host.width(),c=this.host.height(),f=this.vScrollBar,d="hidden"!==f[0].style.visibility;f.width(a);f.height(parseInt(c,10)-2+"px");f.css({left:parseInt(b,10)-parseInt(a,10)-2-2+"px",top:"0px"});this.rtl?(f.css({left:"0px"}),a=d?parseInt(a,10)+"px":0,"rtl"!==this.textarea.children().css("direction")&&(b=!1,e.jqx.browser.msie&&8>e.jqx.browser.version&&(b=!0),b||this.textarea.css("padding-left",a))):"hidden"!==f.css("visibility")&&this.textarea.css("width",this.host.width()-this.vScrollBar.outerWidth());f.jqxScrollBar("refresh")},destroy:function(){this.opened&&this._removeItemHandlers();this.$popup.remove();this.vScrollBar.jqxScrollBar("destroy");this._removeHandlers();this.host.remove()},propertyChangedHandler:function(a,b,c,f){if(void 0!==a.isInitialized&&!1!==a.isInitialized&&f!==c)switch(b){case "theme":a.vScrollBar.jqxScrollBar({theme:a.theme});break;case "width":a.host.css("width",f);a._arrange();break;case "height":a.host.css("height",f);a._arrange();break;case "source":a._oldsource=f;a._updateSource();break;case "displayMember":case "valueMember":a.source=a._oldsource;a._updateSource();break;case "opened":!0===f?a.open():a.close();break;case "maxLength":a.textarea.attr("maxlength",f);break;case "placeHolder":a.textarea.attr("placeholder",f);e.jqx.browser.msie&&10>e.jqx.browser.version&&a.textarea.val()===c&&a.textarea.val(f);break;case "scrollBarSize":a._arrange();break;case "dropDownWidth":a.$popup.width(f);break;case "roundedCorners":!0===f?a.host.add(a.$popup).addClass(a.toThemeProperty("jqx-rc-all")):a.host.add(a.$popup).removeClass(a.toThemeProperty("jqx-rc-all"));break;case "disabled":a.vScrollBar.jqxScrollBar({disabled:f});!0===f?(a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a.textarea.attr("disabled","")):(a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a.textarea.removeAttr("disabled"));e.jqx.aria(a,"aria-disabled",f);break;case "rtl":!0===f?a.textarea.addClass(a.toThemeProperty("jqx-text-area-element-rtl")):a.textarea.removeClass(a.toThemeProperty("jqx-text-area-element-rtl")),a._arrange()}},_raiseEvent:function(a,b){void 0===b&&(b={owner:null});var c=this.events[a];b.owner=this;var f=new e.Event(c);f.owner=this;f.args=b;f.preventDefault&&f.preventDefault();return("change"===c||"div"===this._baseHost[0].tagName.toLowerCase()?this.host:this._baseHost).trigger(f)},_addHandlers:function(){var a=this,b=a.element.id,c=a.host,f=a.textarea;e.jqx.utilities.resize(a._baseHost,function(){a._ttimer=setTimeout(function(){a._arrange()},100)},!1,!0);a.addHandler(c,(e.jqx.browser.mozilla?"wheel":"mousewheel")+".jqxTextArea"+b,function(b){a.wheel(b,a)});a.addHandler(c,"mouseenter.jqxTextArea"+b,function(){a.focused=!0});a.addHandler(c,"mouseleave.jqxTextArea"+b,function(){a.focused=!1});a.addHandler(c,"focus.jqxTextArea"+b,function(){a.focused=!0});a.addHandler(c,"blur.jqxTextArea"+b,function(){a.focused=!1});a.addHandler(a.wrapper,"scroll.jqxTextArea"+b,function(){0!==a.wrapper[0].scrollTop&&(a.wrapper[0].scrollTop=0);0!==a.wrapper[0].scrollLeft&&(a.wrapper[0].scrollLeft=0)});a.addHandler(f,"change.jqxTextArea"+b,function(b){b.stopPropagation();b.preventDefault();a._arrange();a._raiseEvent("0")});a.addHandler(f,"select.jqxTextArea"+b,function(a){a.stopPropagation();a.preventDefault()});a.addHandler(f,"scroll.jqxTextArea"+b,function(){a._arrange()});a.addHandler(f,"focus.jqxTextArea"+b,function(){a.host.addClass(a.toThemeProperty("jqx-fill-state-focus"));e.jqx.browser.msie&&10>e.jqx.browser.version&&a.textarea.val()===a.placeHolder&&a.textarea.val("")});a.addHandler(f,"blur.jqxTextArea"+b,function(){a.host.removeClass(a.toThemeProperty("jqx-fill-state-focus"));if(e.jqx.browser.msie&&10>e.jqx.browser.version){var b=a.textarea.val();""===b?a.textarea.val(a.placeHolder):null!==a.maxLength&&b.length>a.maxLength&&a.textarea.val(b.substr(0,a.maxLength))}});a.addHandler(f,"keydown.jqxTextArea"+b,function(b){a._suppressKeyPressRepeat=~e.inArray(b.keyCode,[40,38,9,13,27]);a._move(b)});a.addHandler(f,"keypress.jqxTextArea"+b,function(b){if(null!==a.maxLength&&e.jqx.browser.msie&&10>e.jqx.browser.version&&f.val().length>a.maxLength)return!1;a._suppressKeyPressRepeat||a._move(b)});a.addHandler(f,"keyup.jqxTextArea"+b,function(b){switch(b.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!a.opened)return;a._select();break;case 27:if(!a.opened)return;a.close();break;default:a.timer&&clearTimeout(a.timer),a.timer=setTimeout(function(){a._suggest()},300)}b.stopPropagation();b.preventDefault();a._arrange()});a.addHandler(a.vScrollBar,"valueChanged.jqxTextArea"+b,function(a){f.scrollTop(a.currentValue)});a.addHandler(a.$popup,"mousedown.jqxTextArea"+b,function(b){b.stopPropagation();b.preventDefault();a._select()})},_removeHandlers:function(){var a=this.element.id,b=this.host,c=this.textarea;e.jqx.utilities.resize(this._baseHost,null,!0);this.removeHandler(b,"mousewheel.jqxTextArea"+a);this.removeHandler(b,"mouseenter.jqxTextArea"+a);this.removeHandler(b,"mouseleave.jqxTextArea"+a);this.removeHandler(b,"focus.jqxTextArea"+a);this.removeHandler(b,"blur.jqxTextArea"+a);this.removeHandler(this.wrapper,"scroll.jqxTextArea"+a);this.removeHandler(c,"change.jqxTextArea"+a);this.removeHandler(c,"select.jqxTextArea"+a);this.removeHandler(c,"scroll.jqxTextArea"+a);this.removeHandler(c,"focus.jqxTextArea"+a);this.removeHandler(c,"blur.jqxTextArea"+a);this.removeHandler(c,"keydown.jqxTextArea"+a);this.removeHandler(c,"keypress.jqxTextArea"+a);this.removeHandler(c,"keyup.jqxTextArea"+a);this.removeHandler(this.vScrollBar,"valueChanged.jqxTextArea"+a);this.removeHandler(this.$popup,"mousedown.jqxTextArea"+a)},_addItemHandlers:function(){var a=this;a.addHandler(a.$popup.find("li"),"mouseenter.jqxTextArea"+a.element.id,function(b){a.$popup.find(".jqx-fill-state-pressed").removeClass(a.toThemeProperty("jqx-fill-state-pressed"));e(b.currentTarget).addClass(a.toThemeProperty("jqx-fill-state-pressed"))})},_removeItemHandlers:function(){this.removeHandler(this.$popup.find("li"),"mouseenter.jqxTextArea"+this.element.id)},wheel:function(a,b){var c=0;a.originalEvent&&e.jqx.browser.msie&&a.originalEvent.wheelDelta&&(c=a.originalEvent.wheelDelta/120);a||(a=window.event);a.wheelDelta?c=a.wheelDelta/120:a.detail?c=-a.detail/3:a.originalEvent.wheelDelta?c=a.originalEvent.wheelDelta/120:a.originalEvent.detail?c=-a.originalEvent.detail/3:a.originalEvent.deltaY&&(c=-a.originalEvent.deltaY/3);if(c)return(c=b._handleDelta(c))||a.preventDefault&&a.preventDefault(),c?!1:c;a.preventDefault&&a.preventDefault();a.returnValue=!1},_handleDelta:function(a){var b=this.vScrollBar.jqxScrollBar("getInstance");if(this.focused){var c=b.value;0>a?this.scrollDown():this.scrollUp();if(c!==b.value)return!1}return!0},scrollDown:function(){if("hidden"===this.vScrollBar.css("visibility"))return!1;var a=this.vScrollBar.jqxScrollBar("getInstance");a.setPosition(Math.min(a.value+a.largestep,a.max));this._arrange();return!0},scrollUp:function(){if("hidden"===this.vScrollBar.css("visibility"))return!1;var a=this.vScrollBar.jqxScrollBar("getInstance");a.setPosition(Math.max(a.value-a.largestep,a.min));this._arrange();return!0},_setSize:function(){this.host.css("width",this.width);this.host.css("height",this.height)},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-panel"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this.host.addClass(this.toThemeProperty("jqx-text-area"));this.textarea.addClass(this.toThemeProperty("jqx-widget-content"));!0===this.roundedCorners&&this.host.addClass(this.toThemeProperty("jqx-rc-all"));!0===this.disabled?(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this.textarea.attr("disabled",""),e.jqx.aria(this,"aria-disabled",!0)):e.jqx.aria(this,"aria-disabled",!1);!0===this.rtl&&this.textarea.addClass(this.toThemeProperty("jqx-text-area-element-rtl"))},_addPopupClasses:function(){var a=this.$popup;a.addClass(this.toThemeProperty("jqx-popup"));e.jqx.browser.msie&&a.addClass(this.toThemeProperty("jqx-noshadow"));a.addClass(this.toThemeProperty("jqx-input-popup"));a.addClass(this.toThemeProperty("jqx-menu"));a.addClass(this.toThemeProperty("jqx-menu-vertical"));a.addClass(this.toThemeProperty("jqx-menu-dropdown"));a.addClass(this.toThemeProperty("jqx-widget"));a.addClass(this.toThemeProperty("jqx-widget-content"));this.roundedCorners&&a.addClass(this.toThemeProperty("jqx-rc-all"))},_updateSource:function(){var a=this,b=function(b){var c=[];return c=e.map(b,function(b){if(void 0===b)return null;if("string"===typeof b||b instanceof String)return{label:b,value:b};if("string"!==typeof b&&!1===b instanceof String){var c="",d="";""!==a.displayMember&&void 0!==a.displayMember&&b[a.displayMember]&&(c=b[a.displayMember]);""!==a.valueMember&&void 0!==a.valueMember&&(d=b[a.valueMember]);""===c&&(c=b.label);""===d&&(d=b.value);return{label:c,value:d}}return b})};if(a.source&&a.source._source){a.adapter=a.source;if(a.adapter._source.localdata)a.adapter.unbindBindingUpdate(a.element.id),a.adapter.bindBindingUpdate(a.element.id,function(){a.source=b(a.adapter.records)});else{var c={};a.adapter._options.data?e.extend(a.adapter._options.data,c):(a.source._source.data&&e.extend(c,a.source._source.data),a.adapter._options.data=c);a.adapter.unbindDownloadComplete(a.element.id);a.adapter.bindDownloadComplete(a.element.id,function(){a.source=b(a.adapter.records)})}a.source.dataBind()}else e.isFunction(a.source)||(a.source=b(a.source))},open:function(){if(!e.jqx.isHidden(this.host)){var a=e.extend({},this.host.coord(!0),{height:this.host[0].offsetHeight});if(0===this.$popup.parent().length){var b=this._id+"_popup";this.$popup[0].id=b;e.jqx.aria(this,"aria-owns",b)}this.$popup.appendTo(e(document.body)).css({position:"absolute",zIndex:this.popupZIndex,top:a.top+a.height,left:a.left}).show();var c=0,a=this.$popup.children();e.each(a,function(){c+=e(this).outerHeight(!0)-1});this.$popup.height(c);this.opened=!0;this._raiseEvent("2",{popup:this.$popup});e.jqx.aria(this,"aria-expanded",!0);this._addItemHandlers();return this}},close:function(){this._removeItemHandlers();this.$popup.hide();this.opened=!1;this._raiseEvent("3",{popup:this.$popup});e.jqx.aria(this,"aria-expanded",!1);return this},_suggest:function(){var a;this.query=this.textarea[0].value;return!this.query||this.query.length<this.minLength?this.opened?this.close():this:(a=e.isFunction(this.source)?this.source(this.query,e.proxy(this._load,this)):this.source)?this._load(a):this},_load:function(a){var b=this;a=e.grep(a,function(a){return b.filter(a)});a=b.sort(a);return a.length?b._render(a.slice(0,b.items)).open():b.opened?b.close():b},_filter:function(a){var b=this.query,c=a;void 0!==a.label?c=a.label:this.displayMember&&(c=a[this.displayMember]);switch(this.searchMode){case "none":break;case "contains":return e.jqx.string.contains(c,b);case "equals":return e.jqx.string.equals(c,b);case "equalsignorecase":return e.jqx.string.equalsIgnoreCase(c,b);case "startswith":return e.jqx.string.startsWith(c,b);case "startswithignorecase":return e.jqx.string.startsWithIgnoreCase(c,b);case "endswith":return e.jqx.string.endsWith(c,b);case "endswithignorecase":return e.jqx.string.endsWithIgnoreCase(c,b);default:return e.jqx.string.containsIgnoreCase(c,b)}},_sort:function(a){for(var b=[],c=[],e=[],d=0;d<a.length;d++){var g=a[d],h=g;g.label?h=g.label:this.displayMember&&(h=g[this.displayMember]);0===h.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())?b.push(g):0<=h.toString().indexOf(this.query)?c.push(g):0<=h.toString().toLowerCase().indexOf(this.query.toString().toLowerCase())&&e.push(g)}return b.concat(c,e)},_render:function(a){var b=this;a=e(a).map(function(a,f){var d=f;a=void 0!==f.value?void 0!==f.label?e(b.item).attr({"data-name":f.label,"data-value":f.value}):e(b.item).attr({"data-name":f.value,"data-value":f.value}):void 0!==f.label?e(b.item).attr({"data-value":f.label,"data-name":f.label}):void 0!==b.displayMember&&""!==b.displayMember?e(b.item).attr({"data-name":f[b.displayMember],"data-value":f[b.valueMember]}):e(b.item).attr({"data-value":f,"data-name":f});f.label?d=f.label:b.displayMember&&(d=f[b.displayMember]);a.find("a").html(b.highlight(d));var g=d="";!0===b.roundedCorners&&(d=" "+b.toThemeProperty("jqx-rc-all"));b.rtl&&(g=" "+b.toThemeProperty("jqx-rtl"));a[0].className=b.toThemeProperty("jqx-item")+" "+b.toThemeProperty("jqx-menu-item")+d+g;return a[0]});a.first().addClass(b.toThemeProperty("jqx-fill-state-pressed"));b.$popup.html(a);b.dropDownWidth?b.$popup.width(b.dropDownWidth):b.$popup.width(b.host.outerWidth()-6);return b},_highlight:function(a){var b=this.query,b=b.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$\x26");return a.replace(new RegExp("("+b+")","ig"),function(a,b){return"\x3cb\x3e"+b+"\x3c/b\x3e"})},_select:function(){var a=this.$popup.find(".jqx-fill-state-pressed").attr("data-value"),b=this.$popup.find(".jqx-fill-state-pressed").attr("data-name");this.textarea[0].value=this.renderer(b,this.textarea[0].value);this.selectedItem={label:b,value:a};this.host.attr("data-value",a);this.host.attr("data-label",b);this._raiseEvent("1",{item:{label:b,value:a}});this._arrange();this.textarea[0].scrollTop=this.textarea[0].scrollHeight;this._raiseEvent("0");return this.close()},_renderer:function(a){return a},_move:function(a){if(this.opened){switch(a.keyCode){case 9:case 13:case 27:a.preventDefault();break;case 38:a.shiftKey||(a.preventDefault(),this._prev());break;case 40:a.shiftKey||(a.preventDefault(),this._next())}a.stopPropagation()}},_next:function(){var a=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).next();a.length||(a=e(this.$popup.find("li")[0]));a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))},_prev:function(){var a=this.$popup.find(".jqx-fill-state-pressed").removeClass(this.toThemeProperty("jqx-fill-state-pressed")).prev();a.length||(a=this.$popup.find("li").last());a.addClass(this.toThemeProperty("jqx-fill-state-pressed"))}})})(jqxBaseFramework);(function(e){e.jqx.jqxWidget("jqxToolBar","",{});e.extend(e.jqx._jqxToolBar.prototype,{defineInstance:function(){e.extend(!0,this,{width:"100%",minWidth:null,maxWidth:null,height:35,tools:"",initTools:null,minimizeWidth:200,disabled:!1,rtl:!1,events:["open","close"]})},createInstance:function(){this._toolToWidgetMapping={button:"jqxButton",toggleButton:"jqxToggleButton",dropdownlist:"jqxDropDownList",combobox:"jqxComboBox",input:"jqxInput"};this._toolChanges=[];this.render()},render:function(){var a=!0;this.host.html("");this.host.removeClass(this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar jqx-fill-state-disabled"));this._setSize();this._destroyTools(!1);this._toolWidgets&&(a=!1,this._minimizeButton.add(this._minimizePopup).remove());this._appendMinimizeButton();this._addClasses();this._createTools();!0===this.disabled&&(this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled")),this._disableTools(!0));this._minimize();this._removeHandlers();this._addHandlers();!1===a&&0<this._toolChanges.length&&this._restoreChanges()},refresh:function(a){!0!==a&&this.render()},getTools:function(){return this._toolWidgets},destroy:function(){this._removeHandlers();this._destroyTools();this.host.remove()},_destroyTools:function(a){!1!==a&&(a=!0);if(this._toolWidgets)for(var b=this._toolWidgets.length-1;0<=b;b--)this._destroyTool(b,a)},_destroyTool:function(a,b){a=parseInt(a,10);var c=this._toolWidgets[a];if(c){var e=c.type,d=this._getBothTools(c);if("custom"!==e)d[this._toolToWidgetMapping[e]]("destroy");else d.remove();c.menuSeparator&&c.menuSeparator.remove();this._toolWidgets.splice(a,1);this._checkType(e)&&this._refreshButtonGroups();this._minimize();!1!==b&&this._toolChanges.push({action:"destroyTool",index:a})}},destroyTool:function(a){this._destroyTool(a,!0)},addTool:function(a,b,c,e){var d,g,h,l;d="first"===b?0:this._toolWidgets.length;this._toolWidgets[d-1]&&(g=this._toolWidgets[d-1].tool,h=this._toolWidgets[d-1].separatorAfterWidget?"|":this._toolWidgets[d-1].type);!0===c?l="|":this._toolWidgets[d+1]&&(l=this._toolWidgets[d+1].type);d=this._initializeTool(d,a,g,h,l,e,!1);"first"===b?this._toolWidgets.splice(0,0,d):this._toolWidgets.push(d);this._removeHandlers();this._addHandlers();this._checkType(a)&&this._refreshButtonGroups();"first"!==b&&0<this._minimizedTools?this._minimizeTool(!0):this._minimize();this._toolChanges.push({action:"addTool",type:a,position:b,separator:c,initCallback:e})},_disableTools:function(a){for(var b=0;b<this._toolWidgets.length;b++)this.disableTool(b,a)},disableTool:function(a,b){a=parseInt(a,10);var c=this._toolWidgets[a];if(c){var e=c.type,c=this._getBothTools(c);if("custom"!==e)c[this._toolToWidgetMapping[e]]({disabled:b});this._toolChanges.push({action:"disableTool",index:a,disable:b})}},propertyChangedHandler:function(a,b,c,f){if("initTools"!==b&&f!==c)switch(b){case "theme":""!==c&&(a.host.removeClass("jqx-widget-"+c+" jqx-fill-state-normal-"+c+" jqx-rc-all-"+c+" jqx-toolbar-"+c),a._minimizePopup.removeClass("jqx-popup-"+c+" jqx-fill-state-normal-"+c+" jqx-rc-b-"+c+" jqx-toolbar-minimized-popup-"+c));a._addClasses();a._minimizePopup.addClass(a.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup"));for(b=0;b<a._toolWidgets.length;b++){var d=a._toolWidgets[b];if("custom"!==d.type){var g=a._getBothTools(d);d.menuTool&&d.menuSeparator&&(d.menuSeparator.removeClass("jqx-fill-state-pressed-"+c+" jqx-toolbar-minimized-popup-separator-"+c),d.menuSeparator.addClass(a.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator")));g[a._toolToWidgetMapping[a._toolWidgets[b].type]]({theme:f})}}e.jqx.utilities.setTheme(c,f,a.host);break;case "width":a.host.width(f);a._minimize();break;case "minWidth":a.host.css("min-width",f);a._minimize();break;case "maxWidth":a.host.css("max-width",f);a._minimize();break;case "height":a.host.height(f);for(c=0;c<a._toolWidgets.length;c++)if(d=a._toolWidgets[c],b=d.type,d=a._getBothTools(d),"button"===b||"toggleButton"===b||"repeatButton"===b||"linkButton"===b)d.css("height",f);else if("dropdownlist"===b||"combobox"===b||"input"===b)d[a._toolToWidgetMapping[b]]({height:f-2});break;case "tools":a._removeHandlers();a._destroyTools();a._createTools();a._addHandlers();a._minimize();break;case "minimizeWidth":!0===a._isOpen?(c=parseInt(a._minimizePopup.css("left"),10)-(f-c),a._minimizePopup.css({width:f+"px",left:c+"px"})):a._minimizePopup.width(f);break;case "rtl":a.render();break;case "disabled":!0===f?(a.host.addClass(a.toThemeProperty("jqx-fill-state-disabled")),a._disableTools(!0)):(a.host.removeClass(a.toThemeProperty("jqx-fill-state-disabled")),a._disableTools(!1))}},_raiseEvent:function(a,b){void 0===b&&(b={owner:null});var c=this.events[a];b.owner=this;c=new e.Event(c);c.owner=this;c.args=b;c.preventDefault&&c.preventDefault();return this.host.trigger(c)},_addClasses:function(){this.host.addClass(this.toThemeProperty("jqx-widget jqx-fill-state-normal jqx-rc-all jqx-toolbar"));!0===this.rtl&&this.host.addClass(this.toThemeProperty("jqx-toolbar-rtl"))},_checkType:function(a){return"button"===a||"toggleButton"===a||"repeatButton"===a||"linkButton"===a?!0:!1},_refreshButtonGroups:function(){function a(a,e,d,g,h,l){a[e+"Class"](b.toThemeProperty("jqx-toolbar-tool-inner-button"));a[d+"Class"](b.toThemeProperty("jqx-rc-all"));a[g+"Class"](b.toThemeProperty("jqx-rc-l"));a[h+"Class"](b.toThemeProperty("jqx-rc-r"));a.css("border-left-width",l+"px")}var b=this;e.each(b._toolWidgets,function(c,e){if(b._checkType(e.type)){var d,g,h=b._getBothTools(e);0<c&&(d=b._toolWidgets[c-1].separatorAfterWidget?"|":b._toolWidgets[c-1]);e.separatorAfterWidget?g="|":c<b._toolWidgets.length-1&&(g=b._toolWidgets[c+1]);d=d&&b._checkType(d.type);g=!1===e.separatorAfterWidget&&g&&b._checkType(g.type);d||g?!d&&g?a(h,"remove","remove","add","remove",1):d&&g?a(h,"add","remove","remove","remove",0):d&&!g&&a(h,"remove","remove","remove","add",0):a(h,"remove","add","remove","remove",1);d=b.rtl?"rtl":"ltr";g?(h.removeClass(b.toThemeProperty("jqx-toolbar-tool-separator-"+d)),h.removeClass(b.toThemeProperty("jqx-toolbar-tool-no-separator-"+d))):e.separatorAfterWidget?(h.removeClass(b.toThemeProperty("jqx-toolbar-tool-no-separator-"+d)),h.addClass(b.toThemeProperty("jqx-toolbar-tool-separator-"+d))):(h.removeClass(b.toThemeProperty("jqx-toolbar-tool-separator-"+d)),h.addClass(b.toThemeProperty("jqx-toolbar-tool-no-separator-"+d)))}})},_addHandlers:function(){var a=this,b=a.element.id;e.jqx.utilities.resize(a.host,function(){if(e.jqx.browser.msie&&8>e.jqx.browser.version&&"string"===typeof a.width&&"%"===a.width.charAt(a.width.length-1)){var b=a.host.parent().width()*parseFloat(a.width.replace("%",""))/100,f=parseInt(a.host.css("border-left-width"),10)+parseInt(a.host.css("border-right-width"),10)+parseInt(a.host.css("padding-left"),10)+parseInt(a.host.css("padding-right"),10);a.host.css("width",b-f-1)}!0===a._isOpen&&(a._minimizePopup.hide(),a._isOpen=!1,a._raiseEvent("1"));a._minimize()});a.addHandler(e(document),"click.jqxToolbar"+b,function(){!0===a._isOpen&&a._openMinimizePopup()});a.addHandler(a._minimizeButton,"click.jqxToolbar"+b,function(b){b.stopPropagation();a._openMinimizePopup()});a.addHandler(e(".jqx-popup"),"click.jqxToolbar"+b,function(a){e(a.target).hasClass("jqx-window-content")||a.stopPropagation()})},_removeHandlers:function(){var a=this.element.id;this.removeHandler(e(document),"click.jqxToolbar"+a);this.removeHandler(this._minimizeButton,"click.jqxToolbar"+a);this.removeHandler(e(".jqx-popup"),"click.jqxToolbar"+a)},_setSize:function(){this.host.width(this.width);this.host.height(this.height);this.minWidth&&this.host.css("min-width",this.minWidth);this.maxWidth&&this.host.css("max-width",this.maxWidth)},_createTools:function(){var a=this,b=a.tools.split(" "),c=e.trim(a.tools.replace(/\|/g,"")),c=c.replace(/\s+/g," "),c=c.split(" ");a._toolWidgets=[];var f=0;e.each(c,function(d,e){c[d]!==b[d+f]&&f++;var h=d+f,l;a._toolWidgets[d-1]&&(l=a._toolWidgets[d-1].tool);h=a._initializeTool(d,b[h],l,b[h-1],b[h+1],a.initTools,!0);a._toolWidgets.push(h)});a._minimizePopup.css({display:"none",visibility:"visible"})},_initializeTool:function(a,b,c,f,d,g,h){var l,k;k=this._initializeWidget(b,l,k,c);l=k.tool;k=k.menuTool;c=!0;l.addClass(this.toThemeProperty("jqx-toolbar-tool"));!0===this.rtl&&l.addClass(this.toThemeProperty("jqx-toolbar-tool-rtl"));if(this.initTools){var m;m=!0===h?this.initTools(b,a,l,!1):g(b,l,!1);if(!m||!1!==m.minimizable&&!1!==m.menuTool)!0===h?this.initTools(b,a,k,!0):g(b,k,!0),k.addClass(this.toThemeProperty("jqx-toolbar-tool-minimized"));else{if("custom"!==b)k[this._toolToWidgetMapping[b]]("destroy");else k.remove();!1===m.minimizable&&(c=!1);k=!1}}a=!1;g=l;k&&(g=g.add(k),k.css("display","none"));var n;h=this.rtl?"rtl":"ltr";m=["button","toggleButton","repeatButton","linkButton"];var p={button:"jqxButton",toggleButton:"jqxToggleButton",repeatButton:"jqxRepeatButton",linkButton:"jqxRepeatButton"};"|"===d?(a=!0,g.addClass(this.toThemeProperty("jqx-toolbar-tool-separator-"+h)),k&&(n=e('\x3cdiv class\x3d"'+this.toThemeProperty("jqx-fill-state-pressed jqx-toolbar-minimized-popup-separator")+'"\x3e\x3c/div\x3e'),this._minimizePopup.append(n))):(-1===m.indexOf(b)||-1!==m.indexOf(b)&&-1===m.indexOf(d))&&g.addClass(this.toThemeProperty("jqx-toolbar-tool-no-separator-"+h));if(-1===m.indexOf(f)&&-1!==m.indexOf(b)&&-1!==m.indexOf(d))if(!1===this.rtl)g[p[b]]({roundedCorners:"left"});else g[p[b]]({roundedCorners:"right"}),g.css("border-left-width",0);else if(-1!==m.indexOf(f)&&-1!==m.indexOf(b)&&-1!==m.indexOf(d))g.addClass(this.toThemeProperty("jqx-toolbar-tool-inner-button")),g.css("border-left-width",0);else if(-1!==m.indexOf(f)&&-1!==m.indexOf(b)&&-1===m.indexOf(d))if(!1===this.rtl)g[p[b]]({roundedCorners:"right"}),g.css("border-left-width",0);else g[p[b]]({roundedCorners:"left"});e.jqx.browser.msie&&8>e.jqx.browser.version&&"combobox"===b&&g.find(".jqx-combobox-arrow-normal").width(18);return{type:b,tool:l,separatorAfterWidget:a,minimizable:c,minimized:!1,menuTool:k,menuSeparator:n}},_initializeWidget:function(a,b,c,f){function d(){c=b.clone();f?(f.after(b),g._minimizePopup.append(c)):(g.host.prepend(b),g._minimizePopup.prepend(c))}var g=this;if("custom"!==a&&void 0===g.host[g._toolToWidgetMapping[a]])throw a=g._toolToWidgetMapping[a].toLowerCase(),Error("jqxToolBar: Missing reference to "+a+".js");switch(a){case "button":case "toggleButton":b=e("\x3cbutton\x3e\x3c/button\x3e");d();b.add(c)[g._toolToWidgetMapping[a]]({theme:g.theme,height:g.host.height(),disabled:g.disabled,rtl:g.rtl});break;case "dropdownlist":case "combobox":b=e("\x3cdiv\x3e\x3c/div\x3e");d();b.add(c)[g._toolToWidgetMapping[a]]({theme:g.theme,autoDropDownHeight:!0,height:g.host.height()-2,disabled:g.disabled,rtl:g.rtl});break;case "input":b=e('\x3cinput type\x3d"text" /\x3e');d();b.add(c).jqxInput({theme:g.theme,height:g.host.height()-2,disabled:g.disabled,rtl:g.rtl});break;case "custom":b=e("\x3cdiv\x3e\x3c/div\x3e"),d()}return{tool:b,menuTool:c}},_appendMinimizeButton:function(){this._minimizedTools=0;this._minimizeButton=e('\x3cdiv class\x3d"'+this.toThemeProperty("jqx-menu-minimized-button jqx-toolbar-minimized-button")+'"\x3e\x3c/div\x3e');this._minimizePopup=e('\x3cdiv id\x3d"'+this.element.id+'Popup" class\x3d"'+this.toThemeProperty("jqx-popup jqx-fill-state-normal jqx-rc-b jqx-toolbar-minimized-popup")+'"\x3e\x3c/div\x3e');!0===this.rtl&&(this._minimizeButton.addClass(this.toThemeProperty("jqx-toolbar-minimized-button-rtl")),this._minimizePopup.addClass(this.toThemeProperty("jqx-toolbar-minimized-popup-rtl")));this.host.append(this._minimizeButton);e("body").append(this._minimizePopup);this._isOpen=!1;this._minimizePopup.width(this.minimizeWidth)},_openMinimizePopup:function(){if(!1===this._isOpen){var a=this.host.offset(),b=a.left;!1===this.rtl&&(b+=this.host.outerWidth()-this._minimizePopup.outerWidth());a=a.top+this.host.outerHeight()-1;this._minimizePopup.css({left:b,top:a});this._minimizePopup.slideDown("fast");this._isOpen=!0;this._raiseEvent("0")}else this._minimizePopup.slideUp("fast"),this._isOpen=!1,this._raiseEvent("1")},_minimize:function(){var a=0;0<this._minimizedTools&&(a=this._minimizeButton.outerWidth()+parseInt(this._minimizeButton.css("margin-left"),10));a=this.host.width()-parseInt(this.host.css("padding-left"),10)-parseInt(this.host.css("padding-right"),10)-a;if(!(0>a)){for(var b=0,c,e=0;e<this._toolWidgets.length;e++)if(!1===this._toolWidgets[e].minimized)var d=this._toolWidgets[e].tool.outerWidth(!0),b=b+d;else void 0===c&&(c=this._toolWidgets[e].tool.outerWidth(!0));b>a?(this._minimizeTool(!0),this._minimize()):void 0!==c&&b+c<a&&(this._minimizeTool(!1),this._minimize())}},_minimizeTool:function(a){var b;if(!0===a)for(var c=this._toolWidgets.length-1;0<=c;c--){if(a=this._toolWidgets[c],!1!==a.minimizable&&!1===a.minimized){b=this._getToolValue(a.tool,a.type);a.tool[0].style.display="none";a.menuTool&&(a.menuTool.show(),this._setToolValue(b,a.menuTool,a.type));a.menuSeparator&&a.menuSeparator.show();this._toolWidgets[c].minimized=!0;this._minimizedTools++;1===this._minimizedTools&&this._minimizeButton.show();break}}else for(c=0;c<this._toolWidgets.length;c++)if(a=this._toolWidgets[c],!0===a.minimized){a.menuTool&&(b=this._getToolValue(a.menuTool,a.type),a.menuTool.hide());a.menuSeparator&&a.menuSeparator.hide();a.tool.show();a.menuTool&&this._setToolValue(b,a.tool,a.type);this._toolWidgets[c].minimized=!1;this._minimizedTools--;0===this._minimizedTools&&this._minimizeButton.hide();break}},_getToolValue:function(a,b){var c;switch(b){case "button":case "custom":c=void 0;break;case "toggleButton":c=a.hasClass("jqx-fill-state-pressed");c={text:a.text(),toggled:c};break;case "dropdownlist":case "combobox":c=a[this._toolToWidgetMapping[b]]("getSelectedIndex");break;case "input":c=a.val()}return c},_setToolValue:function(a,b,c){if(void 0!==a)switch(c){case "toggleButton":b.text(a.text);b.hasClass("jqx-fill-state-pressed")!==a.toggled&&b.jqxToggleButton("toggle");break;case "dropdownlist":case "combobox":b[this._toolToWidgetMapping[c]]("selectIndex",a);break;case "input":b.val(a)}},_restoreChanges:function(){var a=this;e.each(a._toolChanges,function(b,c){"addTool"===c.action?a.addTool(c.type,c.position,c.separator,c.initCallback):"destroyTool"===c.action?a._destroyTool(c.index):"disableTool"===c.action&&a.disableTool(c.index,c.disable)})},_getBothTools:function(a){var b=a.tool;a.menuTool&&(b=b.add(a.menuTool));return b}})})(jqxBaseFramework);(function(e){function a(a){return!e(a).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}e.jqx.jqxWidget("jqxWindow","",{});e.extend(e.jqx._jqxWindow.prototype,{defineInstance:function(){var a={height:"auto",width:200,minHeight:50,maxHeight:600,minWidth:50,maxWidth:800,showCloseButton:!0,disabled:!1,autoOpen:!0,keyboardCloseKey:"esc",title:"",content:"",draggable:!0,resizable:!0,animationType:"fade",closeAnimationDuration:250,showAnimationDuration:250,isModal:!1,position:"center",closeButtonSize:16,closeButtonAction:"hide",modalOpacity:.3,dragArea:null,okButton:null,cancelButton:null,dialogResult:{OK:!1,Cancel:!1,None:!0},collapsed:!1,showCollapseButton:!1,collapseAnimationDuration:150,collapseButtonSize:16,rtl:!1,keyboardNavigation:!0,headerHeight:null,_events:"created closed moving moved open collapse expand open close resize".split(" "),initContent:null,enableResize:!0,restricter:null,autoFocus:!0,closing:null,_invalidArgumentExceptions:{invalidHeight:"Invalid height!",invalidWidth:"Invalid width!",invalidMinHeight:"Invalid minHeight!",invalidMaxHeight:"Invalid maxHeight!",invalidMinWidth:"Invalid minWidth!",invalidMaxWidth:"Invalid maxWidth",invalidKeyCode:"Invalid keyCode!",invalidAnimationType:"Invalid animationType!",invalidCloseAnimationDuration:"Invalid closeAnimationDuration!",invalidShowAnimationDuration:"Invalid showAnimationDuration!",invalidPosition:"Invalid position!",invalidCloseButtonSize:"Invalid closeButtonSize!",invalidCollapseButtonSize:"Invalid collapseButtonSize!",invalidCloseButtonAction:"Invalid cluseButtonAction!",invalidModalOpacity:"Invalid modalOpacity!",invalidDragArea:"Invalid dragArea!",invalidDialogResult:"Invalid dialogResult!",invalidIsModal:"You can have just one modal window!"},_enableResizeCollapseBackup:null,_enableResizeBackup:void 0,_heightBeforeCollapse:null,_minHeightBeforeCollapse:null,_mouseDown:!1,_isDragging:!1,_rightContentWrapper:null,_leftContentWrapper:null,_headerContentWrapper:null,_closeButton:null,_collapseButton:null,_title:null,_content:null,_mousePosition:{},_windowPosition:{},_modalBackground:null,_SCROLL_WIDTH:21,_visible:!0,modalBackgroundZIndex:12990,modalZIndex:18E3,zIndex:9001,_touchEvents:{mousedown:e.jqx.mobile.getTouchEventName("touchstart"),mouseup:e.jqx.mobile.getTouchEventName("touchend"),mousemove:e.jqx.mobile.getTouchEventName("touchmove"),mouseenter:"mouseenter",mouseleave:"mouseleave",click:e.jqx.mobile.getTouchEventName("touchstart")}};e.extend(!0,this,a);return a},createInstance:function(){this.host.attr("role","dialog");this.host.removeAttr("data-bind");this.host.detach();e(document.body).append(this.host);var a=this,c=function(){var c=parseInt(e(a.restricter).css("padding-top")),d=parseInt(e(a.restricter).css("padding-left")),g=parseInt(e(a.restricter).css("padding-bottom")),h=parseInt(e(a.restricter).css("padding-right")),l=e(a.restricter).coord();a.dragArea={left:d+l.left,top:c+l.top,width:1+h+e(a.restricter).width(),height:1+g+e(a.restricter).height()}};this.restricter&&c();this.restricter&&(this.addHandler(e(window),"resize."+this.element.id,function(){c()}),this.addHandler(e(window),"orientationchanged."+this.element.id,function(){c()}),this.addHandler(e(window),"orientationchange."+this.element.id,function(){c()}));this._isTouchDevice=e.jqx.mobile.isTouchDevice();this._validateProperties();this._createStructure();this._refresh();this.autoOpen||this.host.css("display","none");e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow"));this.isModal||this._fixWindowZIndex();this._setStartupSettings();this._positionWindow();this._raiseEvent(0);this.autoOpen&&(this._performLayout(),this.isModal&&this._fixWindowZIndex("modal-show"),this.initContent&&(this.initContent(),this._contentInitialized=!0),this._raiseEvent(7),this._raiseEvent(9))},refresh:function(){this._performLayout()},_setStartupSettings:function(){this.disabled&&this.disable();this.collapsed&&(this.collapsed=!1,this.collapse(0));this.autoOpen||(this.hide(null,.001,!0),this._visible=!1);null!==this.title&&""!==this.title&&this.setTitle(this.title);null!==this.content&&""!==this.content&&this.setContent(this.content);this.title=this._headerContentWrapper.html();this.content=this._content.html()},_fixWindowZIndex:function(a){var c=e.data(document.body,"jqxwindows-list")||[],f=this.zIndex;this.isModal?(c&&(c=this._removeFromArray(this.host,c),e.data(document.body,"jqxwindows-list",c)),(c=e.data(document.body,"jqxwindows-modallist"))?"modal-show"==a?c.push(this.host):(a=c.indexOf(this.host),-1!=a&&c.splice(a,1)):"modal-show"==a?(a=[],a.push(this.host),e.data(document.body,"jqxwindows-modallist",a),c=a):(e.data(document.body,"jqxwindows-modallist",[]),c=[]),f=this.modalZIndex,e.each(c,function(a){this.data()&&this.data().jqxWindow&&(a=this.data().jqxWindow.instance,a._modalBackground.css("z-index",f),a.host.css("z-index",f+1),f+=2)}),e.data(document.body,"jqxwindow-modal",this.host)):(0>this._indexOf(this.host,c)&&c.push(this.host),e.data(document.body,"jqxwindows-list",c),1<c.length&&(f=parseInt(c[c.length-2].css("z-index"),10)+1),this.host.css("z-index",f),this._sortByStyle("z-index",c))},_validateProperties:function(){try{this._validateSize();this._validateAnimationProperties();this._validateInteractionProperties();this._validateModalProperties();if(!this.position)throw Error(this._invalidArgumentExceptions.invalidPosition);if(isNaN(this.closeButtonSize)||0>parseInt(this.closeButtonSize))throw Error(this._invalidArgumentExceptions.invalidCloseButtonSize);if(isNaN(this.collapseButtonSize)||0>parseInt(this.collapseButtonSize))throw Error(this._invalidArgumentExceptions.invalidCollapseButtonSize);}catch(a){alert(a)}},_validateModalProperties:function(){if(0>this.modalOpacity||1<this.modalOpacity)throw Error(this._invalidArgumentExceptions.invalidModalOpacity);if(this.isModal&&!this._singleModalCheck())throw Error(this._invalidArgumentExceptions.invalidIsModal);},_validateSize:function(){this._validateSizeLimits();if("auto"!==this.height&&isNaN(parseInt(this.height)))throw Error(this._invalidArgumentExceptions.invalidHeight);if("auto"!==this.width&&isNaN(parseInt(this.width)))throw Error(this._invalidArgumentExceptions.invalidWidth);"auto"!==this.height&&this.height<this.minHeight&&(this.height=this.minHeight);this.width<this.minWidth&&(this.width=this.minWidth);"auto"!==this.height&&this.height>this.maxHeight&&(this.height=this.maxHeight);this.width>this.maxWidth&&(this.width=this.maxWidth);null!==this.dragArea&&this.dragArea&&(null!==this.dragArea.height&&this.host.height()>this.dragArea.height||parseInt(this.height,10))},_validateSizeLimits:function(){null==this.maxHeight&&(this.maxHeight=9999);null==this.minWidth&&(this.minWidth=0);null==this.maxWidth&&(this.maxWidth=9999);null==this.minHeight&&(this.minHeight=0);if(isNaN(parseInt(this.minHeight)))throw Error(this._invalidArgumentExceptions.invalidMinHeight);if(isNaN(parseInt(this.maxHeight)))throw Error(this._invalidArgumentExceptions.invalidMaxHeight);if(isNaN(parseInt(this.minWidth)))throw Error(this._invalidArgumentExceptions.invalidMinWidth);if(isNaN(parseInt(this.maxWidth)))throw Error(this._invalidArgumentExceptions.invalidMaxWidth);if(this.minHeight>this.maxHeight)throw Error(this._invalidArgumentExceptions.invalidMinHeight);if(this.minWidth>this.maxWidth)throw Error(this._invalidArgumentExceptions.invalidMinWidth);},_validateAnimationProperties:function(){if("fade"!==this.animationType&&"slide"!==this.animationType&&"combined"!==this.animationType&&"none"!==this.animationType)throw Error(this._invalidArgumentExceptions.invalidAnimationType);if(isNaN(parseInt(this.closeAnimationDuration),10)||0>this.closeAnimationDuration)throw Error(this._invalidArgumentExceptions.invalidCloseAnimationDuration);if(isNaN(parseInt(this.showAnimationDuration),10)||0>this.showAnimationDuration)throw Error(this._invalidArgumentExceptions.invalidShowAnimationDuration);},_validateInteractionProperties:function(){if(0>parseInt(this.keyCode,10)||130<parseInt(this.keyCode,10)&&"esc"!==this.keyCode)throw Error(this._invalidArgumentExceptions.invalidKeyCode);if(null!==this.dragArea&&("undefined"===typeof this.dragArea.width||"undefined"===typeof this.dragArea.height||"undefined"===typeof this.dragArea.left||"undefined"===typeof this.dragArea.top))throw Error(this._invalidArgumentExceptions.invalidDragArea);if(!this.dialogResult||!this.dialogResult.OK&&!this.dialogResult.Cancel&&!this.dialogResult.None)throw Error(this._invalidArgumentExceptions.invalidDialogResult);if("hide"!==this.closeButtonAction&&"close"!==this.closeButtonAction)throw Error(this._invalidArgumentExceptions.invalidCloseButtonAction);},_singleModalCheck:function(){for(var a=e.data(document.body,"jqxwindows-list")||[],c=a.length;c;)if(--c,0<e(a[c].attr("id")).length&&e(a[c].attr("id")).jqxWindow("isModal"))return!1;return!0},_createStructure:function(){var a=this.host.children("DIV");if(1===a.length)this._header=e("\x3cdiv\x3e"+this.host.attr("caption")+"\x3c/div\x3e"),this.host.prepend(this._header),this.host.attr("caption",""),this._content=e(a[0]);else if(2===a.length)this._header=e(a[0]),this._content=e(a[1]);else throw Error("Invalid structure!");},_refresh:function(){this._render();this._addStyles();this._performLayout();this._removeEventHandlers();this._addEventHandlers();this._initializeResize()},_render:function(){this._addHeaderWrapper();this._addCloseButton();this._addCollapseButton();this._removeModal();this._makeModal()},_addHeaderWrapper:function(){this._headerContentWrapper||(this._header.wrapInner('\x3cdiv style\x3d"float:left;"\x3e\x3c/div\x3e'),this._headerContentWrapper=this._header.children(0),null!==this.headerHeight&&this._header.height(this.headerHeight))},_addCloseButton:function(){this._closeButton||(this._closeButtonWrapper=e('\x3cdiv class\x3d"'+this.toThemeProperty("jqx-window-close-button-background")+'"\x3e\x3c/div\x3e'),this._closeButton=e('\x3cdiv style\x3d"width: 100%; height: 100%;" class\x3d"'+this.toThemeProperty("jqx-window-close-button")+" "+this.toThemeProperty("jqx-icon-close")+'"\x3e\x3c/div\x3e'),this._closeButtonWrapper.append(this._closeButton),this._header.append(this._closeButtonWrapper))},_addCollapseButton:function(){this._collapseButton||(this._collapseButtonWrapper=e('\x3cdiv class\x3d"'+this.toThemeProperty("jqx-window-collapse-button-background")+'"\x3e\x3c/div\x3e'),this._collapseButton=e('\x3cdiv style\x3d"width: 100%; height: 100%;" class\x3d"'+this.toThemeProperty("jqx-window-collapse-button")+" "+this.toThemeProperty("jqx-icon-arrow-up")+'"\x3e\x3c/div\x3e'),this._collapseButtonWrapper.append(this._collapseButton),this._header.append(this._collapseButtonWrapper))},_removeModal:function(){!this.isModal&&"object"===typeof this._modalBackground&&null!==this._modalBackground&&1<=this._modalBackground.length&&(e("."+this.toThemeProperty("jqx-window-modal")).remove(),this._modalBackground=null)},focus:function(){try{this.host.focus();var a=this;setTimeout(function(){a.host.focus()},10)}catch(c){}},_makeModal:function(){if(this.isModal&&(!this._modalBackground||1>this._modalBackground.length)){var a=e.data(document.body,"jqxwindows-list");a&&(this._removeFromArray(this.host,a),e.data(document.body,"jqxwindows-list",a));this._modalBackground=e("\x3cdiv\x3e\x3c/div\x3e");this._modalBackground.addClass(this.toThemeProperty("jqx-window-modal"));this._setModalBackgroundStyles();e(document.body).append(this._modalBackground);this.addHandler(this._modalBackground,this._getEvent("click"),function(){return!1});var c=this;this.addHandler(this._modalBackground,"mouseup",function(a){c._stopResizing(c);a.preventDefault()});this.addHandler(this._modalBackground,"mousedown",function(a){var b=c._getTabbables();0<b.length&&(b[0].focus(1),setTimeout(function(){b[0].focus(1)},100));a.preventDefault();return!1});this.addHandler(e(document),"keydown.window"+this.element.id,function(a){if(9===a.keyCode){var b=e.data(document.body,"jqxwindows-modallist");if(!(1<b.length&&b[b.length-1][0]!=c.element)){var g=c._getTabbables(),h=b=null;0<g.length&&(b=g[0],h=g[g.length-1]);if(a.target!=c.element&&null!=b){a:{var g=c.host,l=e(a.target).parents().get();for(j=0;j<l.length;j++)if(e(l[j]).is(g)){g=!0;break a}g=!1}if(!g||a.target===h&&!a.shiftKey)return b.focus(1),!1;if(a.target===b&&a.shiftKey)return h.focus(1),!1}}}})}},_addStyles:function(){this.host.addClass(this.toThemeProperty("jqx-rc-all"));this.host.addClass(this.toThemeProperty("jqx-window"));this.host.addClass(this.toThemeProperty("jqx-popup"));e.jqx.browser.msie&&this.host.addClass(this.toThemeProperty("jqx-noshadow"));this.host.addClass(this.toThemeProperty("jqx-widget"));this.host.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-window-header"));this._content.addClass(this.toThemeProperty("jqx-window-content"));this._header.addClass(this.toThemeProperty("jqx-widget-header"));this._content.addClass(this.toThemeProperty("jqx-widget-content"));this._header.addClass(this.toThemeProperty("jqx-disableselect"));this._header.addClass(this.toThemeProperty("jqx-rc-t"));this._content.addClass(this.toThemeProperty("jqx-rc-b"));this.host.attr("tabindex")||(this.element.tabIndex=0,this.host.children().css("tab-index",0));this.host.attr("hideFocus","true").css("outline","none")},_performHeaderLayout:function(){this._handleHeaderButtons();this._header.css("position","relative");this.rtl?(this._headerContentWrapper.css("direction","rtl"),this._headerContentWrapper.css("float","right")):(this._headerContentWrapper.css("direction","ltr"),this._headerContentWrapper.css("float","left"));this._performHeaderCloseButtonLayout();this._performHeaderCollapseButtonLayout();this._centerElement(this._headerContentWrapper,this._header,"y","margin");this.headerHeight&&(this._centerElement(this._closeButtonWrapper,this._header,"y","margin"),this._centerElement(this._collapseButtonWrapper,this._header,"y","margin"))},_handleHeaderButtons:function(){this._closeButtonWrapper&&(this.showCloseButton?(this._closeButtonWrapper.css("visibility","visible"),this._closeButtonWrapper.width(this.closeButtonSize),this._closeButtonWrapper.height(this.closeButtonSize)):this._closeButtonWrapper.css("visibility","hidden"),this.showCollapseButton?(this._collapseButtonWrapper.css("visibility","visible"),this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize)):this._collapseButtonWrapper.css("visibility","hidden"))},_performHeaderCloseButtonLayout:function(){if(this._closeButtonWrapper){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._closeButtonWrapper.width(this._closeButton.width()),this.rtl?(this._closeButtonWrapper.css("margin-left",a),this._closeButtonWrapper.css("margin-right","0px")):(this._closeButtonWrapper.css("margin-right",a),this._closeButtonWrapper.css("margin-left","0px")));this.rtl?this._closeButtonWrapper.css({position:"absolute",left:"0px",right:""}):this._closeButtonWrapper.css({position:"absolute",right:"0px",left:""})}},_performHeaderCollapseButtonLayout:function(){if(this._closeButtonWrapper){var a=parseInt(this._header.css("padding-right"),10);isNaN(a)||(this._collapseButtonWrapper.width(this.collapseButtonSize),this._collapseButtonWrapper.height(this.collapseButtonSize),this.rtl?(this._collapseButtonWrapper.css("margin-left",a),this._collapseButtonWrapper.css("margin-right","0px")):(this._collapseButtonWrapper.css("margin-right",a),this._collapseButtonWrapper.css("margin-left","0px")));this.rtl?this._collapseButtonWrapper.css({position:"absolute",left:this.showCloseButton?this._closeButton.outerWidth(!0):0,right:""}):this._collapseButtonWrapper.css({position:"absolute",right:this.showCloseButton?this._closeButton.outerWidth(!0):0,left:""});this._centerElement(this._collapseButton,this._collapseButton.parent(),"y")}},_performWidgetLayout:function(){var a;"auto"!==this.width&&this.host.css("width",this.width);this.collapsed||("auto"!==this.height?this.host.height(this.height):this.host.height(this.host.height()),this.host.css("min-height",this.minHeight));this._setChildrenLayout();a=this._validateMinSize();this.host.css({"max-height":this.maxHeight,"min-width":this.minWidth,"max-width":this.maxWidth});a||this._setChildrenLayout()},_setChildrenLayout:function(){this._header.width(this.host.width()-(this._header.outerWidth(!0)-this._header.width()));this._content.width(this.host.width()-(this._content.outerWidth(!0)-this._content.width()));this._content.height(this.host.height()-this._header.outerHeight(!0)-(this._content.outerHeight(!0)-this._content.height()))},_validateMinSize:function(){var a=!0;this.minHeight<this._header.height()&&(this.minHeight=this._header.height(),a=!1);var c=this._header.children(0).outerWidth(!0),e=this._header.children(1).outerWidth(!0);100>this.minWidth&&(this.minWidth=Math.min(c+e,100),a=!1);return a},_centerElement:function(a,c,e,d){"number"===typeof c.left&&"number"===typeof c.top&&"number"===typeof c.height&&"number"===typeof c.width?this._centerElementInArea(a,c,e):this._centerElementInParent(a,c,e,d)},_centerElementInParent:function(a,c,e,d){e=e.toLowerCase();d=d?d+"-":"";if(0<=e.indexOf("y")){var g=a.outerHeight(!0),h=c.height();a.css(d+"top",Math.max(0,h-g)/2+"px")}0<=e.indexOf("x")&&(e=a.outerWidth(!0),c=c.width(),a.css(d+"left",Math.max(0,c-e)/2+"px"))},_centerElementInArea:function(a,c,e){e=e.toLowerCase();if(0<=e.indexOf("y")){var d=a.outerHeight(!0);a.css("top",(c.height-d)/2+c.top+"px")}0<=e.indexOf("x")&&(e=a.outerWidth(!0),a.css("left",(c.width-e)/2+c.left+"px"))},_removeEventHandlers:function(){this.removeHandler(this._header,this._getEvent("mousedown"));this.removeHandler(this._header,this._getEvent("mousemove"));this.removeHandler(this._header,"focus");this.removeHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"));this.removeHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"));this.removeHandler(this.host,"keydown");this.removeHandler(this._closeButton,this._getEvent("click"));this.removeHandler(this._closeButton,this._getEvent("mouseenter"));this.removeHandler(this._closeButton,this._getEvent("mouseleave"));this.removeHandler(this._collapseButton,this._getEvent("click"));this.removeHandler(this._collapseButton,this._getEvent("mouseenter"));this.removeHandler(this._collapseButton,this._getEvent("mouseleave"));this.removeHandler(this.host,this._getEvent("mousedown"));this.removeHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler);this.removeHandler(this._header,this._getEvent("mouseenter"));this.removeHandler(this._header,this._getEvent("mouseleave"));this.removeHandler(this.host,"resizing",this._windowResizeHandler)},_removeFromArray:function(a,c){return 0<=this._indexOf(a,c)?c.splice(this._indexOf(a,c),1):c},_sortByStyle:function(a,c){for(var e=0;e<c.length;e++)for(var d=c.length-1;d>e;d--){var g=c[d],h=c[d-1];parseInt(g.css(a),10)<parseInt(h.css(a),10)&&(c[d]=h,c[d-1]=g)}},_initializeResize:function(){this.resizable&&this.initResize({target:this.host,alsoResize:this._content,maxWidth:this.maxWidth,minWidth:this.minWidth,maxHeight:this.maxHeight,minHeight:this.minHeight,indicatorSize:10,resizeParent:this.dragArea})},_removeResize:function(){this.removeResize()},_getEvent:function(a){return this._isTouchDevice?this._touchEvents[a]:a},_addEventHandlers:function(){this._addDragDropHandlers();this._addCloseHandlers();this._addCollapseHandlers();this._addFocusHandlers();this._documentResizeHandlers();this._closeButtonHover();this._collapseButtonHover();this._addDialogButtonsHandlers();this._addHeaderHoverEffect();this._addResizeHandlers();var a=this;this.addHandler(this._header,this._getEvent("mousemove"),function(c){a._addHeaderCursorHandlers(a)})},_addResizeHandlers:function(){this.addHandler(this.host,"resizing",this._windowResizeHandler,{self:this})},_windowResizeHandler:function(a){var c=a.data.self;c._header.width(c.host.width()-(c._header.outerWidth(!0)-c._header.width()));c.width=a.args.width;c.height=a.args.height},_addHeaderHoverEffect:function(){var a=this;this.addHandler(this._header,this._getEvent("mouseenter"),function(){e(this).addClass(a.toThemeProperty("jqx-window-header-hover"))});this.addHandler(this._header,this._getEvent("mouseleave"),function(){e(this).removeClass(a.toThemeProperty("jqx-window-header-hover"))})},_addDialogButtonsHandlers:function(){this.okButton&&this.addHandler(e(this.okButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"ok"});this.cancelButton&&this.addHandler(e(this.cancelButton),this._getEvent("click"),this._setDialogResultHandler,{self:this,result:"cancel"})},_documentResizeHandlers:function(){var a=this;this.isModal&&this.addHandler(e(window),"resize.window"+this.element.id,function(){"object"===typeof a._modalBackground&&null!==a._modalBackground&&(a.isOpen()&&a._modalBackground.hide(),a.restricter?(a._modalBackground.css("left",a.dragArea.left),a._modalBackground.css("top",a.dragArea.top),a._modalBackground.width(a.dragArea.width),a._modalBackground.height(a.dragArea.height)):(a._modalBackground.width(a._getDocumentSize().width),a._modalBackground.height(a._getDocumentSize().height)),a.isOpen()&&a._modalBackground.show())})},_setDialogResultHandler:function(a){var c=a.data.self;c._setDialogResult(a.data.result);c.closeWindow()},_setDialogResult:function(a){this.dialogResult.OK=!1;this.dialogResult.None=!1;this.dialogResult.Cancel=!1;a=a.toLowerCase();switch(a){case "ok":this.dialogResult.OK=!0;break;case "cancel":this.dialogResult.Cancel=!0;break;default:this.dialogResult.None=!0}},_getDocumentSize:function(){var a=e.jqx.browser.msie&&9>e.jqx.browser.version,c=a?4:0,f=c;document.body.scrollHeight>document.body.clientHeight&&a&&(c=this._SCROLL_WIDTH);document.body.scrollWidth>document.body.clientWidth&&a&&(f=this._SCROLL_WIDTH);return{width:e(document).width()-c,height:e(document).height()-f}},_closeButtonHover:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("mouseenter"),function(){a._closeButton.addClass(a.toThemeProperty("jqx-window-close-button-hover"))});this.addHandler(this._closeButton,this._getEvent("mouseleave"),function(){a._closeButton.removeClass(a.toThemeProperty("jqx-window-close-button-hover"))})},_collapseButtonHover:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("mouseenter"),function(){a._collapseButton.addClass(a.toThemeProperty("jqx-window-collapse-button-hover"))});this.addHandler(this._collapseButton,this._getEvent("mouseleave"),function(){a._collapseButton.removeClass(a.toThemeProperty("jqx-window-collapse-button-hover"))})},_setModalBackgroundStyles:function(){this.isModal&&(this._modalBackground.fadeTo(0,this.modalOpacity),this._modalBackground.css({position:"absolute",top:"0px",left:"0px",width:this._getDocumentSize().width,height:this._getDocumentSize().height,"z-index":this.modalBackgroundZIndex}),this.autoOpen||this._modalBackground.css("display","none"))},_addFocusHandlers:function(){var a=this;this.addHandler(this.host,this._getEvent("mousedown"),function(){a.isModal||a.bringToFront()})},_indexOf:function(a,c){for(var e=0;e<c.length;e++)if(c[e][0]===a[0])return e;return-1},_addCloseHandlers:function(){var a=this;this.addHandler(this._closeButton,this._getEvent("click"),function(c){return a._closeWindow(c)});"none"!==this.keyboardCloseKey&&"number"!==typeof this.keyboardCloseKey&&"esc"===this.keyboardCloseKey.toLowerCase()&&(this.keyboardCloseKey=27);this.addHandler(this.host,"keydown",function(c){c.keyCode===a.keyboardCloseKey&&null!=a.keyboardCloseKey&&"none"!=a.keyboardCloseKey?a._closeWindow(c):a._handleKeys(c)},{self:this});this.addHandler(this.host,"keyup",function(c){if(a.keyboardNavigation&&a._moved){var e=a.host.coord();c=e.left;e=e.top;a._raiseEvent(3,c,e,c,e);a._moved=!1}})},_handleKeys:function(a){if(this.keyboardNavigation&&this._headerFocused&&!e(document.activeElement).ischildof(this._content)){var c=a.ctrlKey,f=a.keyCode,d=this.host.coord(),g=d.left,d=d.top,h=this._getDraggingArea(),l=this.host.width(),k=this.host.height(),m=!0;switch(f){case 37:c?this.resizable&&this.resize(l-10,k):this.draggable&&0<=g-10&&this.move(g-10,d);m=!1;break;case 38:c?this.resizable&&this.resize(l,k-10):this.draggable&&0<=d-10&&this.move(g,d-10);m=!1;break;case 39:c?this.resizable&&this.resize(l+10,k):this.draggable&&g+l+10<=h.width&&this.move(g+10,d);m=!1;break;case 40:c?this.resizable&&this.resize(l,k+10):this.draggable&&d+k+10<=h.height&&this.move(g,d+10),m=!1}m||(a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation());return m}},_addCollapseHandlers:function(){var a=this;this.addHandler(this._collapseButton,this._getEvent("click"),function(){a.collapsed?a.expand():a.collapse()})},_closeWindow:function(a){this.closeWindow();return!1},_addHeaderCursorHandlers:function(a){a.resizeArea&&a.resizable&&!a.collapsed?a._header.css("cursor",a._resizeWrapper.css("cursor")):a.draggable?a._header.css("cursor","move"):(a._header.css("cursor","default"),a._resizeWrapper&&0<a._resizeWrapper.length&&a._resizeWrapper.css("cursor","default"))},_addDragDropHandlers:function(){if(this.draggable){var a=this;this.addHandler(this.host,"focus",function(){a._headerFocused=!0});this.addHandler(this.host,"blur",function(){a._headerFocused=!1});this.addHandler(this._header,"focus",function(){a._headerFocused=!0;return!1});this.addHandler(this._header,this._getEvent("mousedown"),function(c,d,e){d&&(c.pageX=d);e&&(c.pageY=e);a._headerMouseDownHandler(a,c);return!0});this.addHandler(this._header,"dragstart",function(a){a.preventDefault&&a.preventDefault();return!1});this.addHandler(this._header,this._getEvent("mousemove"),function(c){return a._headerMouseMoveHandler(a,c)});this.addHandler(e(document),this._getEvent("mousemove")+"."+this.host.attr("id"),function(c){return a._dragHandler(a,c)});this.addHandler(e(document),this._getEvent("mouseup")+"."+this.host.attr("id"),function(c){return a._dropHandler(a,c)});try{if(""!=document.referrer||window.frameElement){var c=null;null!=window.top&&window.top!=window.self&&window.parent&&document.referrer&&(c=document.referrer);c&&-1!=c.indexOf(document.location.host)&&(c=function(c){a._dropHandler(a,c)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c))}}catch(f){}}},_headerMouseDownHandler:function(a,c){a.isModal||a.bringToFront();if(null==a._resizeDirection){e.jqx.mobile.getTouches(c);var f=e.jqx.position(c);a._mousePosition.x=f.left;a._mousePosition.y=f.top;a._mouseDown=!0;a._isDragging=!1}},_headerMouseMoveHandler:function(a,c){if(a._mouseDown&&!a._isDragging){var f=e.jqx.mobile.getTouches(c)[0],d=f.pageX,f=f.pageY,f=e.jqx.position(c),d=f.left,f=f.top;if(d+3<a._mousePosition.x||d-3>a._mousePosition.x||f+3<a._mousePosition.y||f-3>a._mousePosition.y)a._isDragging=!0,a._mousePosition={x:d,y:f},a._windowPosition={x:a.host.coord().left,y:a.host.coord().top},e(document.body).addClass(a.toThemeProperty("jqx-disableselect"));return a._isTouchDevice?(c.preventDefault(),!0):!1}return a._isDragging?a._isTouchDevice?(c.preventDefault(),!0):!1:!0},_dropHandler:function(a,c){var f=!0;if(a._isDragging&&!a.isResizing&&!a._resizeDirection){var f=parseInt(a.host.css("left"),10),d=parseInt(a.host.css("top"),10),g=a._isTouchDevice?0:c.pageX,h=a._isTouchDevice?0:c.pageY;a.enableResize=a._enableResizeBackup;a._enableResizeBackup="undefined";a._raiseEvent(3,f,d,g,h);f=!1;"undefined"!=c.preventDefault&&c.preventDefault();null!=c.originalEvent&&(c.originalEvent.mouseHandled=!0);"undefined"!=c.stopPropagation&&c.stopPropagation()}a._isDragging=!1;a._mouseDown=!1;e(document.body).removeClass(a.toThemeProperty("jqx-disableselect"));return f},_dragHandler:function(a,c){if(a._isDragging&&!a.isResizing&&!a._resizeDirection){var f=a._isTouchDevice?c.originalEvent.which:c.which;"undefined"===typeof a._enableResizeBackup&&(a._enableResizeBackup=a.enableResize);a.enableResize=!1;if(0===f&&e.jqx.browser.msie&&8>e.jqx.browser.version)return a._dropHandler(a,c);e.jqx.mobile.getTouches(c);f=e.jqx.position(c);a.move(a._windowPosition.x+(f.left-a._mousePosition.x),a._windowPosition.y+(f.top-a._mousePosition.y),c);c.preventDefault();return!1}return!0},_validateCoordinates:function(a,c,e,d){var g=this._getDraggingArea();a=a<g.left?g.left:a;c=c<g.top?g.top:c;var h=this.host.outerWidth(!0),l=this.host.outerHeight(!0);a+h>=g.width+g.left-2*d&&(a=g.width+g.left-h-d);c+l>=g.height+g.top-e&&(c=g.height+g.top-l-e);return{x:a,y:c}},_performLayout:function(){this._performHeaderLayout();this._performWidgetLayout()},_parseDragAreaAttributes:function(){null!==this.dragArea&&(this.dragArea.height=parseInt(this.dragArea.height,10),this.dragArea.width=parseInt(this.dragArea.width,10),this.dragArea.top=parseInt(this.dragArea.top,10),this.dragArea.left=parseInt(this.dragArea.left,10))},_positionWindow:function(){this._parseDragAreaAttributes();if(this.position instanceof Array&&2===this.position.length&&"number"===typeof this.position[0]&&"number"===typeof this.position[1])this.host.css({left:this.position[0],top:this.position[1]});else if(this.position instanceof Object)if(this.position.left)this.host.offset(this.position);else if(void 0!==this.position.x&&void 0!=this.position.y)this.host.css({left:this.position.x,top:this.position.y});else{if(this.position.center){this._centerElement(this.host,this.position.center,"xy");var a=this.position.center.coord(),c=parseInt(this.host.css("left")),e=parseInt(this.host.css("top"));this.host.css({left:c+a.left,top:e+a.top})}}else this._positionFromLiteral()},_getDraggingArea:function(){var a={};a.left=this.dragArea&&this.dragArea.left?this.dragArea.left:0;a.top=this.dragArea&&this.dragArea.top?this.dragArea.top:0;a.width=this.dragArea&&this.dragArea.width?this.dragArea.width:this._getDocumentSize().width;a.height=this.dragArea&&this.dragArea.height?this.dragArea.height:this._getDocumentSize().height;return a},_positionFromLiteral:function(){this.position instanceof Array||(this.position=this.position.split(","));for(var a=this.position.length,c=this._getDraggingArea();a;)switch(--a,this.position[a]=this.position[a].replace(/ /g,""),this.position[a]){case "top":this.host.css("top",c.top);break;case "left":this.host.css("left",c.left);break;case "bottom":this.host.css("top",c.height-this.host.height()+c.top);break;case "right":this.host.css("left",c.left+c.width-this.host.width());break;default:this.dragArea||(c=e(window)),this._centerElement(this.host,c,"xy")}},_raiseEvent:function(a,c,f,d,g){var h=this._events[a],l=e.Event(h),k={};if(2===a||3===a)k.x=c,k.y=f,k.pageX=d,k.pageY=g;if("closed"===h||"close"===h)k.dialogResult=this.dialogResult;l.args=k;return this.host.trigger(l)},destroy:function(){this.removeHandler(e(window),"resize.window"+this.element.id);this._removeEventHandlers();this._destroy()},_destroy:function(){this.restricter&&(this.removeHandler(e(window),"resize."+this.element.id),this.removeHandler(e(window),"orientationchanged."+this.element.id),this.removeHandler(e(window),"orientationchange."+this.element.id));this.host.remove();null!==this._modalBackground&&this._modalBackground.remove()},_toClose:function(a,c){return a&&c[0]===this.element||c[0]!==this.element&&"object"===typeof c[0]},propertyChangedHandler:function(a,c,f,d){this._validateProperties();switch(c){case "rtl":this._performLayout();break;case "dragArea":this._positionWindow();break;case "collapseButtonSize":this._performLayout();break;case "closeButtonSize":this._performLayout();break;case "isModal":this._refresh();this._fixWindowZIndex();break;case "keyboardCloseKey":this._removeEventHandlers();this._addEventHandlers();break;case "disabled":d?this.disable():(this.disabled=!0,this.enable());break;case "showCloseButton":case "showCollapseButton":this._performLayout();break;case "height":this._performLayout();break;case "width":this._performLayout();break;case "title":this.setTitle(d);this.title=d;break;case "content":this.setContent(d);break;case "draggable":this._removeEventHandlers();this._addEventHandlers();this._removeResize();this._initializeResize();break;case "resizable":(this.enableResize=d)?this._initializeResize():this._removeResize();break;case "position":this._positionWindow();break;case "modalOpacity":this._setModalBackgroundStyles();break;case "okButton":d?this._addDialogButtonsHandlers():this.removeHandler(this.okButton);break;case "cancelButton":d?this._addDialogButtonsHandlers():this.removeHandler(this.cancelButton);break;case "collapsed":d?f||(this.collapsed=!1,this.collapse(0)):f&&(this.collapsed=!0,this.expand(0));case "theme":e.jqx.utilities.setTheme(f,d,this.host);break;case "maxWidth":case "maxHeight":case "minWidth":case "minHeight":a._performLayout(),a._removeResize(),a._initializeResize()}},collapse:function(a){if(!this.collapsed&&!this.host.is(":animated")&&"none"!=this.host.css("display")){var c=this,f=this._header.outerHeight(!0),d=parseInt(this._header.css("border-bottom-width"),10),g=parseInt(this._header.css("margin-bottom"),10);a=isNaN(parseInt(a))?this.collapseAnimationDuration:a;isNaN(d)||(f-=2*d);isNaN(g)||(f+=g);this._heightBeforeCollapse=this.host.height();this._minHeightBeforeCollapse=this.host.css("min-height");this.host.css("min-height",f);this.host.animate({height:f},a,function(){c.collapsed=!0;c._collapseButton.addClass(c.toThemeProperty("jqx-window-collapse-button-collapsed"));c._collapseButton.addClass(c.toThemeProperty("jqx-icon-arrow-down"));c._content.css("display","none");c._raiseEvent(5);c._raiseEvent(9);e.jqx.aria(c,"aria-expanded",!1)})}},expand:function(a){if(this.collapsed&&!this.host.is(":animated")){var c=this;a=isNaN(parseInt(a))?this.collapseAnimationDuration:a;this.host.animate({height:this._heightBeforeCollapse},a,function(){c.collapsed=!1;c.host.css("min-height",c._minHeightBeforeCollapse);c._collapseButton.removeClass(c.toThemeProperty("jqx-window-collapse-button-collapsed"));c._collapseButton.removeClass(c.toThemeProperty("jqx-icon-arrow-down"));c._content.css("display","block");c._raiseEvent(6);c._performWidgetLayout();c._raiseEvent(9);e.jqx.aria(c,"aria-expanded",!0)})}},closeAll:function(a){a=!0;for(var c=e.data(document.body,"jqxwindows-list"),f=c.length,d=e.data(document.body,"jqxwindow-modal")||[];f;)--f,this._toClose(a,c[f])&&(c[f].jqxWindow("closeWindow","close"),c.splice(f,1));this._toClose(a,d)&&(d.jqxWindow("closeWindow","close"),e.data(document.body,"jqxwindow-modal",[]));e.data(document.body,"jqxwindows-list",c)},setTitle:function(a){e.jqx.utilities.html(this._headerContentWrapper,a);this.title=a;this._performLayout()},setContent:function(a){this._contentInitialized=!1;for(var c=this._content,f=!1;!f;)c.css("height","auto"),c.css("width","auto"),c.is(".jqx-window")?f=!0:c=c.parent();e.jqx.utilities.html(this._content,a);this._performLayout()},disable:function(){this.disabled=!0;this._removeEventHandlers();this._header.addClass(this.toThemeProperty("jqx-window-header-disabled"));this._closeButton.addClass(this.toThemeProperty("jqx-window-close-button-disabled"));this._collapseButton.addClass(this.toThemeProperty("jqx-window-collapse-button-disabled"));this._content.addClass(this.toThemeProperty("jqx-window-content-disabled"));this.host.addClass(this.toThemeProperty("jqx-window-disabled"));this.host.addClass(this.toThemeProperty("jqx-fill-state-disabled"));this._removeResize()},enable:function(){this.disabled&&(this._addEventHandlers(),this._header.removeClass(this.toThemeProperty("jqx-window-header-disabled")),this._content.removeClass(this.toThemeProperty("jqx-window-content-disabled")),this._closeButton.removeClass(this.toThemeProperty("jqx-window-close-button-disabled")),this._collapseButton.removeClass(this.toThemeProperty("jqx-window-collapse-button-disabled")),this.host.removeClass(this.toThemeProperty("jqx-window-disabled")),this.host.removeClass(this.toThemeProperty("jqx-fill-state-disabled")),this.disabled=!1,this._initializeResize())},isOpen:function(){return this._visible},closeWindow:function(a){var c=this;a="undefined"===typeof a?this.closeButtonAction:a;this.hide(function(){"close"===a&&c._destroy()})},bringToFront:function(){var a=e.data(document.body,"jqxwindows-list");if(this.isModal)e.data(document.body,"jqxwindows-modallist"),this._fixWindowZIndex("modal-hide"),this._fixWindowZIndex("modal-show");else{for(var c=parseInt(a[a.length-1].css("z-index"),10),f=this._indexOf(this.host,a),d=a.length-1;d>f;--d){var g=parseInt(a[d].css("z-index"),10)-1;a[d].css("z-index",g)}this.host.css("z-index",c);this._sortByStyle("z-index",a)}},hide:function(a,c,e){if(!this.closing||0!=this.closing()){c=c||this.closeAnimationDuration;switch(this.animationType){case "none":this.host.css("display","none");break;case "fade":this.host.fadeOut(c,function(){a instanceof Function&&a()});case "slide":this.host.slideUp(c,function(){a instanceof Function&&a()});case "combined":this.host.hide(c,function(){a instanceof Function&&a()})}this._visible=!1;this.isModal&&(this._modalBackground.hide(),this._fixWindowZIndex("modal-hide"));!0!==e&&(this._raiseEvent(1),this._raiseEvent(8))}},open:function(a,c){this.show(a,c)},close:function(a,c,e){this.hide(a,c,e)},show:function(a,c){this._setDialogResult("none");c=c||this.showAnimationDuration;switch(this.animationType){case "none":this.host.css("display","block");break;case "fade":this.host.fadeIn(c,function(){a instanceof Function&&a()});break;case "slide":this.host.slideDown(c,function(){a instanceof Function&&a()});break;case "combined":this.host.show(c,function(){a instanceof Function&&a()})}this.isModal&&(this._modalBackground.show(),this._fixWindowZIndex("modal-show"));var e=this;this._visible||(150<c&&"none"!=this.animationType?setTimeout(function(){!e._contentInitialized&&e.initContent&&(e.initContent(),e._contentInitialized=!0);e._raiseEvent(7);e._raiseEvent(9)},c-150):(!e._contentInitialized&&e.initContent&&(e.initContent(),e._contentInitialized=!0),this._raiseEvent(7),e._raiseEvent(9)));this._visible=!0;this._performLayout();this.autoFocus&&(e._isTouchDevice||e._content.focus(),setTimeout(function(){e._isTouchDevice||e._content.focus()},100))},_getTabbables:function(){var b=this._content.find("*"),c=[];e.each(b,function(){var b=e.attr(this,"tabindex"),d=isNaN(b);if(b=d||0<=b)d=!d,b=this.nodeName.toLowerCase(),"area"===b?(d=this.parentNode,b=d.name,this.href&&b&&"map"===d.nodeName.toLowerCase()?(d=e("img[usemap\x3d#"+b+"]")[0],b=!!d&&a(d)):b=!1):b=(/input|select|textarea|button|object/.test(b)?!this.disabled:"a"==b?this.href||d:d)&&a(this);b&&(c[c.length]=this)});return c},move:function(a,c,f,d){var g=0,h=0,l,k;a=parseInt(a,10);c=parseInt(c,10);e.jqx.browser.msie&&(e(window).width()>e(document).width()&&!this.dragArea&&(h=this._SCROLL_WIDTH),e(window).height()<e(document).height()&&document.documentElement.clientWidth>document.documentElement.scrollWidth&&!this.dragArea&&(g=this._SCROLL_WIDTH));g=this._validateCoordinates(a,c,h,g);if(parseInt(this.host.css("left"),10)!==g.x||parseInt(this.host.css("top"),10)!==g.y)f&&(e.jqx.mobile.getTouches(f),f=e.jqx.position(f),l=f.left,k=f.top),void 0==l&&(l=a),void 0==k&&(k=c),!1!==d&&this._raiseEvent(2,g.x,g.y,l,k);this.element.style.left=g.x+"px";this.element.style.top=g.y+"px";this._moved=!0}})})(jqxBaseFramework);(function(e){var a=function(a){return{resizeConfig:function(){this.resizeTarget=null;this.resizeIndicatorSize=5;this.resizeTargetChildren=null;this.resizeArea=this.isResizing=!1;this.minWidth=1;this.maxWidth=100;this.minHeight=1;this.maxHeight=100;this.resizeParent=null;this.enableResize=!0;this._cursorBackup;this._resizeEvents=["resizing","resized","resize"];this._resizeMouseDown=!1;this._resizeCurrentMode=null;this._mouseResizePosition={};this._resizeMethods=null;this._SCROLL_WIDTH=21},_resizeExceptions:{invalidTarget:"Invalid target!",invalidMinHeight:"Invalid minimal height!",invalidMaxHeight:"Invalid maximum height!",invalidMinWidth:"Invalid minimum width!",invalidMaxWidth:"Invalid maximum width!",invalidIndicatorSize:"Invalid indicator size!",invalidSize:"Invalid size!"},removeResize:function(){if(this.resizeTarget){var c=a(this.resizeTarget.children(".jqx-resize"));c.detach();var e=c.children();this._removeResizeEventListeners();for(var d=0;d<e.length;d+=1)a(e[d]).detach(),this.resizeTarget.append(e[d]);c.remove()}},initResize:function(c){this.resizeConfig();this.resizeTarget=a(c.target);this.resizeIndicatorSize=c.indicatorSize||10;this.maxWidth=c.maxWidth||100;this.minWidth=c.minWidth||1;this.maxHeight=c.maxHeight||100;this.minHeight=c.minHeight||1;this.resizeParent=c.resizeParent;this._parseResizeParentProperties();this._validateResizeProperties();this._validateResizeTargetDimensions();this._getChildren(this.resizeTarget.maxWidth,this.resizeTarget.minWidth,this.resizeTarget.maxHeight,this.resizeTarget.minHeight,c.alsoResize);this._refreshResize();this._cursorBackup=this.resizeTarget.css("cursor");"auto"===this._cursorBackup&&(this._cursorBackup="default")},_validateResizeTargetDimensions:function(){this.resizeTarget.maxWidth=this.maxWidth;this.resizeTarget.minWidth=3*this.resizeIndicatorSize>this.minWidth?3*this.resizeIndicatorSize:this.minWidth;this.resizeTarget.maxHeight=this.maxHeight;this.resizeTarget.minHeight=3*this.resizeIndicatorSize>this.minHeight?3*this.resizeIndicatorSize:this.minHeight},_parseResizeParentProperties:function(){this.resizeParent&&(this.resizeParent.left=parseInt(this.resizeParent.left,10),this.resizeParent.top=parseInt(this.resizeParent.top,10),this.resizeParent.width=parseInt(this.resizeParent.width,10),this.resizeParent.height=parseInt(this.resizeParent.height,10))},_getChildren:function(c,e,d,g,h){this.resizeTargetChildren=a(h);this.resizeTargetChildren.toArray();for(c=this.resizeTargetChildren.length;c;)--c,this.resizeTargetChildren[c]=a(this.resizeTargetChildren[c])},_refreshResize:function(){this._renderResize();this._performResizeLayout();this._removeResizeEventListeners();this._addResizeEventHandlers()},_renderResize:function(){this.resizeTarget.wrapInner(a("\x3cdiv\x3e\x3c/div\x3e"));this._resizeWrapper=this.resizeTarget.children(0);this._resizeWrapper.addClass("jqx-resize");this._resizeWrapper.addClass("jqx-rc-all");this._resizeWrapper.css("z-index",8E3)},_performResizeLayout:function(){this._resizeWrapper.height(this.resizeTarget.height());this._resizeWrapper.width(this.resizeTarget.width())},_removeResizeEventListeners:function(){var c=this.resizeTarget.attr("id");this.removeHandler(this._resizeWrapper,"mousemove.resize"+c);this.removeHandler(this._resizeWrapper,"mousedown.resize"+c);this.removeHandler(a(document),"mousemove.resize"+c);this.removeHandler(a(document),"mouseup.resize"+c)},_addResizeEventHandlers:function(){var c=this.resizeTarget.attr("id"),e=this;this.addHandler(this._resizeWrapper,"mousemove.resize."+c,function(a){e._resizeCursorChangeHandler(e,a)});this.addHandler(this._resizeWrapper,"mousedown.resize."+c,function(a){e._resizeMouseDownHandler(e,a)});this.addHandler(a(document),"mousemove.resize."+c,function(a){return e._resizeHandler(e,a)});this.addHandler(a(document),"mouseup.resize."+c,function(a){e._stopResizing(e,a)});try{if(""!=document.referrer||window.frameElement)c=function(a){e._stopResizing(e,a)},window.top.document.addEventListener?window.top.document.addEventListener("mouseup",c,!1):window.top.document.attachEvent&&window.top.document.attachEvent("onmouseup",c)}catch(d){}},_stopResizing:function(a,b){a.enableResize&&(a.isResizing&&a._raiseResizeEvent(1),a._resizeMouseDown=!1,a.isResizing=!1,a._resizeDirection=null,a.resizeTarget&&a.resizeTarget.removeClass("jqx-disableselect"));"undefined"==a._cursorBackup&&(a._cursorBackup="default");a._resizeWrapper&&a._resizeWrapper.css("cursor",a._cursorBackup)},_resizeHandler:function(c,e){if(c.enableResize&&!c.collapsed)return c.isResizing&&c._resizeDirection?(0===e.which&&a.jqx.browser.msie&&9>a.jqx.browser.version&&c._stopResizing(e),c._performResize(e.pageX,e.pageY),!1):c._resizeCaptureCursor(e.pageX,e.pageY)},_resizeCaptureCursor:function(a,b){if(this._resizeMouseDown&&!this.isResizing&&this._resizeDirection&&(a+3<this._mouseResizePosition.x||a-3>this._mouseResizePosition.x||b+3<this._mouseResizePosition.y||b-3>this._mouseResizePosition.y))return this._changeCursor(a-parseInt(this.resizeTarget.css("left")),b-parseInt(this.resizeTarget.css("top"))),this._mouseResizePosition={x:a,y:b},this._prepareResizeMethods(this._resizeDirection),this._resizeBackupData(),this.isResizing=!0,this.resizeTarget.addClass("jqx-disableselect"),!1},_resizeBackupData:function(){this.resizeTarget.lastWidth=this.resizeTarget.width();this.resizeTarget.lastHeight=this.resizeTarget.height();this.resizeTarget.x=parseInt(this.resizeTarget.css("left"),10);this.resizeTarget.y=parseInt(this.resizeTarget.css("top"),10);this._resizeBackupChildrenSize()},_resizeBackupChildrenSize:function(){for(var a=this.resizeTargetChildren.length,b;a;)--a,b=this.resizeTargetChildren[a],this.resizeTargetChildren[a].lastWidth=b.width(),this.resizeTargetChildren[a].lastHeight=b.height()},_performResize:function(a,b){var d=a-this._mouseResizePosition.x,e=b-this._mouseResizePosition.y;this._resizeDirection&&this._resize(this.resizeTarget,d,e)},_resizeCursorChangeHandler:function(a,b){a.enableResize&&!a.collapsed&&(a.isResizing||a._changeCursor(b.pageX-parseInt(a.resizeTarget.css("left")),b.pageY-parseInt(a.resizeTarget.css("top"))))},_resizeMouseDownHandler:function(a,b){a.enableResize&&null!==a._resizeDirection&&(a._resizeMouseDown=!0,a._mouseResizePosition.x=b.pageX,a._mouseResizePosition.y=b.pageY,b.preventDefault())},_validateResizeProperties:function(){try{if(!this.resizeTarget||1!==this.resizeTarget.length)throw Error(this._resizeExceptions.invalidTarget);if(0>this.minHeight||isNaN(parseInt(this.minHeight)))throw Error(this._resizeExceptions.invalidMinHeight);if(0>=this.maxHeight||isNaN(parseInt(this.maxHeight)))throw Error(this._resizeExceptions.invalidMaxHeight);if(0>this.minWidth||isNaN(parseInt(this.minWidth)))throw Error(this._resizeExceptions.invalidMinWidth);if(0>this.maxWidth||isNaN(parseInt(this.maxWidth)))throw Error(this._resizeExceptions.invalidMaxWidth);if(0>this.resizeIndicatorSize||isNaN(parseInt(this.resizeIndicatorSize)))throw Error(this._resizeExceptions.invalidIndicatorSize);if(this.minHeight>this.maxHeight||this.minWidth>this.maxWidth)throw Error(this._resizeExceptions.invalidSize);}catch(a){alert(a)}},_changeCursor:function(a,b){this.isResizing||this._resizeMouseDown||(this.resizeArea=!0,a<=this.resizeIndicatorSize&&0<=a&&b<=this.resizeIndicatorSize&&0<b?(this._resizeWrapper.css("cursor","nw-resize"),this._resizeDirection="topleft"):b<=this.resizeIndicatorSize&&0<b&&a>=this.resizeTarget.width()-this.resizeIndicatorSize?(this._resizeWrapper.css("cursor","ne-resize"),this._resizeDirection="topright"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a<=this.resizeIndicatorSize&&0<=a?(this._resizeWrapper.css("cursor","sw-resize"),this._resizeDirection="bottomleft"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()&&a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","se-resize"),this._resizeDirection="bottomright"):a<=this.resizeIndicatorSize&&0<=a?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="left"):b<=this.resizeIndicatorSize&&0<b?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="top"):b>=this.resizeTarget.height()-this.resizeIndicatorSize&&b<this.resizeTarget.height()?(this._resizeWrapper.css("cursor","n-resize"),this._resizeDirection="bottom"):a>=this.resizeTarget.width()-this.resizeIndicatorSize&&a<this.resizeTarget.width()?(this._resizeWrapper.css("cursor","e-resize"),this._resizeDirection="right"):(this._resizeWrapper.css("cursor",this._cursorBackup),this._resizeDirection=null,this.resizeArea=!1))},_prepareResizeMethods:function(a){this._resizeMethods=[];0<=a.indexOf("left")&&this._resizeMethods.push(this._resizeLeft);0<=a.indexOf("top")&&this._resizeMethods.push(this._resizeTop);0<=a.indexOf("right")&&this._resizeMethods.push(this._resizeRight);0<=a.indexOf("bottom")&&this._resizeMethods.push(this._resizeBottom)},_validateResize:function(a,b,d,e,h){return"horizontal"===d||"both"===d?this._validateWidth(a,e,h):"vertical"===d||"both"===d?this._validateHeight(b,e,h):{result:!1,fix:0}},_getParent:function(){return null!==this.resizeParent&&"undefined"!==this.resizeParent&&this.resizeParent.height&&this.resizeParent.width&&this.resizeParent.top&&this.resizeParent.left?this.resizeParent:{left:0,top:0,width:a(document).width(),height:a(document).height()}},_validateHeight:function(c,e,d){var g=0,h=this._getParent();a(window).width()>a(document).width()&&a.jqx.browser.msie&&h.height===a(document).height()&&(g=this._SCROLL_WIDTH);return"bottom"===d&&c+e.position().top+g+2>h.height+h.top?{fix:h.height-e.position().top-g-2+h.top,result:!1}:"top"===d&&e.lastHeight-c+e.y<h.top?{fix:c+(e.lastHeight-c+e.y)-h.top,result:!1}:c<e.minHeight?{fix:e.minHeight,result:!1}:c>e.maxHeight?{fix:e.maxHeight,result:!1}:{result:!0,fix:c}},_validateWidth:function(c,e,d){var g=0,h=this._getParent();a(window).height()<a(document).height()&&a.jqx.browser.msie&&document.documentElement.clientWidth>=document.documentElement.scrollWidth&&h.width===a(document).width()&&(g=this._SCROLL_WIDTH);return"right"===d&&c+e.position().left+g+2>h.width+h.left?{fix:h.width-e.position().left-g-2+h.left,result:!1}:"left"===d&&e.lastWidth-c+e.x<h.left?{fix:c+(e.lastWidth-c+e.x)-h.left,result:!1}:c<e.minWidth?{fix:e.minWidth,result:!1}:c>e.maxWidth?{fix:e.maxWidth,result:!1}:{result:!0,fix:c}},_resize:function(a,b,d){for(var e=this._resizeMethods.length,h=0;h<e;h++)if(this._resizeMethods[h]instanceof Function)this._resizeMethods[h]({element:a,x:b,y:d,self:this});this._performResizeLayout()},resize:function(a,b){if(this.resizable){var d=a-this.host.width(),e=b-this.host.height(),h="right";0!=e&&(h="bottom");this._resizeDirection=h;this._prepareResizeMethods(this._resizeDirection);this._resizeBackupData();this.isResizing=!0;this._resize(this.resizeTarget,d,e);this.isResizing=!1}},_setResizeChildrenSize:function(a,b){for(var d=this.resizeTargetChildren.length;d;)if(d--,"width"===b){var e=this.resizeTargetChildren[d].lastWidth-(this.resizeTarget.lastWidth-a);e<this.resizeTarget.maxWidth&&0<e&&this.resizeTargetChildren[d].width(e)}else e=this.resizeTargetChildren[d].lastHeight-(this.resizeTarget.lastHeight-a),e<this.resizeTarget.maxHeight&&0<e&&this.resizeTargetChildren[d].height(e)},_resizeRight:function(a){var b=a.element.lastWidth+a.x,d=a.self._validateResize(b,0,"horizontal",a.element,"right");d.result||(b=d.fix);a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.self._raiseResizeEvent(0));return b},_resizeLeft:function(a){var b=a.element.lastWidth-a.x,d=a.self._validateResize(b,0,"horizontal",a.element,"left"),e=a.element.x+a.x;if(d.result)return a.element.width()!==b&&(a.self._setResizeChildrenSize(b,"width"),a.element.width(b),a.element.css("left",e),a.self._raiseResizeEvent(0)),b},_resizeBottom:function(a){var b=a.element.lastHeight+a.y,d=a.self._validateResize(0,b,"vertical",a.element,"bottom");d.result||(b=d.fix);a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.self._raiseResizeEvent(0));return b},_resizeTop:function(a){var b=a.element.lastHeight-a.y,d=a.self._validateResize(0,b,"vertical",a.element,"top"),e=a.element.y+a.y;if(d.result)return a.element.height()!==b&&(a.self._setResizeChildrenSize(b,"height"),a.element.height(b),a.element.css("top",e),a.self._raiseResizeEvent(0)),b},_raiseResizeEvent:function(c){var e=this._resizeEvents[c],d=a.Event(e),g={};g.width=parseInt(this.resizeTarget[0].style.width);g.height=parseInt(this.resizeTarget[0].style.height);d.args=g;0==c&&(e=this._resizeEvents[2],c=a.Event(e),c.args=g,this.resizeTarget.trigger(c));return this.resizeTarget.trigger(d)}}}(jqxBaseFramework);e.extend(e.jqx._jqxWindow.prototype,a)})(jqxBaseFramework);